(self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[]).push([[170],{48641:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>f});var o=a(49650),k=a(7485),_=a(34595),b=a.n(_),A=a(75683),W=a(35269);class f extends k.PureComponent{constructor(){super(...arguments),(0,o.Z)(this,"getClassName",()=>{const{className:U,type:me,size:be,corner:ne,disabled:ae}=this.props;return b()(U,"button-root",{["type-"+me]:me,["size-"+be]:be,["corner-"+ne]:ne,"is-disabled":ae})}),(0,o.Z)(this,"onButtonClick",U=>{if(this.props.disabled){U.preventDefault();return}const{onClick:me}=this.props;me&&me(U)}),(0,o.Z)(this,"onButtonMouseDown",U=>{if(this.props.disabled){U.preventDefault();return}const{onMouseDown:me}=this.props;me&&me(U)}),(0,o.Z)(this,"getChildrenNode",()=>(0,W.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const U=this.getClassName(),me=this.getChildrenNode();return(0,W.jsx)(A.S,{className:U,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,W.jsx)("div",{className:"btn-icon-text-container",children:me})})}}(0,o.Z)(f,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},54957:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>U});var o=a(49650),k=a(7485),_=a(34595),b=a.n(_),A=a(35269);function W(me){let{className:be,renderIconList:ne}=me;return(0,A.jsx)("span",{className:b()("btn-icon",be),children:ne.map((ae,Se)=>(0,A.jsx)("span",{className:"btn-icon-container",children:(0,A.jsx)(A.Fragment,{children:ae})},Se))})}const f=W;var z=a(75683);class U extends k.PureComponent{constructor(be){super(be),(0,o.Z)(this,"getClassName",()=>{const{className:ne,type:ae,size:Se,corner:Q,disabled:B,icon:F,children:M}=this.props;return b()(ne,"button-root",{["type-"+ae]:ae,["size-"+Se]:Se,["corner-"+Q]:Q,"is-disabled":B,"has-icon":F&&M,"only-icon":F&&M===void 0})}),(0,o.Z)(this,"onButtonClick",ne=>{if(this.props.disabled){ne.preventDefault();return}const{onClick:ae}=this.props;ae&&ae(ne)}),(0,o.Z)(this,"getIconNode",()=>(0,A.jsx)(f,{renderIconList:this.state.iconList,className:this.props.className})),(0,o.Z)(this,"getChildrenNode",()=>(0,A.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(be){let{icon:ne}=be;const{icon:ae}=this.props;ne!==ae&&this.setState({iconList:ae?[this.props.icon]:[]})}render(){const be=this.getClassName(),ne=this.getIconNode(),ae=this.getChildrenNode();return(0,A.jsx)(z.S,{className:be,onClick:this.onButtonClick,children:(0,A.jsxs)("div",{className:b()("btn-icon-text-container"),children:[ne,ae]})})}}(0,o.Z)(U,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},75683:(Te,ie,a)=>{"use strict";a.d(ie,{S:()=>_});var o=a(45090),k=a(58628);const _=o.ZP.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-1of337d-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],k.l.color_text_L2,k.l.color_bg_normal,k.l.color_split_line,k.l.color_bg_btn_normal_hover,k.l.color_bg_btn_normal_active,k.l.color_text_white,k.l.color_btn_primary_normal,k.l.color_btn_primary_hover,k.l.color_btn_primary_click,k.l.color_text_L2,k.l.color_bg_secondary_btn,k.l.color_btn_secondary_border_normal,k.l.color_btn_secondary_hover,k.l.color_btn_secondary_border_hover,k.l.color_btn_secondary_click,k.l.color_btn_primary_normal,k.l.color_btn_primary_hover,k.l.color_btn_primary_click,k.l.color_text_L2,k.l.color_text_L3,k.l.color_text_L1,k.l.color_btn_danger_normal,k.l.color_text_white,k.l.color_btn_danger_hover,k.l.color_btn_danger_click,k.l.color_text_L2,k.l.color_text_L3,k.l.color_text_L1)},29402:(Te,ie,a)=>{"use strict";a.d(ie,{L4:()=>W,S6:()=>A});var o=a(35269);const k="/mb-static/2308/loading.gif",_="/mb-static/2308/loading-mo.gif",b=f=>_jsx("img",{className:f.className,alt:"Loading...",src:f.isMockitt?_:k}),A=f=>(0,o.jsx)("img",{className:f.className,alt:"Loading...",src:ENV.IS_WONDER_SHARE?_:k}),W=f=>(0,o.jsx)("img",{className:f.className,alt:"Loading...",src:_})},58628:(Te,ie,a)=>{"use strict";a.d(ie,{l:()=>k});const o={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},k={color_btn_primary_normal:o.primary_blue_02,color_btn_primary_hover:o.primary_blue_03,color_btn_primary_click:o.primary_blue_01,color_btn_primary_disable:o.primary_blue_05,color_btn_secondary_click:o.primary_blue_06,color_btn_secondary_normal:o.primary_blue_08,color_btn_secondary_hover:o.primary_blue_07,color_btn_outline_click:o.primary_gray_07,color_btn_outline_normal:o.common_white,color_btn_outline_hover:o.primary_gray_08,color_bg_normal:o.common_white,color_bg_card:o.primary_blue_08,color_bg_menu_click:o.primary_blue_06,color_bg_card_hover:o.primary_gray_07,color_bg_menu_hover:o.primary_blue_07,color_bg_input_hover:o.primary_gray_08,color_bg_input_normal:o.primary_gray_09,color_bg_item_gray:o.primary_gray_08,color_bg_item_hover:o.primary_gray_09,color_bg_fill_common_blue:o.primary_blue_02,color_bg_menu_drag_border:o.primary_blue_06,color_bg_card_hover_fusion_gray:o.primary_gray_06,color_bg_card_hover_fusion_blue:o.primary_blue_05,color_bg_card_hover_fusion:o.primary_gray_06,color_bg_secondary_btn:o.primary_blue_08,color_bg_btn_normal_hover:o.primary_gray_08,color_bg_btn_normal_active:o.primary_gray_07,color_bg_icon_gray:o.primary_gray_04,color_bg_icon_hover:o.primary_gray_03,color_text_L1:o.primary_gray_01,color_text_L2:o.primary_gray_02,color_text_L3:o.primary_gray_03,color_text_L4:o.primary_gray_04,color_text_L5:o.primary_blue_02,color_text_white:o.common_white,color_text_blue:o.primary_blue_02,color_text_blue_hover:o.primary_blue_01,color_text_blue_active:o.primary_blue_03,color_text_disable_01:o.primary_gray_05,color_tab_line:o.primary_gray_06,color_split_line:o.primary_gray_07,color_border_blue_common:o.primary_blue_02,color_btn_border_normal:o.primary_blue_05,color_btn_border_disable:o.primary_blue_07,color_btn_secondary_border_normal:o.primary_blue_06,color_btn_secondary_border_hover:o.primary_blue_07,color_btn_danger_normal:o.primary_red_02,color_btn_danger_hover:o.primary_red_03,color_btn_danger_click:o.primary_red_01,color_btn_danger_disable:o.primary_red_04,color_bg_modal_item_header:o.primary_gray_09,color_bg_light_red:o.primary_red_05,color_alarm_common:o.primary_red_02}},6966:(Te,ie,a)=>{"use strict";a.d(ie,{$I:()=>f,Bh:()=>z,EE:()=>k,G:()=>M,Gf:()=>be,IP:()=>B,Mn:()=>me,NS:()=>ae,ZC:()=>ne,_E:()=>W,_Z:()=>Q,bX:()=>F,sE:()=>b,xi:()=>A});const o=(y,h)=>{const w=new Error("[NO SENTRY] "+y);return Object.assign(w,h),w},k=async y=>{const h=await fetch(y,{credentials:"same-origin"});let w;try{w=await h.json()}catch(P){w={}}if(!h.ok)throw o("[fetchGetJSON] failed with "+h.status+": "+y,{...w,status:h.status});return w},_=async(y,h)=>{const w=await fetch(y,{credentials:"same-origin",body:JSON.stringify(h)});let P;try{P=await w.json()}catch(L){P={}}if(!w.ok)throw o("[fetchGetJSON] failed with "+w.status+": "+y,{...P,status:w.status});return P},b=async y=>{const h=await fetch(y,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});let w;try{w=await h.json()}catch(P){w={}}if(!h.ok)throw o("[fetchGetJSON] failed with "+h.status+": "+y,{...w,status:h.status});return w},A=async y=>{let h=await fetch(y,{credentials:"same-origin"});const w=h.headers;if(!h.ok)throw o("[fetchGetJSON] failed with "+h.status+": "+y,{...await h.json(),status:h.status});return h=await h.json(),{result:h,headers:w}},W=async y=>{const h=await fetch(y,{method:"DELETE",credentials:"same-origin"});if(!h.ok)throw o("[fetchDeleteHead] failed with "+h.status+": "+y,{status:h.status})},f=async y=>{const h=await fetch(y,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});if(!h.ok)throw o("[fetchDeleteHead] failed with "+h.status+": "+y,{status:h.status})},z=async y=>{const h=await fetch(y,{method:"DELETE",credentials:"same-origin"});if(!h.ok)throw o("[fetchDeleteJSON] failed with "+h.status+": "+y,{...await h.json(),status:h.status});return h.json()},U=async(y,h)=>fetch(y,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(h)}),me=async(y,h)=>{const w=await U(y,h);if(!w.ok)throw o("[fetchPostHead] failed with "+w.status+": "+y,{status:w.status})},be=async(y,h)=>{const w=await fetch(y,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchPostJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},ne=async(y,h)=>{const w=await fetch(y,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchPostText] failed with "+w.status+": "+y,{status:w.status});return w.json()},ae=async(y,h)=>{const w=await fetch(y,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchPostJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},Se=async(y,h)=>{const w=await fetch(y,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:h});if(!w.ok)throw o("[fetchDeleteJSON] failed with "+w.status+": "+y,{url:y,status:w.status});return w.json()},Q=async(y,h)=>{const w=await fetch(y,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchPutHead] failed with "+w.status+": "+y,{status:w.status})},B=async(y,h)=>{const w=await fetch(y,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchPutJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},F=async(y,h)=>{const w=await fetch(y,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchPutJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},M=async(y,h)=>{const w=await fetch(y,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!w.ok)throw o("[fetchDeleteBodyHead] failed with "+w.status+": "+y)}},80966:(Te,ie,a)=>{"use strict";a.d(ie,{lQ:()=>ln,Qb:()=>Nr,od:()=>kr});var o={};if(a.r(o),a.d(o,{Decoder:()=>Un,Encoder:()=>Zs,PacketType:()=>Qe,protocol:()=>Vs}),a.j!=485)var k=a(87587);if(a.j!=485)var _=a(71114);const b=Object.create(null);b.open="0",b.close="1",b.ping="2",b.pong="3",b.message="4",b.upgrade="5",b.noop="6";const A=Object.create(null);Object.keys(b).forEach(s=>{A[b[s]]=s});const W={type:"error",data:"parser error"},f=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z=typeof ArrayBuffer=="function",U=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,me=(s,t,n)=>{let{type:d,data:S}=s;return f&&S instanceof Blob?t?n(S):be(S,n):z&&(S instanceof ArrayBuffer||U(S))?t?n(S):be(new Blob([S]),n):n(b[d]+(S||""))},be=(s,t)=>{const n=new FileReader;return n.onload=function(){const d=n.result.split(",")[1];t("b"+(d||""))},n.readAsDataURL(s)};function ne(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let ae;function Se(s,t){if(f&&s.data instanceof Blob)return s.data.arrayBuffer().then(ne).then(t);if(z&&(s.data instanceof ArrayBuffer||U(s.data)))return t(ne(s.data));me(s,!1,n=>{ae||(ae=new TextEncoder),t(ae.encode(n))})}const Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Q.length;s++)B[Q.charCodeAt(s)]=s;const F=s=>{let t=new Uint8Array(s),n,d=t.length,S="";for(n=0;n<d;n+=3)S+=Q[t[n]>>2],S+=Q[(t[n]&3)<<4|t[n+1]>>4],S+=Q[(t[n+1]&15)<<2|t[n+2]>>6],S+=Q[t[n+2]&63];return d%3===2?S=S.substring(0,S.length-1)+"=":d%3===1&&(S=S.substring(0,S.length-2)+"=="),S},M=s=>{let t=s.length*.75,n=s.length,d,S=0,H,ge,we,Ce;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);const Me=new ArrayBuffer(t),Ie=new Uint8Array(Me);for(d=0;d<n;d+=4)H=B[s.charCodeAt(d)],ge=B[s.charCodeAt(d+1)],we=B[s.charCodeAt(d+2)],Ce=B[s.charCodeAt(d+3)],Ie[S++]=H<<2|ge>>4,Ie[S++]=(ge&15)<<4|we>>2,Ie[S++]=(we&3)<<6|Ce&63;return Me},y=typeof ArrayBuffer=="function",h=(s,t)=>{if(typeof s!="string")return{type:"message",data:P(s,t)};const n=s.charAt(0);return n==="b"?{type:"message",data:w(s.substring(1),t)}:A[n]?s.length>1?{type:A[n],data:s.substring(1)}:{type:A[n]}:W},w=(s,t)=>{if(y){const n=M(s);return P(n,t)}else return{base64:!0,data:s}},P=(s,t)=>{switch(t){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},L="",j=(s,t)=>{const n=s.length,d=new Array(n);let S=0;s.forEach((H,ge)=>{me(H,!1,we=>{d[ge]=we,++S===n&&t(d.join(L))})})},T=(s,t)=>{const n=s.split(L),d=[];for(let S=0;S<n.length;S++){const H=h(n[S],t);if(d.push(H),H.type==="error")break}return d};function K(){return new TransformStream({transform(s,t){Se(s,n=>{const d=n.length;let S;if(d<126)S=new Uint8Array(1),new DataView(S.buffer).setUint8(0,d);else if(d<65536){S=new Uint8Array(3);const H=new DataView(S.buffer);H.setUint8(0,126),H.setUint16(1,d)}else{S=new Uint8Array(9);const H=new DataView(S.buffer);H.setUint8(0,127),H.setBigUint64(1,BigInt(d))}s.data&&typeof s.data!="string"&&(S[0]|=128),t.enqueue(S),t.enqueue(n)})}})}let u;function J(s){return s.reduce((t,n)=>t+n.length,0)}function se(s,t){if(s[0].length===t)return s.shift();const n=new Uint8Array(t);let d=0;for(let S=0;S<t;S++)n[S]=s[0][d++],d===s[0].length&&(s.shift(),d=0);return s.length&&d<s[0].length&&(s[0]=s[0].slice(d)),n}function de(s,t){u||(u=new TextDecoder);const n=[];let d=0,S=-1,H=!1;return new TransformStream({transform(ge,we){for(n.push(ge);;){if(d===0){if(J(n)<1)break;const Ce=se(n,1);H=(Ce[0]&128)===128,S=Ce[0]&127,S<126?d=3:S===126?d=1:d=2}else if(d===1){if(J(n)<2)break;const Ce=se(n,2);S=new DataView(Ce.buffer,Ce.byteOffset,Ce.length).getUint16(0),d=3}else if(d===2){if(J(n)<8)break;const Ce=se(n,8),Me=new DataView(Ce.buffer,Ce.byteOffset,Ce.length),Ie=Me.getUint32(0);if(Ie>Math.pow(2,21)-1){we.enqueue(W);break}S=Ie*Math.pow(2,32)+Me.getUint32(4),d=3}else{if(J(n)<S)break;const Ce=se(n,S);we.enqueue(h(H?Ce:u.decode(Ce),t)),d=0}if(S===0||S>s){we.enqueue(W);break}}}})}const C=4;function Y(s){if(s)return Ee(s)}function Ee(s){for(var t in Y.prototype)s[t]=Y.prototype[t];return s}Y.prototype.on=Y.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this},Y.prototype.once=function(s,t){function n(){this.off(s,n),t.apply(this,arguments)}return n.fn=t,this.on(s,n),this},Y.prototype.off=Y.prototype.removeListener=Y.prototype.removeAllListeners=Y.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+s];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var d,S=0;S<n.length;S++)if(d=n[S],d===t||d.fn===t){n.splice(S,1);break}return n.length===0&&delete this._callbacks["$"+s],this},Y.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+s],d=1;d<arguments.length;d++)t[d-1]=arguments[d];if(n){n=n.slice(0);for(var d=0,S=n.length;d<S;++d)n[d].apply(this,t)}return this},Y.prototype.emitReserved=Y.prototype.emit,Y.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]},Y.prototype.hasListeners=function(s){return!!this.listeners(s).length};const xe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function re(s){for(var t=arguments.length,n=new Array(t>1?t-1:0),d=1;d<t;d++)n[d-1]=arguments[d];return n.reduce((S,H)=>(s.hasOwnProperty(H)&&(S[H]=s[H]),S),{})}const G=xe.setTimeout,je=xe.clearTimeout;function Ue(s,t){t.useNativeTimers?(s.setTimeoutFn=G.bind(xe),s.clearTimeoutFn=je.bind(xe)):(s.setTimeoutFn=xe.setTimeout.bind(xe),s.clearTimeoutFn=xe.clearTimeout.bind(xe))}const Ve=1.33;function Oe(s){return typeof s=="string"?Re(s):Math.ceil((s.byteLength||s.size)*Ve)}function Re(s){let t=0,n=0;for(let d=0,S=s.length;d<S;d++)t=s.charCodeAt(d),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(d++,n+=4);return n}function qe(s){let t="";for(let n in s)s.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(s[n]));return t}function bt(s){let t={},n=s.split("&");for(let d=0,S=n.length;d<S;d++){let H=n[d].split("=");t[decodeURIComponent(H[0])]=decodeURIComponent(H[1])}return t}class Pt extends Error{constructor(t,n,d){super(t),this.description=n,this.context=d,this.type="TransportError"}}class Et extends Y{constructor(t){super(),this.writable=!1,Ue(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,d){return super.emitReserved("error",new Pt(t,n,d)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=h(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n){return n===void 0&&(n={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=qe(t);return n.length?"?"+n:""}}const It="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Tt=64,Ot={};let Ht=0,pt=0,ht;function Wt(s){let t="";do t=It[s%Tt]+t,s=Math.floor(s/Tt);while(s>0);return t}function Pn(s){let t=0;for(pt=0;pt<s.length;pt++)t=t*Tt+Ot[s.charAt(pt)];return t}function fn(){const s=Wt(+new Date);return s!==ht?(Ht=0,ht=s):s+"."+Wt(Ht++)}for(;pt<Tt;pt++)Ot[It[pt]]=pt;let yn=!1;try{yn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(s){}const bn=yn;function Xt(s){const t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||bn))return new XMLHttpRequest}catch(n){}if(!t)try{return new xe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function i(){}function On(){}const ee=function(){return new Xt({xdomain:!1}).responseType!=null}();class oe extends Et{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const d=location.protocol==="https:";let S=location.port;S||(S=d?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||S!==t.port}const n=t&&t.forceBase64;this.supportsBinary=ee&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let d=0;this.polling&&(d++,this.once("pollComplete",function(){--d||n()})),this.writable||(d++,this.once("drain",function(){--d||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=d=>{if(this.readyState==="opening"&&d.type==="open"&&this.onOpen(),d.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(d)};T(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,j(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=fn()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ye(this.uri(),t)}doWrite(t,n){const d=this.request({method:"POST",data:t});d.on("success",n),d.on("error",(S,H)=>{this.onError("xhr post error",S,H)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,d)=>{this.onError("xhr poll error",n,d)}),this.pollXhr=t}}class ye extends Y{constructor(t,n){super(),Ue(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=re(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const d=this.xhr=new Xt(n);try{d.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){d.setDisableHeaderCheck&&d.setDisableHeaderCheck(!0);for(let S in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(S)&&d.setRequestHeader(S,this.opts.extraHeaders[S])}}catch(S){}if(this.method==="POST")try{d.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(S){}try{d.setRequestHeader("Accept","*/*")}catch(S){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(d),"withCredentials"in d&&(d.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(d.timeout=this.opts.requestTimeout),d.onreadystatechange=()=>{var S;d.readyState===3&&((S=this.opts.cookieJar)===null||S===void 0||S.parseCookies(d)),d.readyState===4&&(d.status===200||d.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof d.status=="number"?d.status:0)},0))},d.send(this.data)}catch(S){this.setTimeoutFn(()=>{this.onError(S)},0);return}typeof document<"u"&&(this.index=ye.requestsCount++,ye.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=On,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete ye.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ye.requestsCount=0,ye.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ze);else if(typeof addEventListener=="function"){const s="onpagehide"in xe?"pagehide":"unload";addEventListener(s,Ze,!1)}}function Ze(){for(let s in ye.requests)ye.requests.hasOwnProperty(s)&&ye.requests[s].abort()}const nt=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),xt=xe.WebSocket||xe.MozWebSocket,un=!0,An="arraybuffer",os=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ts extends Et{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,d=os?{}:re(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(d.headers=this.opts.extraHeaders);try{this.ws=un&&!os?n?new xt(t,n):new xt(t):new xt(t,n,d)}catch(S){return this.emitReserved("error",S)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const d=t[n],S=n===t.length-1;me(d,this.supportsBinary,H=>{const ge={};un||(d.options&&(ge.compress=d.options.compress),this.opts.perMessageDeflate&&(typeof H=="string"?Buffer.byteLength(H):H.length)<this.opts.perMessageDeflate.threshold&&(ge.compress=!1));try{un?this.ws.send(H):this.ws.send(H,ge)}catch(we){}S&&nt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=fn()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!xt}}class Qt extends Et{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=de(Number.MAX_SAFE_INTEGER,this.socket.binaryType),d=t.readable.pipeThrough(n).getReader(),S=K();S.readable.pipeTo(t.writable),this.writer=S.writable.getWriter();const H=()=>{d.read().then(we=>{let{done:Ce,value:Me}=we;Ce||(this.onPacket(Me),H())}).catch(we=>{})};H();const ge={type:"open"};this.query.sid&&(ge.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(ge).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const d=t[n],S=n===t.length-1;this.writer.write(d).then(()=>{S&&nt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Tn={websocket:Ts,webtransport:Qt,polling:oe},Rs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Rn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vn(s){if(s.length>2e3)throw"URI too long";const t=s,n=s.indexOf("["),d=s.indexOf("]");n!=-1&&d!=-1&&(s=s.substring(0,n)+s.substring(n,d).replace(/:/g,";")+s.substring(d,s.length));let S=Rs.exec(s||""),H={},ge=14;for(;ge--;)H[Rn[ge]]=S[ge]||"";return n!=-1&&d!=-1&&(H.source=t,H.host=H.host.substring(1,H.host.length-1).replace(/;/g,":"),H.authority=H.authority.replace("[","").replace("]","").replace(/;/g,":"),H.ipv6uri=!0),H.pathNames=Ln(H,H.path),H.queryKey=Ls(H,H.query),H}function Ln(s,t){const n=/\/{2,9}/g,d=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&d.splice(0,1),t.slice(-1)=="/"&&d.splice(d.length-1,1),d}function Ls(s,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,S,H){S&&(n[S]=H)}),n}class Bt extends Y{constructor(t,n){n===void 0&&(n={}),super(),this.binaryType=An,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=vn(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=vn(n.host).host),Ue(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bt(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=C,n.transport=t,this.id&&(n.sid=this.id);const d=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tn[t](d)}open(){let t;if(this.opts.rememberUpgrade&&Bt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),d=!1;Bt.priorWebsocketSuccess=!1;const S=()=>{d||(n.send([{type:"ping",data:"probe"}]),n.once("packet",De=>{if(!d)if(De.type==="pong"&&De.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Bt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{d||this.readyState!=="closed"&&(Ie(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const le=new Error("probe error");le.transport=n.name,this.emitReserved("upgradeError",le)}}))};function H(){d||(d=!0,Ie(),n.close(),n=null)}const ge=De=>{const le=new Error("probe error: "+De);le.transport=n.name,H(),this.emitReserved("upgradeError",le)};function we(){ge("transport closed")}function Ce(){ge("socket closed")}function Me(De){n&&De.name!==n.name&&H()}const Ie=()=>{n.removeListener("open",S),n.removeListener("error",ge),n.removeListener("close",we),this.off("close",Ce),this.off("upgrading",Me)};n.once("open",S),n.once("error",ge),n.once("close",we),this.once("close",Ce),this.once("upgrading",Me),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{d||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Bt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let d=0;d<this.writeBuffer.length;d++){const S=this.writeBuffer[d].data;if(S&&(n+=Oe(S)),d>0&&n>this.maxPayload)return this.writeBuffer.slice(0,d);n+=2}return this.writeBuffer}write(t,n,d){return this.sendPacket("message",t,n,d),this}send(t,n,d){return this.sendPacket("message",t,n,d),this}sendPacket(t,n,d,S){if(typeof n=="function"&&(S=n,n=void 0),typeof d=="function"&&(S=d,d=null),this.readyState==="closing"||this.readyState==="closed")return;d=d||{},d.compress=d.compress!==!1;const H={type:t,data:n,options:d};this.emitReserved("packetCreate",H),this.writeBuffer.push(H),S&&this.once("flush",S),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},d=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?d():t()}):this.upgrading?d():t()),this}onError(t){Bt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let d=0;const S=t.length;for(;d<S;d++)~this.transports.indexOf(t[d])&&n.push(t[d]);return n}}Bt.protocol=C;const vt=Bt.protocol;function Ds(s,t,n){t===void 0&&(t="");let d=s;n=n||typeof location<"u"&&location,s==null&&(s=n.protocol+"//"+n.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=n.protocol+s:s=n.host+s),/^(https?|wss?):\/\//.test(s)||(typeof n<"u"?s=n.protocol+"//"+s:s="https://"+s),d=vn(s)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";const H=d.host.indexOf(":")!==-1?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+H+":"+d.port+t,d.href=d.protocol+"://"+H+(n&&n.port===d.port?"":":"+d.port),d}const pn=typeof ArrayBuffer=="function",Fs=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,is=Object.prototype.toString,zs=typeof Blob=="function"||typeof Blob<"u"&&is.call(Blob)==="[object BlobConstructor]",Bs=typeof File=="function"||typeof File<"u"&&is.call(File)==="[object FileConstructor]";function Dn(s){return pn&&(s instanceof ArrayBuffer||Fs(s))||zs&&s instanceof Blob||Bs&&s instanceof File}function Ut(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let n=0,d=s.length;n<d;n++)if(Ut(s[n]))return!0;return!1}if(Dn(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Ut(s.toJSON(),!0);for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&Ut(s[n]))return!0;return!1}function Us(s){const t=[],n=s.data,d=s;return d.data=Fn(n,t),d.attachments=t.length,{packet:d,buffers:t}}function Fn(s,t){if(!s)return s;if(Dn(s)){const n={_placeholder:!0,num:t.length};return t.push(s),n}else if(Array.isArray(s)){const n=new Array(s.length);for(let d=0;d<s.length;d++)n[d]=Fn(s[d],t);return n}else if(typeof s=="object"&&!(s instanceof Date)){const n={};for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=Fn(s[d],t));return n}return s}function zn(s,t){return s.data=$t(s.data,t),delete s.attachments,s}function $t(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let n=0;n<s.length;n++)s[n]=$t(s[n],t);else if(typeof s=="object")for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(s[n]=$t(s[n],t));return s}const Bn=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vs=5;var Qe;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Qe||(Qe={}));class Zs{constructor(t){this.replacer=t}encode(t){return(t.type===Qe.EVENT||t.type===Qe.ACK)&&Ut(t)?this.encodeAsBinary({type:t.type===Qe.EVENT?Qe.BINARY_EVENT:Qe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Qe.BINARY_EVENT||t.type===Qe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Us(t),d=this.encodeAsString(n.packet),S=n.buffers;return S.unshift(d),S}}function as(s){return Object.prototype.toString.call(s)==="[object Object]"}class Un extends Y{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const d=n.type===Qe.BINARY_EVENT;d||n.type===Qe.BINARY_ACK?(n.type=d?Qe.EVENT:Qe.ACK,this.reconstructor=new Hs(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Dn(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const d={type:Number(t.charAt(0))};if(Qe[d.type]===void 0)throw new Error("unknown packet type "+d.type);if(d.type===Qe.BINARY_EVENT||d.type===Qe.BINARY_ACK){const H=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const ge=t.substring(H,n);if(ge!=Number(ge)||t.charAt(n)!=="-")throw new Error("Illegal attachments");d.attachments=Number(ge)}if(t.charAt(n+1)==="/"){const H=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););d.nsp=t.substring(H,n)}else d.nsp="/";const S=t.charAt(n+1);if(S!==""&&Number(S)==S){const H=n+1;for(;++n;){const ge=t.charAt(n);if(ge==null||Number(ge)!=ge){--n;break}if(n===t.length)break}d.id=Number(t.substring(H,n+1))}if(t.charAt(++n)){const H=this.tryParse(t.substr(n));if(Un.isPayloadValid(d.type,H))d.data=H;else throw new Error("invalid payload")}return d}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Qe.CONNECT:return as(n);case Qe.DISCONNECT:return n===void 0;case Qe.CONNECT_ERROR:return typeof n=="string"||as(n);case Qe.EVENT:case Qe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Bn.indexOf(n[0])===-1);case Qe.ACK:case Qe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Hs{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=zn(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Rt(s,t,n){return s.on(t,n),function(){s.off(t,n)}}const cs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Vt extends Y{constructor(t,n,d){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,d&&d.auth&&(this.auth=d.auth),this._opts=Object.assign({},d),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rt(t,"open",this.onopen.bind(this)),Rt(t,"packet",this.onpacket.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,n=new Array(t),d=0;d<t;d++)n[d]=arguments[d];return n.unshift("message"),this.emit.apply(this,n),this}emit(t){if(cs.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var n=arguments.length,d=new Array(n>1?n-1:0),S=1;S<n;S++)d[S-1]=arguments[S];if(d.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(d),this;const H={type:Qe.EVENT,data:d};if(H.options={},H.options.compress=this.flags.compress!==!1,typeof d[d.length-1]=="function"){const Ce=this.ids++,Me=d.pop();this._registerAckCallback(Ce,Me),H.id=Ce}const ge=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!ge||!this.connected)||(this.connected?(this.notifyOutgoingListeners(H),this.packet(H)):this.sendBuffer.push(H)),this.flags={},this}_registerAckCallback(t,n){var d=this,S;const H=(S=this.flags.timeout)!==null&&S!==void 0?S:this._opts.ackTimeout;if(H===void 0){this.acks[t]=n;return}const ge=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let we=0;we<this.sendBuffer.length;we++)this.sendBuffer[we].id===t&&this.sendBuffer.splice(we,1);n.call(this,new Error("operation has timed out"))},H);this.acks[t]=function(){d.io.clearTimeoutFn(ge);for(var we=arguments.length,Ce=new Array(we),Me=0;Me<we;Me++)Ce[Me]=arguments[Me];n.apply(d,[null,...Ce])}}emitWithAck(t){for(var n=arguments.length,d=new Array(n>1?n-1:0),S=1;S<n;S++)d[S-1]=arguments[S];const H=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((ge,we)=>{d.push((Ce,Me)=>H?Ce?we(Ce):ge(Me):ge(Ce)),this.emit(t,...d)})}_addToQueue(t){var n=this;let d;typeof t[t.length-1]=="function"&&(d=t.pop());const S={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(H){if(S!==n._queue[0])return;if(H!==null)S.tryCount>n._opts.retries&&(n._queue.shift(),d&&d(H));else if(n._queue.shift(),d){for(var we=arguments.length,Ce=new Array(we>1?we-1:0),Me=1;Me<we;Me++)Ce[Me-1]=arguments[Me];d(null,...Ce)}return S.pending=!1,n._drainQueue()}),this._queue.push(S),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Qe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Qe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qe.EVENT:case Qe.BINARY_EVENT:this.onevent(t);break;case Qe.ACK:case Qe.BINARY_ACK:this.onack(t);break;case Qe.DISCONNECT:this.ondisconnect();break;case Qe.CONNECT_ERROR:this.destroy();const d=new Error(t.data.message);d.data=t.data.data,this.emitReserved("connect_error",d);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const d of n)d.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let d=!1;return function(){if(!d){d=!0;for(var S=arguments.length,H=new Array(S),ge=0;ge<S;ge++)H[ge]=arguments[ge];n.packet({type:Qe.ACK,id:t,data:H})}}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let d=0;d<n.length;d++)if(t===n[d])return n.splice(d,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let d=0;d<n.length;d++)if(t===n[d])return n.splice(d,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const d of n)d.apply(this,t.data)}}}function en(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}en.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*s);s=Math.floor(t*10)&1?s+n:s-n}return Math.min(s,this.max)|0},en.prototype.reset=function(){this.attempts=0},en.prototype.setMin=function(s){this.ms=s},en.prototype.setMax=function(s){this.max=s},en.prototype.setJitter=function(s){this.jitter=s};class xn extends Y{constructor(t,n){var d;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ue(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((d=n.randomizationFactor)!==null&&d!==void 0?d:.5),this.backoff=new en({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const S=n.parser||o;this.encoder=new S.Encoder,this.decoder=new S.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Bt(this.uri,this.opts);const n=this.engine,d=this;this._readyState="opening",this.skipReconnect=!1;const S=Rt(n,"open",function(){d.onopen(),t&&t()}),H=we=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",we),t?t(we):this.maybeReconnectOnOpen()},ge=Rt(n,"error",H);if(this._timeout!==!1){const we=this._timeout,Ce=this.setTimeoutFn(()=>{S(),H(new Error("timeout")),n.close()},we);this.opts.autoUnref&&Ce.unref(),this.subs.push(()=>{this.clearTimeoutFn(Ce)})}return this.subs.push(S),this.subs.push(ge),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Rt(t,"ping",this.onping.bind(this)),Rt(t,"data",this.ondata.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this)),Rt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){nt(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let d=this.nsps[t];return d?this._autoConnect&&!d.active&&d.connect():(d=new Vt(this,t,n),this.nsps[t]=d),d}_destroy(t){const n=Object.keys(this.nsps);for(const d of n)if(this.nsps[d].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let d=0;d<n.length;d++)this.engine.write(n[d],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const d=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(S=>{S?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",S)):t.onreconnect()}))},n);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const hn={};function Vn(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};const n=Ds(s,t.path||"/socket.io"),d=n.source,S=n.id,H=n.path,ge=hn[S]&&H in hn[S].nsps,we=t.forceNew||t["force new connection"]||t.multiplex===!1||ge;let Ce;return we?Ce=new xn(d,t):(hn[S]||(hn[S]=new xn(d,t)),Ce=hn[S]),n.query&&!t.query&&(t.query=n.queryKey),Ce.socket(n.path,t)}if(Object.assign(Vn,{Manager:xn,Socket:Vt,io:Vn,connect:Vn}),a.j!=485)var ls=a(63828);if(a.j!=485)var gt=a(81697);if(a.j!=485)var Mt=a(60074);if(a.j!=485)var Ws=a(71090);const Zn=a.j!=485?2*1e3:null,_n=a.j!=485?24*1e3:null,Hn=a.j!=485?48*1e3:null,wn=()=>{},Wn=s=>{(0,Mt.Q)("SKT-QUE",s)},Ks=()=>({destroy:wn,reset:wn,emitAsync:Kn,emitLossy:wn,reqRoomAsync:()=>Promise.resolve(),getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),Kn=async(s,t)=>({type:s,payload:t,isDummy:!0}),ds=s=>{let{query:{uId:t,fURL:n=globalThis.location.href.slice(0,128),uTag:d=gt.ck,vTag:S=Ws.i},lossyListenerMap:H={},queueListenerMap:ge={},socketUrl:we=globalThis.location.origin,socketPath:Ce=gt.z3,usePolling:Me=!1}=s;const Ie=(0,ls.hF)();let De,le=(0,k.vH)(),ve=0,Ne=us,Fe=null;const We=()=>{De!==void 0&&(De.close(),De=void 0,le=(0,k.vH)(),tt=!1,Fe&&clearTimeout(Fe),Fe=null)},ct=()=>{We();const Ae=new xn(we,{path:Ce,query:{uId:t,fURL:n,uTag:d,vTag:S},transports:Me?["polling","websocket"]:["websocket"],timeout:Hn,reconnectionDelay:Math.round((Zn+_n)/2),reconnectionDelayMax:Hn,randomizationFactor:(_n-Zn)/(_n+Zn),closeOnBeforeunload:!1}).socket(gt.Or);Ae.on("connect_error",Ge=>{console.log("[socket] connect_error",Ge),Ge.message.includes(gt.Jc)&&(We(),Ie.dispatchEvent({type:gt.E$,payload:{error:Ge}})),Ie.dispatchEvent({type:gt.Rm,payload:{error:Ge}})}),Ae.on("connect",async()=>{console.log("[socket] connect");{const Ge=Date.now(),Ye=await _t(gt.hD),$e=Date.now();ve=Ye-(Ge+$e)*.5}Ne!==us&&await _t(gt.Cu,Ne),Fe=(0,_.Q3)(()=>{!De||!De.connected||tt||ct()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Ie.dispatchEvent({type:gt.FC}),le.resolve()});{let Ge=Promise.resolve();const Ye=$e=>{const ot=Ge.then($e);return Ge=ot.then(wn,Wn),ot};Ie.clear();for(const[$e,ot]of Object.entries(H))Ae.on($e,mt=>ot({type:$e,payload:mt})),Ie.addEventListener($e,mt=>{let{payload:Lt}=mt;return ot({type:$e,payload:Lt})});for(const[$e,ot]of Object.entries(ge))Ae.on($e,mt=>Ye(()=>ot({type:$e,payload:mt}))),Ie.addEventListener($e,mt=>{let{payload:Lt}=mt;return Ye(()=>ot({type:$e,payload:Lt}))})}De=Ae};let tt=!1;const _t=(Ke,Ae)=>new Promise(Ge=>{De.emit(Ke,Ae,Ge),tt=!0}).then(Ge=>{tt=!1;const{error:Ye,result:$e}=Ge;if(Ye!==void 0)throw Object.assign(new Error(typeof Ye=="object"&&Ye.message||"SKT-USR error"),Ye);return $e}),yt=(Ke,Ae)=>{De.volatile.emit(Ke,Ae)},st=async Ke=>{await _t(gt.Cu,Ke),Ne=Ke};return ct(),{destroy:We,reset:ct,emitAsync:_t,emitLossy:yt,reqRoomAsync:st,getIsConnected:()=>De&&De.connected||!1,getSocketId:()=>De&&De.id||"",getReadyPromise:()=>le.promise,getOffsetMsec:()=>ve}},us=a.j!=485?[[],[],[]]:null;var tn=a(4423),St=a(6515),ps=a(77101),ft=a(91320);if(a.j!=485)var lt=a(66234);if(a.j!=485)var Ct=a(76336);var nn=a(21630);const Sn=0,Zt={cDebugMin:Sn,cCmtPack:Sn+1,cCmtThread:Sn+2,cCmtContent:Sn+3,cDebugMax:35},sn=(0,nn.$)("cmt-type",Zt),et=sn.pack("cCmtPack"),hs=sn.pack("cCmtThread"),Cn=sn.pack("cCmtContent"),Sr=new Set(["cCmtPack","cCmtThread","cCmtContent"]),Cr=new Set([et,hs,Cn]);if(a.j!=485)var Gn=a(80693);const Gs={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},$n=(0,nn.$)("DraftBlockType",Gs),ms={left:0,center:1,right:2,justify:3},Jt=(0,nn.$)("DraftAlignment",ms),gs={LINK:0,IMAGE:1},fs=(0,nn.$)("DraftEntityMapType",gs),$s={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},ys=(0,nn.$)("DraftEntityMapMutability",$s),Js={_blank:0,_self:1},bs=(0,nn.$)("DraftLinkTargetOption",Js),Ys=s=>{const t={};return Object.keys(s).forEach(n=>{const{type:d,mutability:S,data:H}=s[n],ge=[fs.pack(d),ys.pack(S)],we=[];d==="LINK"?(ge.push(bs.pack(H.targetOption)),we.push(H.url||"")):d==="IMAGE"&&(ge.push((0,lt.xd)(H.width),Jt.pack(H.alignment)),we.push(H.src||"",H.alt||"")),t["e/"+n]=[ge.join(Ct.Kt),...we]}),t},qs=s=>{const t={};for(const n of Object.keys(s)){if(!n.startsWith("e/"))continue;const d=n.split("e/")[1],[S,...H]=s[n],[ge,we,Ce,Me]=S.split(Ct.Kt),Ie=fs.parse(ge),De=ys.parse(we);t[d]=Ie==="LINK"?{type:Ie,mutability:De,data:{url:H[0],targetOption:bs.parse(Ce)}}:{type:Ie,mutability:De,data:{src:H[0],alt:H[1],width:(0,lt.nZ)(Ce),alignment:Jt.parse(Me)}}}return t},Xs=s=>{const t={};return Object.keys(s).forEach(n=>{const{text:d,type:S,depth:H,inlineStyleRanges:ge,entityRanges:we,data:{textAlign:Ce,textIndent:Me,paraSpacing:Ie}}=s[n],De=[$n.packDef(S,"unstyled"),(0,lt.xd)(H),Ce?Jt.pack(Ce):"",Me!==void 0?(0,lt.xd)(Me):"",Ie!==void 0?(0,ft.DF)(Ie):""];t["b/"+n]=[De.join(Ct.Kt),d,ge.map(le=>{let{offset:ve,length:Ne,style:Fe}=le;return tr(ve,Ne,Fe)}),we.map(le=>{let{offset:ve,length:Ne,key:Fe}=le;return Qs(ve,Ne,Fe)})]}),t},Qs=(s,t,n)=>""+(0,lt.xd)(s)+Ct.Kt+(0,lt.xd)(t)+Ct.Kt+(0,lt.xd)(n),er=s=>{const t=s.indexOf(Ct.Kt),n=s.indexOf(Ct.Kt,t+1);return[(0,lt.nZ)(s.slice(0,t)),(0,lt.nZ)(s.slice(t+1,n)),(0,lt.nZ)(s.slice(n+1))]},tr=(s,t,n)=>""+(0,lt.xd)(s)+Ct.Kt+(0,lt.xd)(t)+Ct.Kt+n,nr=s=>{const t=s.indexOf(Ct.Kt),n=s.indexOf(Ct.Kt,t+1);return[(0,lt.nZ)(s.slice(0,t)),(0,lt.nZ)(s.slice(t+1,n)),s.slice(n+1)]},sr=s=>{const t={};for(const n of Object.keys(s)){if(!n.startsWith("b/"))continue;const d=n.split("b/")[1],[S,H,ge,we]=s[n],[Ce,Me,Ie,De,le]=S.split(Ct.Kt),ve={};Ie!==""&&(ve.textAlign=Jt.parse(Ie)),De!==""&&(ve.textIndent=(0,lt.nZ)(De)),le!==""&&le!==void 0&&(ve.paraSpacing=(0,ft.Ci)(le)),t[d]={text:H,type:$n.parse(Ce),depth:(0,lt.nZ)(Me),inlineStyleRanges:ge.map(Ne=>{const[Fe,We,ct]=nr(Ne);return{offset:Fe,length:We,style:ct}}),entityRanges:we.map(Ne=>{const[Fe,We,ct]=er(Ne);return{offset:Fe,length:We,key:ct}}),data:ve}}return t},vs=s=>{let{message:t}=s;const{blocks:n={},entityMap:d={}}=t;return{...Xs(n),...Ys(d)}},xs=s=>({message:{blocks:sr(s),entityMap:qs(s)}}),Jn=s=>({T:sn.pack(s.type),IC:[(0,lt.xd)(s.index),(0,lt.hc)(s.ctime)].join(Ct.Kt)}),Yn=s=>{const[t,n]=s.IC.split(Ct.Kt);return{type:sn.parse(s.T),index:(0,lt.nZ)(t),ctime:(0,lt.sO)(n)}},rr=s=>({...Jn(s),R:s.refKey}),or=s=>({...Yn(s),refKey:s.R}),ir=s=>({...Jn(s),...vs(s),xy:(0,ft.jq)(s.x,s.y),wh:(0,ft.jq)(s.w,s.h),z:(0,ft.DF)(s.z),userInfo:s.userInfo,userId:(0,ft.DF)(s.userId),mtime:(0,lt.hc)(s.mtime),isCompleted:(0,Gn.aY)(s.isCompleted),canvasVec2:s.canvasVec2?{x:(0,ft.DF)(s.canvasVec2.x),y:(0,ft.DF)(s.canvasVec2.y)}:s.canvasVec2,canvasCid:s.canvasCid,threadType:s.threadType}),ar=s=>{const[t,n]=(0,ft.dn)(s.xy),[d,S]=(0,ft.dn)(s.wh),H=s.canvasVec2?(0,ft.Ci)(s.canvasVec2.x):void 0,ge=s.canvasVec2?(0,ft.Ci)(s.canvasVec2.y):void 0,we=(0,ft.Ci)(s.z);return{...Yn(s),...xs(s),x:t,y:n,w:d,h:S,z:we,mtime:(0,lt.sO)(s.mtime),userInfo:s.userInfo,userId:(0,ft.Ci)(s.userId),isCompleted:(0,Gn.YI)(s.isCompleted),canvasCid:s.canvasCid,threadType:s.threadType,canvasVec2:H&&ge?{x:H,y:ge}:void 0}},qn=s=>({...Jn(s),...vs(s),mtime:(0,lt.hc)(s.mtime),userInfo:s.userInfo}),_s=s=>({...Yn(s),...xs(s),mtime:(0,lt.sO)(s.mtime),userInfo:s.userInfo}),Xn=s=>{try{switch(s.T){case void 0:return s;case et:return or(s);case hs:return ar(s);case Cn:return _s(s);default:throw new Error("invalid attr: "+s.T+" -> "+sn.parse(s.T))}}catch(t){throw(0,Mt.Q)("toP2CHA badDat",t,s),t}},ws=s=>{try{switch(s.type){case void 0:return s;case"cCmtPack":return rr(s);case"cCmtThread":return ir(s);case"cCmtContent":return qn(s);default:throw new Error("invalid attr: "+s.type)}}catch(t){throw(0,Mt.Q)("toP2CCA badDat",t,s),t}};if(a.j!=485)var cr=a(9390);const rn=(s,t)=>{const n=we=>{const Ce=s(we);return Ce===void 0?[]:Ce.sub.map(Me=>s(Me))},d=(0,cr.Ir)(we=>we.sub.map(Ce=>s(Ce))),S=(we,Ce)=>{const Me=s(we);Me!==void 0&&(Ce(Me)||Me.sub.length!==0&&d(Me,Ce))};return{getHotItem:s,getSubHotItemList:n,walkHotItemSubtree:S,isTrashed:we=>(0,St.z4)(we,t.getFlatTree()),__devHotTree:function(we){we===void 0&&(we=St.$3);const Ce=new Map,Me=Ie=>{let De=Ce.get(Ie);return De===void 0&&Ce.set(Ie,De={}),De};return S(we,Ie=>{Me(Ie.sup)[Ie.key]=Ie.hotAttr,Ie.sub.length!==0&&(Me(Ie.sup)[Ie.key+" SUB"]=Me(Ie.key))}),Me(s(we).sup)}}};if(a.j!=485)var lr=a(53705);if(a.j!=485)var Qn=a(93834);var dr=a(96293),At=a(2150);if(a.j!=485)var Ss=a(60264);const ur=(s,t,n)=>{const d=le=>{if(le===void 0||le.length===0)return;const ve=new Set;for(const Fe of le)ve.add(Fe.key),Fe.type==="I"&&ve.add(Fe.keySup);const Ne=(0,St.O2)([...ve].filter(St.w3),n.getFlatTree());s({type:Ss.K,payload:Ne})},S=le=>{const ve=[],Ne=le(ve);return d(n.applyDiff(ve)),Ne},H=le=>S(ve=>{const Ne=[],Fe=le(Ne);for(const We of Ne)We.type==="update"?Me(We.hotItem,ve):We.type==="delete"&&Ie(We.key,ve);return Fe}),ge=function(){const le=[],ve=[];let Ne,Fe=!1;for(var We=arguments.length,ct=new Array(We),tt=0;tt<We;tt++)ct[tt]=arguments[tt];for(const _t of ct){Ne=_t(le);const yt=n.applyDiff(le);yt!==void 0&&(ve.push(...yt),Fe?n.combineLastUndo():Fe=!0)}return d(ve),Ne},we=function(){for(var le=arguments.length,ve=new Array(le),Ne=0;Ne<le;Ne++)ve[Ne]=arguments[Ne];const Fe=ve.map(We=>ct=>{const tt=[],_t=We(tt);for(const yt of tt)yt.type==="update"?Me(yt.hotItem,ct):yt.type==="delete"&&Ie(yt.key,ct);return _t});return ge(...Fe)},Ce=(le,ve)=>{for(const Ne of Object.keys(le)){const Fe=le[Ne],We=ve[Ne];Fe!==We&&(0,lr.$N)(Fe)&&(0,lr.$N)(We)&&JSON.stringify(Fe)===JSON.stringify(We)&&(le[Ne]=We)}},Me=(le,ve)=>{const Ne=(0,St.c6)(le.key,n.getFlatTree());if(Ne===void 0)ve.push({type:At.P6,key:le.key,keySup:le.sup}),ve.push({type:At.q$,key:le.key,attrDiff:ws(le.hotAttr)});else{Ne.sup!==le.sup&&ve.push({type:At.P6,key:le.key,keySup:le.sup});const Fe=ws(le.hotAttr);Ce(Fe,Ne.attr);const We=(0,dr.O)(Fe,Ne.attr);We!==void 0&&ve.push({type:At.q$,key:le.key,attrDiff:We})}},Ie=(le,ve)=>{n.getFlatItem(le)&&ve.push({type:At.P6,key:le,keySup:St.bx})},De=(le,ve,Ne)=>{n.getFlatItem(le)&&n.getFlatItem(ve)&&Ne.push({type:At.P6,key:le,keySup:ve})};return{_edit:S,_editAction:H,_editBatch:ge,_editActionBatch:we,onRemotePatchList:le=>{const ve=[];for(const Ne of le){const Fe=n.applyDiffRemote(Ne.diffList,Ne.clock);Fe!==void 0&&ve.push(...Fe)}d(ve)},updateHotItem:le=>S(ve=>{Me(le,ve)}),updateHotItemBatch:le=>S(ve=>{for(const Ne of le)Me(Ne,ve)}),deleteHotItem:le=>S(ve=>{Ie(le,ve)}),deleteHotItemBatch:le=>S(ve=>{for(const Ne of le)Ie(Ne,ve)}),moveHotItem:(le,ve)=>S(Ne=>{De(le,ve,Ne)}),moveHotItemBatch:le=>S(ve=>{for(const[Ne,Fe]of le)De(Ne,Fe,ve)}),editHotItemBatch:le=>S(ve=>{for(const Ne of le)Ne.type==="update"?Me(Ne.hotItem,ve):Ne.type==="delete"&&Ie(Ne.key,ve)}),updateHotAttrMerge:(le,ve)=>S(Ne=>{const Fe=t(le);if(Fe===void 0)throw new Error("no item: "+le);Me((0,Qn.iA)(Fe,"hotAttr",{...Fe.hotAttr,...ve}),Ne)}),updateHotAttrKV:(le,ve,Ne)=>S(Fe=>{const We=t(le);if(We===void 0)throw new Error("no item: "+le);Me((0,Qn.iA)(We,"hotAttr",(0,Qn.iA)(We.hotAttr,ve,Ne)),Fe)}),canUndo:n.canUndo,canRedo:n.canRedo,combineMergeMark:n.combineMergeMark,combineMerge:n.combineMerge,undo:()=>{d(n.undo())},redo:()=>{d(n.redo())}}};var kn=a(50436);const pr=s=>{const t=(0,ls.Dt)(),n=t.subscribe,d=t.unsubscribe,S=Cs(s),H=rn(S,s),ge=()=>hr(s.getFlatTree),we=ur(t.send,S,s),{_edit:Ce,_editAction:Me,_editBatch:Ie,_editActionBatch:De,...le}=we;return{subscribe:n,unsubscribe:d,...H,createRoCmtStore:ge,...le}},Cs=s=>t=>{const n=s.getFlatTree().get(t);if(n===void 0)return;const d=s.getOCI(n);return d.hotItem===void 0&&(d.hotItem={key:n.key,sup:n.sup,sub:n.sub,hotAttr:Xn(n.attr)}),d.hotItem},hr=s=>{const t=(0,kn.$H)(s(),(0,tn.LQ)({})),n=()=>t.getFlatTree()!==s(),d=()=>t.sync(s()),S=Cs(t),H=rn(S,t);return{hasUpdate:n,syncUpdate:d,...H}};var ks=a(20100);if(a.j!=485)var mr=a(30388);var on=a(58161),Ns=a(82940);const gr=s=>{const[t,n,d]=s,S=()=>(0,St.Z0)((0,Ns.rm)(t.tre)),H=function(Ie){Ie===void 0&&(Ie=-1);const De=[];for(const{pbx:le,t10s:ve}of n){if(ve<Ie)continue;const Ne=(0,Ns.rm)(le);for(const Fe of(0,on.sd)(Ne))De.push(Fe)}for(const{pch:le,t10s:ve}of d)ve<Ie||De.push(le);return De},ge=function(Ie){Ie===void 0&&(Ie=-1);const De=[];for(const le of H(Ie))De.push((0,At.G8)(le));return De},we=function(Ie){Ie===void 0&&(Ie=-1);const De=[];for(const le of H(Ie)){const{clock:ve,diffList:Ne}=(0,At.G8)(le);De.push([(0,tn.I_)(ve).slice(5),Ne,le])}return De};return{getParsedTre:S,getPchList:H,getPatchList:ge,getReadablePatchList:we,filterReadablePatchList:function(Ie,De){return De===void 0&&(De=-1),we(De).filter(le=>{let[,ve,Ne]=le;return Ne.includes(Ie)})},getMergedReadablePatchList:function(Ie,De){Ie===void 0&&(Ie=-1),De===void 0&&(De=16);const le=[];let ve={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Ne=Fe=>{ve.timePrefix!==Fe&&(ve.timePrefix!==""&&le.push(ve.timePrefix.slice(5)+"..Z I*"+(ve.countDI||"-")+" A*"+(ve.countDA||"-")+" ["+[...ve.userIdSet].join(",")+"]"),ve={timePrefix:Fe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Fe,We],diffList:ct}of ge(Ie)){const tt=new Date(Fe).toISOString().slice(0,De);Ne(tt),ve.userIdSet.add(We);for(const{type:_t}of ct)_t===At.P6?ve.countDI++:ve.countDA++}return Ne(""),le},flpak:s}},es=s=>Math.floor(s/10/1e3),ts=s=>{const[t]=(0,At.$i)(s);return es(t)},Es=s=>{let[t,n,d]=s;return d.length!==0?d[d.length-1].t10s:n.length!==0?n[n.length-1].t10s:t.t10s};if(a.j!=485)var an=a(35398);var Nn=a(67833),En=a(71902);const ns=(s,t)=>{let n=!1,d=0,S=0;const H=new Map;let ge=[],we,Ce,Me,Ie;const De=()=>{Ce===void 0&&console.log("sync|onSocketConnect")},le=Ae=>{let[Ge,,Ye]=Ae;if(Ge!==s)return!1;const $e=(0,on.Ue)(Ye);for(const ot of $e)ge.push([ot,ts(ot),!1]);return Me!==void 0&&Me($e.map(ot=>(0,At.G8)(ot))),!0},ve=async(Ae,Ge)=>{if(Ce!==void 0)throw new Error("no re-init flatStore");we=Ae,Ie=Ge;const Ye=await Ie(s);{const wt="INSP-INIT-FLPAK";location.hash.includes(wt)&&Object.assign(globalThis,{[wt+"/"+s]:{...gr(Ye),__flpakKey:s,__name:t}})}d=Es(Ye);const $e=(0,kn.XD)(),ot=await(0,Nn.Ys)(En.V,Ye,$e.mutateTFAAFNB);let mt=St.DO;{const wt="BYPASS-FLPAK";location.hash.includes(wt)&&(mt=he=>console.warn("["+wt+"|vFT]",he))}for(const[wt,he,He]of ge)!He&&d>=he||(0,on.kA)(ot,wt,$e.mutateTFAAFNB);Ce=(0,kn.$H)(ot,Ae,(wt,he,He)=>{if(n&&console.log("flat|onPatch",{diffList:wt,clock:he,isLocal:He}),ge.push([(0,At.ZC)({diffList:wt,clock:he}),es(he[0]),He]),He)return;const[kt,jt,Dt,Yt]=he;S=Math.max(S,kt);const Ft=(0,tn.kY)(jt,Dt);if(we.selfCCK===Ft)throw new Error("unexpected selfCck: "+Ft);const qt=H.get(Ft)||-1;if(qt>Yt)throw new Error("bad editId for cck: "+Ft+", last: "+qt+", new: "+Yt);H.set(Ft,Yt)},(wt,he)=>{console.warn("flat|requestResync",{error:wt,message:he})}),Me=wt=>{for(const he of wt)Ce.applyDiffRemote(he.diffList,he.clock)};const Lt=$e.getFixDiffList(ot);Lt.length&&(Ce.applyDiff(Lt),Ce.resetUndo()),mt(ot)},Ne=Ae=>{Me=Ae},Fe=()=>we,We=()=>Ce,ct=async function(Ae){Ae===void 0&&(Ae="");try{if(!Ce||!d||!yt())return;const Ge=Ce.getFlatTree(),[Ye,$e]=await(0,Nn.TC)(En.V,Ge);await(0,an.au)("//FSS/"+t+"/"+s,new Blob([$e],{type:"application/octet-stream"}),{message:Ae,treRawSize:Ye,treSize:$e.byteLength})}catch(Ge){console.warn("saveSOS",Ae,Ge)}},tt=async()=>{try{const Ae=await(0,an.IF)("//FSS/"+t+"/"+s);if(Ae.length){console.warn("[loadSOS] found "+Ae.length+" record");const{data:Ge,extra:Ye}=Ae[0];console.warn("[loadSOS] load record from "+new Date(Ye.time).toISOString());const $e=await(0,mr.H)(Ge),ot=await(0,Nn.$U)(En.V,$e);return console.warn("[loadSOS] record tree: "+ot.size),{tree:ot,...Ye}}}catch(Ae){console.warn("loadSOS",Ae)}},_t=async()=>{try{return await(0,an.Af)("//FSS/"+t+"/"+s)}catch(Ae){console.warn("freeSOS",Ae)}},yt=()=>{for(const[,,Ae]of ge)if(Ae)return!0;return!1};return{flpakKey:s,name:t,__setIsDev:Ae=>{n=Ae},onSocketConnect:De,onRemotePayloadSave:le,bind:ve,useExtORPL:Ne,getClockStore:Fe,getFlatStore:We,saveSOS:ct,loadSOS:tt,freeSOS:_t,hasPatch:yt,preSettlePatch:()=>{const Ae=[];for(const[Ge,,Ye]of ge)Ye&&Ae.push(Ge);return Ae},postSettlePatch:Ae=>{ge=ge.filter(Ge=>{let[Ye,$e,ot]=Ge;return!ot||!Ae.includes(Ye)})}}},fr=(s,t)=>{let n,d;return{flpakKey:s,name:"[DUMMY]"+t,__setIsDev:S=>{},onSocketConnect:()=>{},onRemotePayloadSave:S=>{let[H,,ge]=S;return!1},bind:async(S,H)=>{if(d!==void 0)throw new Error("no re-init flatStore");n=S,d=(0,kn.$H)((0,St.ZR)(),S)},useExtORPL:S=>{},getClockStore:()=>n,getFlatStore:()=>d,saveSOS:async S=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:S=>{}}};if(a.j!=485)var yr=a(91458);const cn=a.j!=485?ft.jq:null,br=a.j!=485?ft.dn:null,js=s=>{const t=new Map;let n=!1,d=!1,S,H=()=>"";const ge=()=>{t.clear(),Me()};let we=0;const Ce=st=>{const Ke={socketId:st,index:we++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(st,Ke),n=!0,Ke},Me=(0,k.My)(async()=>{if(await(0,_.Kb)(2*1e3),S===void 0)return;const st=[];for(const{socketId:Ae,lastStatAt:Ge}of t.values())Ge!==0&&st.push(Ae);const Ke=await S([s,st]);for(const[Ae,Ge,Ye]of Ke){const $e=t.get(Ae)||Ce(Ae);$e.lastStatAt=Date.now(),$e.stat=[Ge,Ye]}ve=3,await(0,_.Kb)(8*1e3)},st=>{console.warn("_tPS",st)}).trigger,Ie=st=>{let[Ke,Ae,Ge]=st;const[Ye,$e]=br(Ge),ot=[Ye,$e,Ae],mt=t.get(Ke)||Ce(Ke);mt.lastCurAt=Date.now(),mt.cur=ot,mt.lastStatAt===0?Me():d=!0},De=st=>{let[Ke,Ae]=st;const Ge=t.has(Ae);Ke===0&&Ge?(t.delete(Ae),n=!0):Ke===1&&!Ge&&(Ce(Ae),Me())};let le=["",NaN,NaN],ve=0;const Ne=function(st){st===void 0&&(st=le[0]);const Ke=H();if(Ke==="")return!1;for(const{socketId:Ae,cur:Ge}of t.values())if(Ge&&Ge[2]===st&&Ae!==Ke)return!0;return!1},Fe=function(st,Ke,Ae){if(Ke===void 0&&(Ke=ft.nl),Ae===void 0&&(Ae=ft.nl),!(t.size<2)){if(le[0]!==st)ve=3;else if(!ve&&le[0]===st&&le[1]===Ke&&le[2]===Ae)return;if(le=[st,Ke,Ae],!(!Ne(st)&&!ve))return ve&&ve--,[s,st,cn(Ke,Ae)]}},We=async(st,Ke)=>{if(S!==void 0)throw new Error("no re-init flatStore");S=st,H=Ke,Me()},ct=()=>{const st=H(),Ke=[];if(st==="")return Ke;for(const{socketId:Ae,stat:Ge}of t.values()){if(Ge===void 0)continue;const[Ye,$e]=Ge;st===Ae?Ke.unshift([Ae,Ye,$e]):Ke.push([Ae,Ye,$e])}return Ke},tt=st=>{const Ke=H(),Ae=[];if(Ke==="")return Ae;for(const{socketId:Ge,index:Ye,cur:$e,stat:ot}of t.values()){if(Ke===Ge||$e===void 0||ot===void 0)continue;const[mt,Lt,wt]=$e;if(wt!==st||mt===ft.nl)continue;const[he,He]=ot;Ae.push([Ye,mt,Lt,he,He])}return Ae},_t=()=>n?(n=!1,!0):!1,yt=()=>d?(d=!1,!0):!1;return{flpakKey:s,__curStatMap:t,onSocketConnect:ge,onRemoteCur:Ie,onRemoteSocket:De,hasOtherUser:Ne,tryPackCur:Fe,bind:We,getRoomStat:ct,getSocketStat:ct,getCurStat:tt,pollRoomChg:_t,pollCurChg:yt,pollChange:yt}},jn=s=>{const t=()=>{},n=Ie=>{let[De,le,ve]=Ie},d=Ie=>{let[De,le]=Ie},S=Ie=>!1,H=(Ie,De,le)=>{},ge=async(Ie,De)=>{},we=()=>[],Ce=Ie=>[],Me=()=>!1;return{flpakKey:s,onSocketConnect:t,onRemoteCur:n,onRemoteSocket:d,hasOtherUser:S,tryPackCur:H,bind:ge,getRoomStat:we,getSocketStat:we,getCurStat:Ce,pollRoomChg:Me,pollCurChg:Me,pollChange:Me}},Is=function(s,t){t===void 0&&(t=250);let n=null,d=null;return function(){for(var S=arguments.length,H=new Array(S),ge=0;ge<S;ge++)H[ge]=arguments[ge];d=H,!n&&(n=(0,_.Q3)(()=>{n=null,s.apply(null,d),d=null},t))}},In=()=>{};let Mn=!1;const ln=s=>{Mn=s},mn="dat",vr="cmt",xr="mkt:dat",kr=async s=>{let{flpakKey:t,userId:n,uTag:d,token:S,passwd:H,isDummyCmt:ge=!1,isAllowDat:we=!1,isAllowCmt:Ce=!1,isAllowCur:Me=!1,afterStoreCreate:Ie=In,__fetchFlpakAsync:De=ks.WD,onTransferError:le=In,onReadOnlyError:ve=function(he,He){return He===void 0&&(He=""),console.warn(he,He)}}=s;const Ne=ns(t,mn),Fe=(ge?fr:ns)((0,yr.a6)(t),vr),We=(Me?js:jn)(t);await Ie({fssDat:Ne});const ct=async(he,He)=>{await Ne.saveSOS("OTE|"+he+"|"+He),await le(he,He)},tt=n?ds({query:{uId:String(n),uTag:d},usePolling:Mn,lossyListenerMap:{[gt.GF]:he=>{const{payload:He}=he;We.onRemoteCur(He)}},queueListenerMap:{[gt.E$]:he=>{const{error:He}=he;console.log("flat-ws drop-client",He),ct("4XX",He)},[gt.Rm]:he=>{const{error:He}=he;console.log("flat-ws error",He),ct("5XX",He)},[gt.FC]:()=>{console.log("flat-ws (re)connected"),Ne.onSocketConnect(),Fe.onSocketConnect(),We.onSocketConnect()},[gt.nB]:he=>{const{payload:He}=he;Ne.onRemotePayloadSave(He)||Fe.onRemotePayloadSave(He)||console.warn("drop save payload:",He)},[gt.FK]:he=>{const{payload:He}=he;console.log("flat-ws room cursor:",He),We.onRemoteSocket(He)}}}):Ks();await Promise.all([(async()=>{await tt.getReadyPromise()})(),(async()=>{await tt.reqRoomAsync([we?[t]:[],Ce?[t]:[],Me?[t]:[]])})()]);const _t=async(he,He,kt)=>{try{return await De(he,{token:S,passwd:H,skipTTre:String(He||""),skipTPbxList:(kt||[]).join("")})}catch(jt){const Dt=Ms(jt);throw(0,Mt.Q)("fFS "+Dt,jt),await ct(Dt,jt),jt}};await Promise.all([Ne.bind((0,tn.LQ)({userId:n,mtimeOffset:tt.getOffsetMsec()}),_t).catch(he=>{throw(0,Mt.Q)("bindDat",he),he}),Fe.bind((0,tn.LQ)({userId:n,mtimeOffset:tt.getOffsetMsec()}),_t).catch(he=>{throw(0,Mt.Q)("bindCmt",he),he}),We.bind(async he=>{try{if(tt.getIsConnected())return await tt.emitAsync(gt.tE,he)}catch(He){await(0,_.Kb)(42*1e3)}return[]},tt.getSocketId).catch(he=>{throw(0,Mt.Q)("bindCur",he),he})]);const yt=new Error("[tracked-error]"),st=async(he,He)=>{if(!he.hasPatch())return;const kt=he.preSettlePatch(),jt=(0,on.S0)((0,on.Mg)(kt));He!==!0&&(ve(he.name===mn?"Dat":"Cmt","RO|"+he.name+"|"+he.flpakKey+" #"+kt.length),jt.length=0);for(let Dt=0,Yt=jt.length;Dt<Yt;Dt++){const Ft=jt[Dt];try{await tt.emitAsync(gt.Tm,[he.flpakKey,Ft.length,(0,on.Cd)(Ft)])}catch(qt){const Ps=Ms(qt);throw(0,Mt.Q)("saveFss "+Ps,qt,he.name,he.flpakKey,Dt+1+"/"+Yt,Ft),await ct(Ps,qt),yt}}he.postSettlePatch(kt)},Ke=(0,k.My)(async()=>(0,k.n7)(async()=>{await st(Ne,we),await st(Fe,Ce),await Ne.freeSOS()},42*1e3),he=>{if(he===yt)return;const He=Ms(he);He!=="Tot"&&(0,Mt.Q)("lFFss "+He,he),Promise.resolve(ct(He,he)).catch(kt=>{(0,Mt.Q)("lFFss "+He+" Err",kt)})}),Ae=(0,k.My)(async()=>{!We.hasOtherUser()&&await(0,_.Kb)(3*1e3),!We.hasOtherUser()&&await(0,_.Kb)(3*1e3),Ke.trigger(),await Ke.getRunningPromise(),!We.hasOtherUser()&&await(0,_.Kb)(3*1e3),!We.hasOtherUser()&&await(0,_.Kb)(3*1e3)});setInterval(Ae.trigger,2*1e3),Me&&setInterval(()=>We.onSocketConnect(),20*60*1e3);const Ge=Ne.getFlatStore(),Ye=(0,ps.p)(Ne.getFlatStore());Ne.useExtORPL(Ye.onRemotePatchList);const $e=pr(Fe.getFlatStore());Fe.useExtORPL($e.onRemotePatchList);const ot=()=>Ne.hasPatch()||Fe.hasPatch(),mt=(0,k.zH)(async()=>(0,k.rP)(async()=>{let he=0;for(;ot();)await(0,_.Kb)(Math.min(he,5)*1e3),Ke.trigger(),await Ke.getRunningPromise(),he++})),Lt=()=>globalThis.MB.getSelectionItems()[0].key,wt=Is((he,He,kt)=>{const jt=We.tryPackCur(he,He,kt);jt&&tt.getIsConnected()&&tt.emitLossy(gt.sv,jt)},125);return{fssDat:Ne,fssCmt:Fe,cssCur:We,flatSocket:tt,flatStore:Ge,sdkStore:Ye,cmtStore:$e,sendCur:(he,He,kt)=>{Me===!0?wt(he,He,kt):Me==="RO"&&ve("Cur","")},hasSave:ot,saveAsync:mt,triggerSave:he=>{Ke.trigger(),he&&mt().then(he)},triggerFlushLocalPatch:Ke.trigger,theTree:function(he){return he===void 0&&(he=St.$3),console.log((0,St.im)(Ge.getFlatTree(),he))},hotTree:function(he){return he===void 0&&(he=St.$3),console.log(Ye.__devHotTree(he))},slctTree:function(he){return he===void 0&&(he=Lt()),console.log(Ye.__devHotTree(he))},upTree:function(he,He){return he===void 0&&(he=Lt()),He===void 0&&(He=St.$3),console.log(Ye.findUpHotItemList(he,He))},cmtTree:function(he){return he===void 0&&(he=St.$3),console.log($e.__devHotTree(he))}}},Ms=s=>{const t=s&&s.status;return t>=400&&t<500?"4XX":String(s).toLowerCase().includes("timeout")?"Tot":"5XX"},Nr=async s=>{let{flpakKey:t,token:n,passwd:d}=s;const S=ns(t,xr),H=async(Ce,Me,Ie)=>(0,ks.WD)(Ce,{token:n,passwd:d,skipTTre:String(Me||""),skipTPbxList:(Ie||[]).join("")});await S.bind((0,tn.LQ)({}),H);const ge=S.getFlatStore(),we=(0,ps.p)(S.getFlatStore());return{fssDat:S,flatStore:ge,sdkStore:we}}},99990:(Te,ie,a)=>{"use strict";if(a.d(ie,{$B:()=>Ue,BG:()=>be,BS:()=>pt,F7:()=>J,H3:()=>Ht,HP:()=>G,IS:()=>bn,Im:()=>k.Im,J5:()=>P,KI:()=>xe,KQ:()=>Q,MT:()=>yn,My:()=>ht,NK:()=>Wt,Ok:()=>U,P3:()=>T,Qs:()=>C,RI:()=>Se,RO:()=>Ot,Tz:()=>It,Vp:()=>Pt,W:()=>F,X6:()=>de,Xr:()=>ae,_5:()=>i,a$:()=>ne,be:()=>w,bt:()=>y,cD:()=>qe,iq:()=>Et,kk:()=>Xt,qr:()=>Ve,rM:()=>u,rw:()=>Ee,sE:()=>Pn,sP:()=>On,tr:()=>fn,uB:()=>Re,uo:()=>M,ur:()=>j,vL:()=>me}),a.j!=485)var o=a(2074);var k=a(7776),_=a(6966),b=a(76985),A=a(10862);if(a.j!="undefined")var W=a(35517);if(a.j!=485)var f=a(11230);const z=(ee,oe)=>{const ye=new Error("[NO SENTRY] "+ee);return Object.assign(ye,oe),ye},U=(ee,oe)=>(0,_.EE)("/api/upper/web_v1/design/readonly_initial?access_token="+ee+"&password="+oe),me=async(ee,oe)=>{const ye="/api/flat/web_v1/preview/initial?access_token="+ee+"&view_mode="+oe,Ze=await fetch(ye,{credentials:"same-origin"}),nt=await Ze.json();if(Ze.status!==200)throw z("[fetchGetHead] failed with "+Ze.status+": "+ye,{status:Ze.status,error_type:nt==null?void 0:nt.error_type});return nt},be=(ee,oe)=>(0,_.IP)("/api/upper/web_v1/basics/"+ee,{...oe}),ne=async()=>{let ee=[];try{const oe=await(0,_.EE)("/api/library/v4/recent_keywords");oe!=null&&oe.keywords&&(ee=oe==null?void 0:oe.keywords)}catch(oe){await(0,W.Vz)(oe)}return ee},ae=()=>(0,_._E)("/api/library/v4/recent_keywords"),Se=ee=>(0,_.Mn)("/api/library/v4/recent_keywords",{keyword:ee}),Q=async()=>{if((0,f.p)())return B();{var ee;let oe;try{oe=await(0,_.EE)("/api/library/v3/project_upper/user_combo_groups")}catch(ye){return await(0,W.Vz)(ye),{}}return{userComboGroupList:(ee=oe)==null?void 0:ee.user_combo_groups}}},B=async()=>{var ee;let oe;try{oe=await(0,_.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(ye){return await(0,W.Vz)(ye),{}}return{userComboGroupList:(ee=oe)==null?void 0:ee.org_combo_groups}},F=async ee=>{var oe;let{orgCid:ye}=ee,Ze;try{Ze=await(0,_.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+ye)}catch(nt){return await(0,W.Vz)(nt),{}}return{orgComboGroupList:(oe=Ze)==null?void 0:oe.org_combo_groups}},M=async ee=>{const{icon_group:oe,market_template:ye}=await(0,k.Mv)(ee.cid),{source:Ze,title:nt}=oe||{},xt=await(0,_.EE)(Ze),un=b.em[nt]||"svg",{iconGroupData:An}=(0,b._7)(xt,un);return{iconGroupData:An,marketTemplate:ye}},y=async()=>{if((0,f.p)())return h();try{const{asset_groups:ee}=await(0,_.sE)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:ee}}catch(ee){await(0,W.Vz)(ee)}},h=async()=>{const ee=MB.user.solo_org.cid;try{const{asset_groups:oe}=await(0,_.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+ee);return{userAssetGroupList:oe}}catch(oe){await(0,W.Vz)(oe)}},w=async ee=>{let{orgCid:oe}=ee;try{const{asset_groups:ye}=await(0,_.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+oe);return{orgAssetGroupList:ye}}catch(ye){await(0,W.Vz)(ye)}},P=async ee=>{if((0,f.p)())return L(ee);try{const{asset:oe,user_asset:ye}=await(0,_.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:ee});return{asset:oe,user_asset:ye}}catch(oe){await(0,W.Vz)(oe)}},L=async ee=>{const oe=MB.user.solo_org.cid;try{const{asset:ye,org_asset:Ze}=await(0,_.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:ee,org_cid:oe});return{asset:ye,user_asset:Ze}}catch(ye){await(0,W.Vz)(ye)}},j=async(ee,oe)=>{try{const{asset:ye,org_asset:Ze}=await(0,_.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:ee,org_cid:oe});return{asset:ye,org_asset:Ze}}catch(ye){await(0,W.Vz)(ye)}},T=async ee=>{if((0,f.p)())return K(ee);try{const{user_asset_group:oe}=await(0,_.bX)("/api/library/v4/users/asset_groups/"+ee.cid,{...ee});return{user_asset_group:oe}}catch(oe){await(0,W.Vz)(oe)}},K=async ee=>{const oe=MB.user.solo_org.cid;try{const{org_asset_group:ye}=await(0,_.bX)("/api/library/v4/orgs/asset_groups/"+ee.cid,{...ee,org_cid:oe});return{user_asset_group:ye}}catch(ye){await(0,W.Vz)(ye)}},u=async ee=>{try{const{org_asset_group:oe}=await(0,_.bX)("/api/library/v4/orgs/asset_groups/"+ee.cid,{...ee});return{org_asset_group:oe}}catch(oe){await(0,W.Vz)(oe)}},J=async ee=>{if((0,f.p)())return se(ee);try{return await(0,_.bX)("/api/library/v3/asset_data/me/assets/"+ee.asset_cid,{...ee})}catch(oe){await(0,W.Vz)(oe)}},se=async ee=>{try{return await(0,_.bX)("/api/library/v3/orgs/assets/"+ee.cid+"?org_cid="+ee.org_cid,{...ee})}catch(oe){await(0,W.Vz)(oe)}},de=async ee=>{try{return await(0,_.bX)("/api/library/v3/orgs/assets/"+ee.cid+"?org_cid="+ee.org_cid,{...ee})}catch(oe){await(0,W.Vz)(oe)}},C=async ee=>{let{cid:oe,name:ye,groupCid:Ze}=ee;if((0,f.p)())return Y({cid:oe,name:ye,groupCid:Ze});try{await(0,_.NS)("/api/library/v3/asset_data/me/assets",{cid:oe,name:ye,group_cid:Ze})}catch(nt){await(0,W.Vz)(nt)}},Y=async ee=>{let{cid:oe,name:ye,groupCid:Ze}=ee;const nt=MB.user.solo_org.cid;try{await(0,_.NS)("/api/library/v3/orgs/assets?org_cid="+nt,{cid:oe,name:ye,group_cid:Ze})}catch(xt){await(0,W.Vz)(xt)}},Ee=async ee=>{let{orgCid:oe,cid:ye,name:Ze,groupCid:nt}=ee;try{const xt=await(0,_.NS)("/api/library/v3/orgs/assets",{cid:ye,org_cid:oe,name:Ze,group_cid:nt});return xt==null?void 0:xt.cid}catch(xt){await(0,W.Vz)(xt)}},xe=async ee=>{let{user_asset_group_cid:oe,org_cid:ye,org_asset_group_cid:Ze}=ee;if((0,f.p)())return re({user_asset_group_cid:oe,org_cid:ye,org_asset_group_cid:Ze});try{return(0,_.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:oe,org_cid:ye,org_asset_group_cid:Ze})}catch(nt){await(0,W.Vz)(nt)}},re=async ee=>{let{user_asset_group_cid:oe,org_cid:ye,org_asset_group_cid:Ze}=ee;try{return(0,_.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:oe,org_cid:ye,org_asset_group_cid:Ze})}catch(nt){await(0,W.Vz)(nt)}},G=async ee=>{if((0,f.p)())return je(ee);try{const{user_asset_group:oe,user_assets:ye}=await(0,_.sE)("/api/library/v3/asset_data/me/asset_groups/"+ee);return{user_asset_group:oe,userAssets:ye}}catch(oe){await(0,W.Vz)(oe)}},je=async ee=>{try{const{org_asset_group:oe,org_assets:ye}=await(0,_.sE)("/api/library/v3/orgs/asset_groups/"+ee);return{user_asset_group:oe,userAssets:ye}}catch(oe){await(0,W.Vz)(oe)}},Ue=async ee=>{try{const{org_asset_group:oe,org_assets:ye}=await(0,_.sE)("/api/library/v3/orgs/asset_groups/"+ee);return{org_asset_group:oe,orgAssets:ye}}catch(oe){await(0,W.Vz)(oe)}},Ve=async ee=>{(0,f.p)()?await Oe(ee):await(0,_._E)("/api/library/v3/asset_data/me/assets/"+ee.cid)},Oe=async ee=>{await(0,_._E)("/api/library/v3/orgs/assets/"+ee.cid+"?org_cid="+ee.org_cid)},Re=async ee=>{await(0,_._E)("/api/library/v3/orgs/assets/"+ee.cid+"?org_cid="+ee.org_cid)},qe=async ee=>{(0,f.p)()?await bt(ee):await(0,_._E)("/api/library/v3/asset_data/me/asset_groups/"+ee)},bt=async ee=>{await(0,_._E)("/api/library/v3/orgs/asset_groups/"+ee)},Pt=async ee=>{await(0,_._E)("/api/library/v3/orgs/asset_groups/"+ee)},Et=ee=>(0,_._Z)("/preferences/update",{...ee}),It=async(ee,oe)=>{if((0,f.p)())return Tt(ee,oe);try{return await(0,_.bX)("/api/library/v4/users/asset_groups/"+ee,{...oe})}catch(ye){await(0,W.Vz)(ye)}},Tt=async(ee,oe)=>{const ye=MB.user.solo_org.cid;try{return await(0,_.bX)("/api/library/v4/orgs/asset_groups/"+ee,{...oe,org_cid:ye})}catch(Ze){await(0,W.Vz)(Ze)}},Ot=ee=>async(oe,ye)=>{try{const Ze={...ye,org_cid:ee};return await(0,_.bX)("/api/library/v4/orgs/asset_groups/"+oe,{...Ze})}catch(Ze){await(0,W.Vz)(Ze)}},Ht=async(ee,oe)=>{let ye=null;try{const Ze=await(0,_.sE)("/api/community/v1/workspace?category="+ee+"&plabel="+oe);Ze!=null&&Ze.market_templates&&(ye=Ze==null?void 0:Ze.market_templates)}catch(Ze){await(0,W.Vz)(Ze)}return ye},pt=async(ee,oe)=>{let ye=null;try{const Ze=oe.name===A.q6.All?"&scene_tag="+ee:"&scene_tag="+ee+"&plabel="+oe.name+"&plabel_id="+oe.id,nt=await(0,_.sE)("/api/community/v1/workspace/v8_combos?category="+o.yr+Ze);nt!=null&&nt.market_templates&&(ye=nt==null?void 0:nt.market_templates)}catch(Ze){await(0,W.Vz)(Ze)}return ye},ht=async ee=>{let oe=null;try{const ye=await(0,_.EE)("/flpak/w-p2wsearch?"+ee);ye!=null&&ye.data&&(oe=ye)}catch(ye){await(0,W.Vz)(ye)}return oe},Wt=async ee=>{let oe=null;try{const ye=await(0,_.EE)("/flpak/w-p2meta/"+ee);ye!=null&&ye.length&&(oe=ye)}catch(ye){await(0,W.Vz)(ye)}return oe},Pn=async ee=>{let{currentComboPanel:oe,projectMetaCid:ye}=ee;try{await(0,_.Gf)("/flpak/w-migrate-"+oe+"-combo-group/"+ye+"?mode=normal")}catch(Ze){await(0,W.Vz)(Ze)}},fn=async ee=>{let{projectBasicCid:oe}=ee;try{const{userId:ye,flatKey:Ze}=await(0,_.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+oe);return{userId:ye,flatKey:Ze}}catch(ye){await(0,W.Vz)(ye)}},yn=async ee=>{let{projectBasicCid:oe,accessToken:ye,password:Ze}=ee;try{const{userId:nt,flatKey:xt}=await(0,_.EE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+oe+"&access_token="+ye+"&password="+Ze);return{userId:nt,flatKey:xt}}catch(nt){await(0,W.Vz)(nt)}},bn=ee=>(0,_.EE)("/api/dashboard/v5/orgs/"+ee),Xt=async ee=>{const{project:oe}=await(0,_.EE)("/api/dashboard/v5/projects/"+ee);return oe},i=async ee=>(0,_.EE)("/api/upper/web_v1/basics/statstics/"+ee),On=async()=>{try{const{result:ee}=await(0,_.EE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return ee}catch(ee){return console.log(ee),{project_basic:{labels:[]}}}}},7776:(Te,ie,a)=>{"use strict";if(a.d(ie,{AY:()=>U,Im:()=>Se,Mv:()=>z,Q0:()=>Q,Wk:()=>A,Xl:()=>M,Y0:()=>F,ZW:()=>f,bs:()=>B,kU:()=>W,pS:()=>me,w3:()=>be}),a.j!=485)var o=a(6966);if(a.j!=485)var k=a(35517);var _=a(80966);const b=300,A=async function(y){y===void 0&&(y="");const h=1;let w=[];try{const P=await(0,o.sE)("/api/community/v1/workspace/my_star?page="+h+(y&&"&category="+y)+"&page_size="+b);P&&(w=P==null?void 0:P.market_templates.filter(L=>(L==null?void 0:L.version)!=="v1"))}catch(P){await(0,k.Vz)(P)}return w.map(P=>({...P,is_star:!0}))},W=async y=>{try{await(0,o.Mn)("/api/community/v1/market_template/star/"+y)}catch(h){await(0,k.Vz)(h)}},f=async y=>{try{await(0,o.$I)("/api/community/v1/market_template/star/"+y)}catch(h){await(0,k.Vz)(h)}},z=async function(y,h){h===void 0&&(h=!0);let w;try{w=await(0,o.EE)("/api/community/v1/market_template/"+y)}catch(P){h&&(0,k.KT)(P)}return w},U=function(y){return y===void 0&&(y=""),(0,o.xi)("/api/community/v1/market_template?is_from_workspace=true&page="+1+y+"&page_size="+b)},me=async()=>{let y;try{y=await(0,o.EE)("/flpak/w-p2recent")}catch(h){return await(0,k.Vz)(h),h}return y},be=()=>(0,o.EE)("/api/community/v1/hot_icons"),ne=y=>{let{category:h="combo_group",keyword:w=""}=y;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+h+"?q="+encodeURIComponent(w))},ae={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},Se=y=>{let{projectUpperType:h="",projectUpperCid:w="",itemCid:P=""}=y;return(0,o.Mn)("/api/community/v1/recent_template",{project_upper_type:ae[h]||h,project_upper_cid:w,item_cid:P})},Q=async y=>{const{sdkStore:h}=await(0,_.Qb)({flpakKey:y});return h},B=async function(y){y===void 0&&(y="mobile");try{return(await(0,o.EE)("/api/market_template/v4/workspace/new_page_types?platform="+y)).types}catch(h){return await(0,k.Vz)(h),[]}},F=async function(y){y===void 0&&(y="mobile");try{return await(0,o.EE)("/api/community/v1/workspace/recommend_page?platform="+y)}catch(h){return await(0,k.Vz)(h),{}}},M=async y=>{let{platform:h,firstTypeCid:w,secondTypeCid:P=null}=y;const L={first_type_cid:w,second_type_cid:P,platform:h};let j=new URLSearchParams;j=Object.assign(j,L);for(const[T,K]of Object.entries(j))K?K==="default"?j.delete(T):j.set(T,K):j.delete(T);try{return(0,o.EE)("/flpak/w-p2pagemkt?"+j.toString())}catch(T){return await(0,k.Vz)(T),{}}}},19635:(Te,ie,a)=>{"use strict";a.d(ie,{E9:()=>ne,KM:()=>f,O3:()=>U,bQ:()=>W,eG:()=>A,fl:()=>Q,kq:()=>z});var o=a(7485),k=a(67163),_=a(92180),b=a(35269);const A=(0,o.memo)(B=>{let{type:F="linear",className:M,disabled:y=!1,size:h="common",corner:w="smooth",forceTheme:P,children:L,onClick:j}=B;return(0,b.jsx)(k.Ls,{type:F,className:M,disabled:y,size:h,corner:w,forceTheme:P,onClick:j,children:L})}),W=a.j!=485?(0,o.memo)(B=>{let{type:F="linear",className:M,disabled:y=!1,size:h="common",corner:w="smooth",icon:P,children:L,forceTheme:j,onClick:T}=B;return(0,b.jsx)(k.TB,{type:F,className:M,disabled:y,size:h,corner:w,icon:P,forceTheme:j,onClick:T,children:L})}):null,f=(0,o.memo)(B=>{let{className:F,children:M,disabled:y=!1,onClick:h}=B;return(0,b.jsx)(k.Ls,{type:"primary",size:"common",className:F,disabled:y,onClick:h,children:M})}),z=B=>{let{className:F,children:M,disabled:y=!1,onClick:h}=B;return(0,b.jsx)(k.Ls,{type:"secondary",size:"common",className:F,disabled:y,onClick:h,children:M})},U=(0,o.memo)(B=>{let{className:F,children:M,disabled:y=!1,onClick:h}=B;return(0,b.jsx)(k.Ls,{type:"danger",size:"common",className:F,disabled:y,onClick:h,children:M})}),me=null,be=null,ne=a.j==33?(0,o.memo)(B=>{let{className:F,children:M,disabled:y=!1,onClick:h}=B;return(0,b.jsx)(k.Ls,{type:"primary",size:"tiny",corner:"soft",className:F,disabled:y,onClick:h,children:M})}):null,ae=null,Se=null,Q=a.j!=485?(0,o.memo)(B=>{let{className:F,isLoading:M=!1,children:y,disabled:h=!1,onClick:w}=B;return(0,b.jsx)(k.TB,{type:"secondary",size:"tiny",corner:"soft",className:F,icon:M?(0,b.jsx)(_.q,{name:"general/loading",className:"btn-loading"}):null,disabled:h,onClick:w,children:y})}):null},67163:(Te,ie,a)=>{"use strict";a.d(ie,{Ls:()=>f,TB:()=>z,ZJ:()=>W});var o=a(45090),k=a(48641),_=a(54957),b=a(22795);const A=(U,me)=>{const be=U.forceTheme;return be?b.c[me]["value_"+be]:U.theme[me]},W=(0,o.iv)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],U=>A(U,"color_text_btn"),U=>A(U,"color_btn_primary_normal"),U=>A(U,"color_btn_primary_hover"),U=>A(U,"color_btn_primary_clicked"),U=>A(U,"color_text_disabled02"),U=>A(U,"color_btn_primary_disabled"),U=>A(U,"color_text_L1"),U=>A(U,"color_bg_white"),U=>A(U,"color_bg_line"),U=>A(U,"color_btn_secondary_hover"),U=>A(U,"color_bg_line"),U=>A(U,"color_btn_secondary_active"),U=>A(U,"color_bg_line"),U=>A(U,"color_text_disabled01"),U=>A(U,"color_bg_white"),U=>A(U,"color_bg_line"),U=>A(U,"color_text_btn"),U=>A(U,"color_btn_danger_normal"),U=>A(U,"color_btn_danger_hover"),U=>A(U,"color_btn_danger_clicked"),U=>A(U,"color_text_disabled02"),U=>A(U,"color_btn_danger_disabled"),U=>A(U,"color_text_L1"),U=>A(U,"color_btn_secondary_hover"),U=>A(U,"color_btn_secondary_active"),U=>A(U,"color_text_disabled01")),f=(0,o.ZP)(k.Z).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1w5kpr3-0"})(["",";"],W),z=(0,o.ZP)(_.Z).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1w5kpr3-1"})(["",";"],W)},68435:(Te,ie,a)=>{"use strict";a.d(ie,{G:()=>me,Z:()=>be});var o=a(7485),k=a(34595),_=a.n(k),b=a(92180),A=a(13666),W=a(45090);const f=W.ZP.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-1a6p3ca-0"})(["display:flex;height:100%;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:1;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:",";}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}"],ne=>ne.theme.color_text_L2,ne=>ne.theme.color_text_L1,ne=>ne.theme.color_text_L1,ne=>ne.theme.color_bg_card,ne=>ne.theme.color_text_L1,ne=>ne.theme.color_text_disabled01);var z=a(35269);const U=(0,o.memo)(ne=>{let{activeIndex:ae=0,className:Se,children:Q,onTabChange:B}=ne;return(0,z.jsx)(f,{className:_()(Se),children:o.Children.map(Q,(F,M)=>{const y={index:M,active:M===ae,onClick:B};return o.cloneElement(F,y)})})}),me=(0,o.memo)(ne=>{let{className:ae,index:Se,active:Q,onClick:B,label:F,tooltip:M,isNew:y,disabled:h,tempDisabled:w}=ne;const P=()=>{if(h)return w&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;B(Se)},L=(0,z.jsxs)("li",{className:_()("nav-item",{active:Q},{disabled:h},ae),onClick:P,children:[F&&(0,z.jsxs)("span",{className:"nav-label",children:[F,M&&M]}),y&&(0,z.jsx)(b.q,{name:"design/tab/new",className:"tabNewIcon"})]});return h?(0,z.jsx)(A.Z,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:L}):L}),be=U},33360:(Te,ie,a)=>{"use strict";a.d(ie,{DB:()=>_,PR:()=>o,Tt:()=>b,p$:()=>W,qf:()=>A,tr:()=>k,zv:()=>f});const o={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},k={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},_={org_owner:o.OWNER,org_manager:o.SUPERMANAGER,org_admin:o.MANAGER,org_member:o.MEMBER,org_viewer:o.VIEWER},b={space_owner:o.MANAGER,space_manager:o.MANAGER,space_member:o.MEMBER,space_viewer:o.VIEWER,space_limiter:o.LIMITER},A={team_owner:o.MANAGER,team_manager:o.MANAGER,team_member:o.MEMBER,team_viewer:o.VIEWER,team_none:o.VIEWER,team_ban_viewer:o.BANNED},W=Object.assign({project_owner:o.MANAGER,project_team_owner:o.MANAGER,project_manager:o.MANAGER,project_member:o.MEMBER,project_viewer:o.VIEWER,project_none:o.VIEWER,project_ban_viewer:o.BANNED},A),f={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},z={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},18827:(Te,ie,a)=>{"use strict";a.d(ie,{M:()=>be});var o=a(6966);const k=async(ne,ae)=>{const{project:Se}=await(0,o.Gf)("/api/dashboard/v5/projects/"+ne+"/invite",ae);return Se},_=async(ne,ae)=>(0,o.IP)("/api/dashboard/v5/permissions/projects/"+ne,ae),b=async(ne,ae)=>{await(0,o.G)("/api/dashboard/v5/permissions/projects/"+ne,ae)};var A=a(74223),W=a(78451),f=a(45312);const z=async(ne,ae)=>await(0,o.EE)("/api/dashboard/v5/spaces/"+ne+"?org_cid="+ae),U={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let me=function(ne){return ne.Org="org",ne.OrgSpace="space",ne.Folder="folder",ne.Project="project",ne}({});const be={"entry:projectAccess:initProjectData":async(ne,ae)=>{let{getState:Se,dispatch:Q}=ne,{payload:B}=ae;try{const{initData:F,members:M}=B,y=F==null?void 0:F.org,{user:h,space:w,project:P,team:L,top_parent_team:j,lang:T}=F||{},K=new Map,u=new Map;return K.set(L==null?void 0:L.cid,L),K.set(j==null?void 0:j.cid,j),L!=null&&L.parent_cid&&(L==null?void 0:L.parent_cid)!==j.cid&&K.set(L==null?void 0:L.parent_cid,j),u.set(P==null?void 0:P.cid,P),Q({type:f.Us.UpdateState,payload:{user:h,org:{...y,members:M},space:w,folderListMap:K,projectListMap:u,lang:T}}),!0}catch(F){return console.error(F.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ne,ae)=>{let{getState:Se,dispatch:Q}=ne,{payload:B}=ae;const{projectCid:F,userCid:M,roleName:y,userName:h}=B;if(!F||!M)return;const w=Se(),P=(0,W.Kx)(w),L=(0,W.N4)(w),j=(0,W.b)(w);try{const T=await k(F,{user_cid:M,role:y}),{space:K}=await z(L,P);j.set(T.cid,T),await Q({type:f.Us.UpdateProjectListMap,payload:new Map(j)}),await Q({type:f.Us.UpdateSpace,payload:K}),window.top.postMessage({type:"updateApp",data:{newApp:(0,A.I)(T)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:h,other:U[y]}}},"*")}catch(T){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ne,ae)=>{let{getState:Se,dispatch:Q}=ne,{payload:B}=ae;const{projectCid:F,userId:M,roleName:y,userName:h}=B,w=Se();try{const{permission:P}=await _(F,{target_role:y,target_user_id:M}),L=(0,W.b)(w),j=L.get(F),T=(j==null?void 0:j.permissions)||[],K=T.find(se=>Number(se.user_id)===Number(M));let u=[];K?u=T.map(se=>Number(se.user_id)===Number(M)?P:se):u=[...T,P];const J={...j,permissions:u};L.set(F,J),await Q({type:f.Us.UpdateProjectListMap,payload:new Map(L)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,A.I)(J)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:h,other:U[y]}}},"*")}catch(P){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ne,ae)=>{let{getState:Se,dispatch:Q}=ne,{payload:B}=ae;const{projectCid:F,userId:M,roleName:y,userName:h}=B,w=Se();try{await b(F,{target_role:y,target_user_id:M});const P=(0,W.b)(w),L=P.get(F),j=(L==null?void 0:L.permissions)||[];if(j.find(K=>Number(K.user_id)===Number(M))){const K=j.filter(J=>Number(J.user_id)!==Number(M)),u={...L,permissions:K};P.set(F,u),await Q({type:f.Us.UpdateProjectListMap,payload:new Map(P)}),window.top.postMessage({type:"successMsg",data:{msg:{name:h,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,A.I)(u)}},"*")}}catch(P){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},45312:(Te,ie,a)=>{"use strict";a.d(ie,{Us:()=>k,ZP:()=>b});const o={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",is_free_org:!1,trial_end_on:null,next_billing_on:"",total_seats:0,seats_taken:0,total_viewer_seats:0,viewer_seats_taken:0,wechat_qrcode_url:null,is_show_wechat_qrcode:!1,settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let k=function(A){return A.UpdateState="reducer:update:user",A.UpdateUser="reducer:update:user",A.UpdateOrg="reducer:update:org",A.UpdateSpace="reducer:update:space",A.UpdateFolderListMap="reducer:update:folderListMap",A.UpdateProjectListMap="reducer:update:projectListMap",A}({});const b=function(A,W){A===void 0&&(A=o);const{type:f,payload:z}=W;switch(f){case k.UpdateState:return{...A,...z};case k.UpdateUser:return{...A,user:{...A.user,...z}};case k.UpdateOrg:return{...A,org:{...A.org,...z}};case k.UpdateSpace:return{...A,space:{...A.space,...z}};case k.UpdateFolderListMap:return{...A,folderListMap:z};case k.UpdateProjectListMap:return{...A,projectListMap:z};default:return A}}},78451:(Te,ie,a)=>{"use strict";a.d(ie,{Kx:()=>W,Mo:()=>Q,N4:()=>me,NT:()=>be,Q3:()=>U,_H:()=>A,b:()=>ae,is:()=>Se,mK:()=>ne,rc:()=>b,x4:()=>y,z2:()=>z,zG:()=>F});var o=a(77646),k=a(44907),_=a(11182);const b=h=>{var w;return(w=h.projectAccess.user)==null?void 0:w.user_id},A=h=>h.projectAccess.org,W=h=>{var w;return((w=h.projectAccess.org)==null?void 0:w.cid)||""},f=h=>{var w;return((w=h.projectAccess.org)==null?void 0:w.members)||[]},z=h=>{var w;return((w=h.projectAccess.org)==null?void 0:w.permissions)||[]},U=h=>h.projectAccess.space,me=h=>h.projectAccess.space.cid,be=h=>h.projectAccess.space.permissions||[],ne=h=>h.projectAccess.folderListMap||new Map,ae=h=>h.projectAccess.projectListMap||new Map,Se=(0,o.P1)(b,z,(h,w)=>(0,k.Uy)({userId:h,orgPermissions:w})),Q=(0,o.P1)(b,be,(h,w)=>(0,k.FK)({userId:h,spacePermissions:w})),B=(0,o.P1)(be,h=>{const w=(0,k.Hn)(h);return h.reduce((P,L)=>{const{user_id:j}=L,T=(0,k.Ow)({userId:j,permissionsMap:w,permissionScope:_.n.OrgSpace});return P.set(Number(j),T)},new Map)}),F=(0,o.P1)(be,h=>h.filter(P=>P.role==="space_limiter").reduce((P,L)=>{const{user_id:j}=L;return P.set(Number(j),L)},new Map)),M=(0,o.P1)(f,h=>h.reduce((w,P)=>{const{user_id:L,user_cid:j,email:T,mobile:K}=P;return L&&j?w.set(Number(L)||L,{...P}):(T&&w.set(T,{...P}),K&&w.set(K,{...P}),w)},new Map)),y=(0,o.P1)(z,M,(h,w)=>h.reduce((P,L)=>{const{user_id:j,unsign_remark:T}=L,K=j||T,u=w.get(K)||{},J=(0,k.Vj)(L);return P.set(K,{...u,permission:J})},new Map))},11182:(Te,ie,a)=>{"use strict";a.d(ie,{n:()=>o,q:()=>k});let o=function(_){return _.Org="org",_.OrgSpace="space",_.Folder="folder",_.Project="project",_}({}),k=function(_){return _.OrgSpace="orgspace-permission-tip",_.OrgSpaceLimiter="orgspace-limiter-permission-tip",_.RootFolder="root-folder-permission-tip",_.SubFolder="sub-folder-permission-tip",_.Project="project-permission-tip",_}({})},74223:(Te,ie,a)=>{"use strict";a.d(ie,{I:()=>b,f:()=>_});var o=a(1074),k=a.n(o);const _=(A,W)=>{if(!(A!=null&&A.cid))return-1;let f=0,z="",U=A;for(;U&&!U.root_project&&(f=f+1,z=U.parent_cid,!!z);)U=W.get(z);return f};function b(A){return A&&Object.entries(A).reduce((W,f)=>{let[z,U]=f;return Object.assign(W,{[k()(z)]:U})},{})}},44907:(Te,ie,a)=>{"use strict";a.d(ie,{FK:()=>ne,Hn:()=>B,JY:()=>Q,Ow:()=>F,Qx:()=>me,Uy:()=>be,Vj:()=>f,Yj:()=>W,dp:()=>b});var o=a(33360),k=a(11182);const _=function(M,y,h){return h===void 0&&(h=!1),{level:M,roleName:y,isInherited:h,isOwner:M>=o.PR.OWNER,isSuperManager:M>=o.PR.SUPERMANAGER,isManager:M>=o.PR.MANAGER,isMember:M>=o.PR.MEMBER,isViewer:M>=o.PR.VIEWER,isLimiter:M===o.PR.LIMITER,isBanned:M===o.PR.BANNED,isUnknown:M===o.PR.UNKNOWN}},b=_(o.PR.UNKNOWN),A=_(o.PR.UNJOINED),W=(M,y)=>{if(!y||y.length<=0)return null;const h=y.find(w=>{let{user_id:P,unsign_remark:L}=w;return Number(P)===Number(M)||L===M});return h||null},f=M=>M?_(o.DB[M.role],M.role):_(o.PR.UNKNOWN),z=(M,y)=>{if(!M)return[];let h=[],w=M,P=y.get(w);for(;P&&!P.root_project;)h=h.concat(P.permissions),w=P.parent_cid,P=y.get(w);return h},U=(M,y,h)=>{let w=z(M,y);return w=w.concat(h).reverse(),w=w.filter(P=>P.role!=="space_limiter"),w.map(P=>{const L=folderInheritePermissionRoleFixMap[P.role];return L?{...P,role:L,inherited:!0}:{...P,inherited:!0}})},me=(M,y,h)=>{let w=z(M,y);return w=w.concat(h).reverse(),w=w.filter(P=>P.role!=="space_limiter"),w.map(P=>{const L=o.zv[P.role];return L?{...P,role:L,inherited:!0}:{...P,inherited:!0}})},be=M=>{const{orgPermissions:y,userId:h}=M;if(!h||!y||y.length<1)return _(o.PR.UNKNOWN);const w=W(h,y);return w?_(o.DB[w.role],w.role):_(o.PR.UNKNOWN)},ne=M=>{const{spacePermissions:y,userId:h}=M;if(!h||!y||y.length<1)return _(o.PR.UNKNOWN);const w=W(h,y);return w?_(o.Tt[w.role],w.role):_(o.PR.UNKNOWN)},ae=M=>{const{userId:y,orgPermissions:h,spacePermissions:w,currentFolder:P,folderListMap:L}=M;if(!y||!P)return _(permissionLevels.UNKNOWN);const{org_cid:j,space_cid:T}=P;if(!j&&!T)return _(permissionLevels.OWNER,"team_owner");if(!w||w.length<1)return _(permissionLevels.UNKNOWN);const{isRoot:K,root_project:u}=P;if(K||u){const Y=ne({spacePermissions:w,userId:y});return Y.roleName==="space_limiter"?{...be({orgPermissions:h,userId:y}),isLimiter:!0}:Y}const J=P.permissions||[],se=U(P.parent_cid,L,w),de=Object.values(Object.fromEntries([...se,...J].map(Y=>[Y.user_id,Y]))),C=W(y,de);return C?_(folderPermissionLevelsMap[C.role],C.role,C.inherited):_(permissionLevels.UNKNOWN)},Se=M=>{const{userId:y,spacePermissions:h,currentProject:w,folderListMap:P}=M;if(!y||!w)return _(permissionLevels.UNKNOWN);const{space_cid:L}=w;if(!L)return _(permissionLevels.OWNER,"project_owner");if(!h||h.length<1)return _(permissionLevels.UNKNOWN);const j=w.permissions||[],T=me(w.team_cid,P,h),K=Object.values(Object.fromEntries([...T,...j].map(J=>[J.user_id,J]))),u=W(y,K);return u?_(projectPermissionLevelsMap[u.role],u.role,u.inherited):_(permissionLevels.UNKNOWN)},Q=function(M,y,h){return h===void 0&&(h=!1),y?typeof y[M]<"u"?_(y[M],M,h):_(o.PR.UNJOINED):_(o.PR.UNKNOWN)},B=M=>!M||M.length<1?new Map:M.reduce((y,h)=>y.set(Number(h.user_id),h),new Map),F=M=>{const{permissionsMap:y,userId:h,permissionScope:w}=M;if(!h||!y||y.size<1)return _(o.PR.UNKNOWN);const{role:P,inherited:L}=y.get(Number(h))||{};if(!P)return _(o.PR.UNKNOWN);let j=null;switch(w){case k.n.Org:j=o.DB;break;case k.n.OrgSpace:j=o.Tt;break;case k.n.Folder:j=o.qf;break;case k.n.Project:j=o.p$;break;default:break}return Q(P,j,L)}},94811:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>M});var o=a(7485),k=a(45090),_=a(7627),b=a.n(_),A=a(18890),W=a.n(A),f=a(44476);const z=k.ZP.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1kbzuk3-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),U=(0,k.ZP)(z).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1kbzuk3-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),me=k.ZP.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1kbzuk3-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var be=a(35269);function ne(y,h,w){return h=ae(h),h in y?Object.defineProperty(y,h,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[h]=w,y}function ae(y){var h=Se(y,"string");return typeof h=="symbol"?h:String(h)}function Se(y,h){if(typeof y!="object"||!y)return y;var w=y[Symbol.toPrimitive];if(w!==void 0){var P=w.call(y,h||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(y)}class Q extends o.PureComponent{constructor(){super(...arguments),ne(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ne(this,"onToggle",()=>{const{name:h,value:w,label:P,onToggle:L,onChange:j}=this.props,{isChecked:T}=this.state,{canToggle:K}=this,u=K?!0:T;this.setState({isChecked:u}),L(u,h,w||P),j(h,w||P,u)})}static getDerivedStateFromProps(h,w){let{prevProps:P,isChecked:L}=w;return W()(P,h)?null:{prevProps:h,isChecked:h.isChecked}}get isDisabled(){const{isDisabled:h,disabled:w}=this.props;return h||w}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:h,readOnly:w}=this;return!h&&!w}render(){const{size:h,theme:w,className:P,label:L,name:j}=this.props,{isChecked:T}=this.state,{isDisabled:K,readOnly:u}=this;return(0,be.jsxs)(U,{className:(0,f.A1)([w==="core"?"CoreRadio":"Radio",h,P,T&&"is-checked",K&&"is-disabled",u&&"readonly"]),children:[(0,be.jsx)("input",{type:"radio",defaultChecked:T,disabled:K,name:j,onClick:this.onToggle}),(0,be.jsx)("span",{className:"Check-state"}),(0,be.jsx)("span",{className:"Check-label",children:L})]})}}ne(Q,"propTypes",{size:b().oneOf(["regular","small"]),theme:b().oneOf(["core","plain"]),className:b().string,label:b().any,name:b().string,value:b().any,isChecked:b().bool,isDisabled:b().bool,disabled:b().bool,readOnly:b().bool,onChange:b().func.isRequired,onToggle:b().func.isRequired}),ne(Q,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class B extends o.PureComponent{constructor(){super(...arguments),ne(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ne(this,"state",{prevProps:this.props,value:this.props.value}),ne(this,"createOnChangeHandler",(h,w,P)=>()=>{const{onToggle:L,onChange:j}=this.props,{value:T}=this.state,{canToggle:K}=this,u=K?w:T;this.setState({value:u}),L(u,h),j({name:h,value:u,idx:P})})}static getDerivedStateFromProps(h,w){let{prevProps:P,value:L}=w;return W()(P,h)?null:{prevProps:h,value:h.value}}get isDisabled(){const{isDisabled:h,disabled:w}=this.props;return h||w}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:h,readOnly:w}=this;return!h&&!w}render(){const{size:h,theme:w,className:P,optionList:L}=this.props,{value:j}=this.state,{name:T,isDisabled:K,readOnly:u}=this,J=(0,f.A1)([w==="core"?"CoreRadioGroup":"RadioGroup",h,P,K&&"is-disabled",u&&"readonly"]);return(0,be.jsx)(me,{className:J,children:L.map((se,de)=>se&&(0,be.jsx)(Q,{name:T,size:h,theme:w,label:(0,f.Jn)(se),type:"radio",isChecked:(0,f.Lc)(se,j),isDisabled:K||se.isDisabled,readOnly:u,onChange:K||se.isDisabled?void 0:this.createOnChangeHandler(T,(0,f.l_)(se),de)},de))})}}ne(B,"propTypes",{size:b().oneOf(["regular","small"]),theme:b().oneOf(["core","plain"]),className:b().string,name:b().string,optionList:b().arrayOf(b().oneOfType([b().string,b().number,b().shape({label:b().any,value:b().any,isDisabled:b().bool})])).isRequired,value:b().oneOfType([b().number,b().string]),isDisabled:b().bool,disabled:b().bool,readOnly:b().bool,onChange:b().func.isRequired,onToggle:b().func.isRequired}),ne(B,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const F=(0,k.ZP)(B).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1mmciik-0"})([".Radio{color:",";&.is-checked{color:",";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],y=>y.theme.color_text_L2,y=>y.theme.color_text_L1,y=>y.theme.color_proto,y=>y.theme.color_bg_white,y=>y.theme.color_text_disabled01,y=>y.theme.color_bg_white,y=>y.theme.color_bg_white);class M extends o.PureComponent{render(){return(0,be.jsx)(F,{...this.props})}}},10238:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>Q});var o=a(7485),k=a(45090),_=a(7627),b=a.n(_),A=a(18890),W=a.n(A),f=a(44476);const z=k.ZP.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-du1ivp-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var U=a(35269);function me(B,F,M){return F=be(F),F in B?Object.defineProperty(B,F,{value:M,enumerable:!0,configurable:!0,writable:!0}):B[F]=M,B}function be(B){var F=ne(B,"string");return typeof F=="symbol"?F:String(F)}function ne(B,F){if(typeof B!="object"||!B)return B;var M=B[Symbol.toPrimitive];if(M!==void 0){var y=M.call(B,F||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(B)}class ae extends o.PureComponent{constructor(){super(...arguments),me(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),me(this,"toggle",F=>{let{target:M}=F;const{onChange:y}=this.props,{isChecked:h}=this.state,{isDisabled:w,canToggle:P}=this,L=P?!h:h;return M.blur(),this.setState({isChecked:L}),!w&&y(L)})}static getDerivedStateFromProps(F,M){let{prevProps:y}=M;return W()(y,F)?null:{prevProps:F,isChecked:F.isChecked}}get isDisabled(){const{isDisabled:F,disabled:M}=this.props;return F||M}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:F,readOnly:M}=this;return!F&&!M}render(){const{size:F,readOnly:M,className:y,children:h,isIOS:w,isIOSReverse:P}=this.props,{isChecked:L}=this.state,{isDisabled:j}=this;return(0,U.jsxs)(z,{className:(0,f.A1)(["Switch",w&&"Switch-IOS",P&&"Switch-IOS-NoTransform",F,L?"is-checked":"isnt-checked",j&&"is-disabled",M&&"readonly",y]),children:[(0,U.jsx)("button",{type:"button",disabled:j,onClick:this.toggle}),h]})}}me(ae,"propTypes",{className:b().string,size:b().oneOf(["regular","small"]),isChecked:b().bool,isDisabled:b().bool,disabled:b().bool,readOnly:b().bool,isIOS:b().bool,isIOSReverse:b().bool,onChange:b().func,children:b().any}),me(ae,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const Se=(0,k.ZP)(ae).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-14ktgxw-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.is-checked{&.small{background:",";button{background:",";}}}}"],B=>B.theme.color_text_disabled01,B=>B.theme.color_text_btn,B=>B.theme.color_proto,B=>B.theme.color_text_btn);class Q extends o.PureComponent{render(){return(0,U.jsx)(Se,{...this.props})}}},10862:(Te,ie,a)=>{"use strict";a.d(ie,{C9:()=>ne,E_:()=>me,vS:()=>be,q6:()=>U,ng:()=>z,Xq:()=>f,Tj:()=>ae,pZ:()=>Q,dA:()=>A,M8:()=>F,wt:()=>y});const o={Mobile:"mobile",PC:"pc",Pad:"pad",DisplayScreen:"display_screen",SmartTV:"smart_tv",SmartCar:"smart_car",Hmi:"hmi",Watch:"watch",Slide:"slide",Customize:"customize"},k={Mobile:"mobile",Web:"web",Other:"other",App:"app",Applet:"applet",Website:"website",WebBack:"web_back",Ipad:"ipad",SmartTV:"smart_tv",AppleWatch:"apple_watch",Slide:"slide",DisplayScreen:"display_screen",HMI:"HMI",Activity:"activity"},_={MP_App:"MP-app",MP_IOS:"MP-ios",MP_Android:"MP-android",MP_Applet:"MP-applet",MP_H5:"MP-h5",MP_Public:"MP-public",MP_ECommerce:"MP-e_commerce",MP_Poster:"MP-poster",PC_Website:"PC-web",PC_WebBack:"PC-web_back",PC_MacOS:"PC-mac",PC_Windows:"PC-win",PAD_IpadOs:"PAD-ipad",PAD_Android:"PAD-android",TV_AppleTVOS:"TV-apple",TV_AndroidTV:"TV-android",CAR_Car:"CAR-car",HMI_IndusHmi:"HMI-indus_hmi",HMI_Car:"HMI-car",WATCH_Apple:"WATCH-apple",WATCH_Android:"WATCH-android",SLIDE_Slide:"SLIDE-slide",DS_Screen:"DS-screen",Customize:"customize",DS_Customize:"DS-customize",HMI_Customize:"HMI-customize"},b={[o.Mobile]:[_.MP_App,_.MP_Applet,_.MP_H5,_.MP_Public,_.MP_IOS,_.MP_Android],[o.PC]:[_.PC_Website,_.PC_WebBack,_.PC_MacOS,_.PC_Windows],[o.Pad]:[_.PAD_IpadOs,_.PAD_Android],[o.DisplayScreen]:[_.DS_Screen],[o.SmartTV]:[_.TV_AppleTVOS,_.TV_AndroidTV],[o.Hmi]:[_.HMI_IndusHmi,_.HMI_Car],[o.Watch]:[_.WATCH_Apple,_.WATCH_Android],[o.Slide]:[_.SLIDE_Slide]},A=()=>{const h=I18N.Resources.basic_widget,w=I18N.Resources.form_widget,P=I18N.Resources.nav_widget,L=I18N.Resources.chart_widget,j=I18N.Resources.advanced_chart_widget,T=I18N.Resources.multimedia_widget,K=I18N.Resources.shape_widget;return{basic:h,form:w,navigation:P,chart:L,advancedChart:j,multimedia:T,shape:K}},W={...o,Common:"common"},f={..._,Common:"common"},z={...b,[W.Common]:[f.Common]},U={All:"all",More:"more"},me={[f.MP_App]:{mt2lozhvvrwd9qh3y:1,mt2lozhjwat9i4s4f:2,mt2lozn2pekekuj9o:3,mt2lozkjwaxx5sc6l:4,mt2lozkqyxzboszxp:5,mt2lozkx5obr587d4:6,mt2lozl89fz8opt8u:7,mt2loznb2k0zlyffa:8,mt2lozll0ulbic8cr:9,mt2lozo1tr65gz6pn:10,mt2lozmatpdb5sriv:11,mt2lozmj66ykejjy9:12,mt2lozmtwmqe7ys4b:13},[f.MP_IOS]:{mt2loxx9vhe83pho7:1,mt2lozcyfdcve2tbx:2,mt2lozruqjwdtbvue:3,mt2lozpshrhq5vij5:4,mt2lozs5uy3zaoupu:5,mt2lozsedohxe6r74:6,mt2lozqoyxhmgy5y5:7,mt2lp0j70wykekm4h:8,mt2lozq2ddinb4pf7:9},[f.MP_Android]:{mt2lozsl4bkv77j8s:1,mt2lozsovqt9b08nn:2,mt2lozss5n1uvuc46:3,mt2lozsu90qn0obeu:4},[f.MP_Applet]:{mtl2eevw55atfiu9:1,mtkc608a4k7xr0i2:2,mtkc33rwf8yjgahd:3,mtkc5zphvgbjz33n:4,mtl2gzug7zytusa4:5,mtkc33x51uq24mx:6,mtkc32xraihahnkg:7,mtk4s6tn56o6ph8a:8,mtk4s6tmciidvya6:9,mtki026w64jh2esk:10},[f.MP_H5]:{mtl121jwze5ph1ap:1,mtl4pfb4nyec95sh:2,mtk4s6tsiqfw31q2:3,mtl4f8r5zpju1kk6:4,mtl486i14562v4cu:5},[f.MP_Public]:{mt2lozoup371ddim9:1,mt2lozpcypmvjkd2p:2},[f.MP_ECommerce]:{mtk4s6ttaa6zwrn2:1,mtk4s6tstihx3kv:2,mtk4s6tu9ngo0rcj:3,mtk4s6tkm7vl5oj8:4},[f.MP_Poster]:{mtki03e4384ossnz:1},[f.PC_Website]:{mt2lp0te7lkorbvrt:1,mt2lp0jjhriinr65t:2,mt2lp0tla1tadz8i3:3,mt2lp0tod9dgs38vz:4,mt2lp0trerpe843hv:5,mt2lp0tu2xixvnzxq:6,mt2lp0y1yqzsmvq4b:7,mt2lp0ywxvf2oqb8u:8,mt2lp0y6te0ortuu9:9,mt2lp0yr1u4kwi6tg:10,mt2lp0yp388m469rj:11,mt2lp0yc11psuwxi4:12},[f.PC_WebBack]:{mt2loztlvsbwyhnct:1,mt2lp0hxsgd1u52oi:2,mt2lp0i0kr4oo4ham:3,mt2lp0it6gedxfg4e:4,mt2lp0i3buy38zpxw:5,mt2lozsoc1x8dhgcu:6,mt2lozrjpn1uvtppn:7,mt2lozsjfmlbtb8br:8,mt2lozrsfzox2pvxz:9,mt2lozrngjw8j02by:10},[f.PC_MacOS]:{mt2lp0nlmyrcmh92j:1,mt2lp0sl3piupf46h:2,mt2lp0rlhnccjqm51:3,mt2lp0shy54ktv3ia:4,mt2lp0xqwg1ytx1m1:5,mt2lp0u2tdh8jrsec:6,mt2lp0tyg6sz9t8oc:7,mt2lp0tv5f6q8rnw3:8,mt2lp0y0szn7hv2py:9,mt2lp0yvugl91ms3u:10,mt2lp0y6466kwqonr:11,mt2lp0yrgwtji3xcl:12,mt2lp0yonfcn3ah55:13,mt2lp0yltffjfqtbl:14},[f.PC_Windows]:{mt2lp12zpb0kdluo4:1,mt2lp16ho95o9h1be:2,mt2lp16lqjaey7agv:3,mt2lp16nnmowgzouf:4,mt2lp0xrf137mahyp:5,mt2lp0u3po8n4hcrq:6,mt2lp0tz1rehh8d73:7,mt2lp0tvw7cliz08m:8,mt2lp0y07dhidvrp4:9,mt2lp0yv8u4q8pnhr:10,mt2lp0y5hmrhbtc03:11,mt2lp0yruig74twz:12,mt2lp0yo93fkym2ec:13,mt2lp0yb0uom7m0n1:14},[f.PAD_IpadOs]:{mt2lozt1l2kg7iqtr:1,mt2lp0it6t990rnld:2,mt2lp0mwm8jwcotdv:3,mt2lp0n74zbbdnr7w:4},[f.PAD_Android]:{mtki03e4384ossnz:1},[f.TV_AppleTVOS]:{mt2lp1ycn4ioyfy5a:1,mt2lp1yffemkhsle3:2,mt2lp1yij1yg8g5i3:3,mt2lp1ylg5hmk0i5q:4},[f.TV_AndroidTV]:{mt2lp1y91m6cei8v9:1,mt2lp1xnd95laexgk:2,mt2lp1xuxbeh2rcg1:3,mt2lp1xpsdjrjh6db:4,mt2lp1xkugp2eu9nb:5},[f.HMI_Car]:{mt2lozre4zpi75z6k:1,mt2lozqzddfwb9gs8:2},[f.HMI_IndusHmi]:{mt2lpi48t5neqizai:1,mt2lpi43mu6wk9ffy:2},[f.WATCH_Apple]:{mt2lp0izyslgamu24:1},[f.WATCH_Android]:{mt2lp0j3czrmtow9j:1},[f.SLIDE_Slide]:{mt2lp0kvxkb2r9k7c:1},[f.DS_Screen]:{mt2lpi3vazsyug92l:1,mt2lpi38e9imwzi56:2,mt2lpi2w3koehilvz:3,mt2lpi340d21pk2bv:4,mt2lpi3cszx3ysf1k:5,mt2lpi30fwywrqmar:6}},be={name:U.More,id:null},ne={name:U.All,id:null},ae=()=>{const{basic:h,form:w,navigation:P,chart:L,multimedia:j,shape:T}=A();return{[f.Common]:[{name:h},{name:w},{name:P},{name:L},{name:j},{name:T}]}},Se={[f.MP_App]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[f.MP_Applet]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[f.PC_WebBack]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[f.PC_Website]:{\u5B98\u7F51\u5BFC\u822A:1,\u5185\u5BB9\u533A:2,\u7279\u5F81\u533A:3,Banner:4,\u5B9A\u4EF7\u533A:5,\u9875\u811A:6},[f.DS_Screen]:{\u56FE\u8868:1,\u6846\u67B6\u80CC\u666F:2,\u6807\u9898\u6837\u5F0F:3,\u5730\u56FE:4,\u6309\u94AE:5,\u7A97\u53E3\u6846:6},[f.Common]:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},Q=()=>{if(!ENV.IS_WONDER_SHARE)return Se;const{basic:h,form:w,navigation:P,chart:L,multimedia:j,shape:T}=A();return{[f.Common]:{[h]:1,[w]:2,[P]:3,[L]:4,[j]:5,[T]:6}}},B={[f.MP_App]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[f.MP_Applet]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[f.PC_WebBack]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[f.PC_Website]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6},\u5B98\u7F51\u5BFC\u822A:{\u5BFC\u822A:1},\u5185\u5BB9\u533A:{\u591A\u5A92\u4F53:1}},[f.DS_Screen]:{all:{\u57FA\u7840:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3,\u591A\u5A92\u4F53:4,\u8868\u5355:5,\u5BFC\u822A:6,\u5F62\u72B6:7},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2}},[f.MP_H5]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.MP_Public]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4}},[f.MP_IOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.MP_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.PC_MacOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.PC_Windows]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.PAD_IpadOs]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.PAD_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.TV_AppleTVOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},[f.TV_AndroidTV]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},[f.HMI_IndusHmi]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6,\u5F62\u72B6:7}},[f.HMI_Car]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u5BFC\u822A:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[f.WATCH_Apple]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5}},[f.WATCH_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5}},[f.SLIDE_Slide]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u5BFC\u822A:6,\u5F62\u72B6:7}},[f.Common]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6},\u57FA\u7840:{\u57FA\u7840:1},\u8868\u5355:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2},\u591A\u5A92\u4F53:{\u591A\u5A92\u4F53:1},\u5F62\u72B6:{\u5F62\u72B6:1}}},F=()=>{if(!ENV.IS_WONDER_SHARE)return B;const{basic:h,form:w,navigation:P,chart:L,advancedChart:j,multimedia:T,shape:K}=A();return{[f.Common]:{all:{[h]:1,[w]:2,[P]:3,[L]:4,[j]:5,[T]:6,[K]:7},[h]:{[h]:1},[w]:{[w]:1},[P]:{[P]:1},[L]:{[L]:1,[j]:2},[T]:{[T]:1},[K]:{[K]:1}}}},M={[f.MP_App]:"app",[f.MP_IOS]:"ios",[f.MP_Android]:"android",[f.MP_Applet]:"\u5C0F\u7A0B\u5E8F",[f.MP_H5]:"H5",[f.MP_Public]:"\u516C\u4F17\u53F7",[f.MP_ECommerce]:"\u7535\u5546",[f.MP_Poster]:"\u6D77\u62A5",[f.PC_Website]:"web\u5B98\u7F51",[f.PC_WebBack]:"web\u540E\u53F0",[f.PC_MacOS]:"mac OS",[f.PC_Windows]:"windows",[f.PAD_IpadOs]:"iPad OS",[f.PAD_Android]:"\u5E73\u677F\u5B89\u5353",[f.TV_AppleTVOS]:"apple tv",[f.TV_AndroidTV]:"Android tv",[f.HMI_IndusHmi]:"\u5DE5\u4E1AHMI",[f.HMI_Car]:"\u8F66\u8F7D\u4E2D\u63A7",[f.CAR_Car]:"\u8F66\u8F7D\u4E2D\u63A7",[f.WATCH_Apple]:"watch os",[f.WATCH_Android]:"\u5B89\u5353\u624B\u8868",[f.SLIDE_Slide]:"\u5E7B\u706F\u7247",[f.DS_Screen]:"\u53EF\u89C6\u5316\u5927\u5C4F"},y={[k.Mobile]:"\u624B\u673A",[k.Web]:"\u7F51\u9875/\u7535\u89C6",[k.Other]:"\u5176\u5B83",[k.App]:"App",[k.Applet]:"\u5C0F\u7A0B\u5E8F",[k.Website]:"Web\u7F51\u7AD9",[k.WebBack]:"Web\u540E\u53F0",[k.Ipad]:"\u5E73\u677F\u7AEF",[k.SmartTV]:"\u667A\u80FD\u7535\u89C6",[k.AppleWatch]:"\u624B\u8868",[k.Slide]:"\u5E7B\u706F\u7247",[k.DisplayScreen]:"\u53EF\u89C6\u5316\u5927\u5C4F",[k.HMI]:"HMI",[k.Activity]:"\u6D3B\u52A8"}},89719:(Te,ie,a)=>{"use strict";a.d(ie,{$0:()=>y,Ei:()=>be,NZ:()=>Q,X4:()=>U,ec:()=>ae,ew:()=>h,hm:()=>me,j_:()=>Se,kI:()=>F,o6:()=>w,oX:()=>z});var o=a(46198),k=a(35262),_=a(35517),b=a(6966),A=a(29184),W=a(9733),f=a(35269);const z=async P=>{let{projectCid:L}=P;return(0,b.EE)("/api/upper/web_v1/sharing/initial?cid="+L)},U=async P=>{let{projectCid:L,sharing:j}=P;return(await(0,b.Gf)("/api/flat/web_v1/project_share/"+L,{...j})).project_share},me=async P=>{let{projectCid:L,sharingCid:j}=P;try{return await(0,b.Bh)("/api/flat/web_v1/project_share/"+j+"?project_cid="+L)}catch(T){await(0,_.Vz)(T)}},be=async P=>{let{sharing:L}=P;try{return await(0,b.IP)("/api/flat/web_v1/project_share/"+L.cid,{project_share:L})}catch(j){await(0,_.Vz)(j)}},ne=()=>{const P=document.getElementById("workspace");o.render((0,f.jsx)(k.Z,{locale:(0,A.F)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}),P)},ae=async P=>{try{if(!P.accessToken||P.project.access_token===P.accessToken)return Se(P.project);{const{project:L,accessToken:j}=P,{project_share:T}=await(0,b.EE)("/api/flat/web_v1/project_share/"+L.cid+"?access_token="+j);return{sharing:{...T,type:"advanced",view_mode:T.device_model}}}}catch(L){await ne()}},Se=P=>{const{cid:L,access_token:j,access:T,building:K,comment_permission:u,password:J,visibility:se,wechat:de}=P,C=new URLSearchParams(location.search),Y=C.get("screen"),Ee=C.get("canvasId"),xe=C.get("view_mode")||(0,W.RD)(L+"_default_sharing_view_mode","read_only",W.cM.String),re=C.get("view_mode")||(0,W.RD)(L+"_default_sharing_view_mode","read_only",W.cM.String),G=!!C.get("selection"),je=G?C.get("selection").split(","):[];return{sharing:{type:"default",project_cid:L,access_token:j,view_access:T,view_sticky:K,comment_permission:u,password:J,visibility:se,wechat:de,view_mode:xe,screen_visible_switch:G,screen_visible_list:je,page_begin:Y,canvas_begin:Ee,device_model:re}}},Q=async P=>{let{projectCid:L}=P;try{const{project_shares:j}=await(0,b.EE)("/api/flat/web_v1/project_share/"+L+"/all");return j.sort((T,K)=>new Date(K.created_at).getTime()-new Date(T.created_at).getTime())}catch(j){await(0,_.Vz)(j)}},B=async P=>{try{const{result:L}=await fetchGetJSON("/api/accesses/v4/project/"+P+"/permission_check?permission=P:update");return L}catch(L){await apiErrorModals(L)}},F=async P=>{let L=null;try{L=await(0,b.EE)("/flpak/w-p2meta/"+P)}catch(j){await(0,_.Vz)(j)}return L},M={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},y=()=>({sharing:M}),h=async P=>{let L,j;try{L=await(0,b.EE)("/api/upper/web_v1/basics/"+P+"/get_details"),L&&JSON.stringify(L)!=="{}"&&(j=!0)}catch(T){L=T,j=!1}return{result:L,statusOk:j}},w=async P=>{let L,j;try{L=await(0,b.EE)("/api/accesses/v4/project/"+P+"/permission_check?permission=P:update"),L&&JSON.stringify(L)!=="{}"&&(j=!0)}catch(T){L=T,j=!1}return{result:L,statusOk:j}}},17626:(Te,ie,a)=>{"use strict";a.d(ie,{E2:()=>o,Zy:()=>k,v5:()=>_});const o="local_sharing_copy_url_v8",k=50,_={public:"share_anyone_view",restricted:"org_members_only"}},62440:(Te,ie,a)=>{"use strict";a.d(ie,{j:()=>oo});var o=a(7485),k=a(6056),_=a(18827),b=a(24978),A=a(45312),W=a(57351);const f={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only"},z=null,U="123",me={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},be={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ne={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var ae=a(89719),Se=a(99990),Q=a(20702),B=a(38483),F=a(44907);let M=function(e){return e.acces="access",e.viewAccess="viewAccess",e.copy="copy",e.qrCode="qrCode",e.embed="Embed",e.setting="Setting",e.pwdProtection="PwdProtection",e.password="password",e.sticky="sticky",e.comment="comment",e.mobile="mobile",e}({});var y=function(e){return e.Edit="\u53EF\u7F16\u8F91",e.onlyView="\u4EC5\u67E5\u770B",e}(y||{}),h=function(e){return e.NoLogin="\u672A\u767B\u5F55\u7528\u6237",e.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",e.ProjectMember="\u534F\u4F5C\u6210\u5458",e.TeamMember="\u56E2\u961F\u6210\u5458",e}(h||{}),w=function(e){return e.EditMode="\u7F16\u8F91\u6A21\u5F0F",e.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",e.DeviceMode="\u771F\u673A\u6A21\u5F0F",e}(w||{});const P=e=>{let{userId:r,orgPermissions:c,spacePermissions:l,projectPermissions:m}=e;if(!r)return h.NoLogin;const g=(0,F.Yj)(r,c),p=(0,F.Yj)(r,l),v=(0,F.Yj)(r,m);if(!g)return h.LoginButNotOrgMember;if(p||v)return h.ProjectMember;if(g)return h.TeamMember},L=e=>{let{userCanEdit:r,userId:c,orgPermissions:l,spacePermissions:m,projectPermissions:g,isEditMode:p,view_mode:v,isIframe:x}=e;const N=r?y.Edit:y.onlyView,O=P({userId:c,orgPermissions:l,spacePermissions:m,projectPermissions:g}),D=x?"\u5DE5\u4F5C\u53F0":p?w.EditMode:v==="read_only"?w.ReadOnlyMode:w.DeviceMode;return{user_rights:N,user_type:O,operation_from:D}},j=e=>{let{optionType:r,userCanEdit:c,userId:l,orgPermissions:m,spacePermissions:g,projectPermissions:p,isEditMode:v,view_mode:x,share_type:N,isIframe:O,project_name:D,project_cid:I}=e;const{user_rights:Z,user_type:X,operation_from:E}=L({userCanEdit:c,userId:l,orgPermissions:m,spacePermissions:g,projectPermissions:p,isEditMode:v,view_mode:x,isIframe:O});(0,B.U1)("share_function_click_V8",{operation_type:r,user_rights:Z,user_type:X,operation_from:E,project_name:D,project_cid:I,share_type:N})},T=e=>{(0,B.U1)("advanced_sharing_click",e)},u=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:f,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0},r=function(g,p){g===void 0&&(g=e);let{type:v="sharing:state:update",payload:x=e}=p;switch(v){case"sharing:state:update":return{...g,...x};case"sharing:state:clear":return{...e};default:return g}},c={"sharing:init":(g,p)=>{let{dispatch:v}=g,{payload:x}=p;v({type:"sharing:state:update",payload:x})},"sharing:currentSharing:update":(g,p)=>{let{getState:v,dispatch:x}=g,{payload:{updatedKV:N}}=p;const O=v(),I={...l.getCurrentSharing(O),...N};x({type:"sharing:state:update",payload:{currentSharing:I}})},"sharing:remote:sharing:update":async(g,p)=>{let{getState:v,dispatch:x}=g,{payload:{sharingData:N,updatedKV:O}}=p;const D=v(),I=l.getOrg(D),Z=l.getProject(D);let X;if(N.type==="default"){var E,q;X=async()=>(0,Se.BG)(Z.cid,{...O}),await(0,Q.lI)({updateType:"update",updateFn:X,org:I});const $={...Z,...O};x({type:"sharing:state:update",payload:{project:$}}),(E=MB)!=null&&E.action&&((q=MB)==null||q.action("current:update:state",{currentProject:$}))}else{const $=l.getAdvancedSharingList(D),V={...N,...O};X=async()=>(0,ae.Ei)({sharing:V}),await(0,Q.lI)({updateType:"update",updateFn:X,org:I});const te=$.map(ce=>ce.cid===V.cid?V:ce);x({type:m["sharing:advancedSharingList:update"],payload:{sharingList:te}})}},"sharing:remote:sharing:delete":async(g,p)=>{let{getState:v,dispatch:x}=g,{payload:{sharingCid:N}}=p;const O=v(),D=l.getProject(O),I=l.getAdvancedSharingList(O);await(0,ae.hm)({projectCid:D.cid,sharingCid:N});const Z=I.filter(X=>X.cid!==N);x({type:m["sharing:advancedSharingList:update"],payload:{sharingList:Z}})},"sharing:settingPage:advanced:confirm":async g=>{let{getState:p,dispatch:v}=g;const x=p(),N=l.getSettingPageType(x),O=l.getCurrentSharing(x),D=l.getOrg(x),I=l.getProject(x);if(N==="create"){const Z=async()=>(0,ae.X4)({projectCid:I.cid,sharing:O});await(0,Q.lI)({updateType:"create",updateFn:Z,org:D}),v({type:m["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const Z=async()=>(0,ae.Ei)({sharing:O});await(0,Q.lI)({updateType:"update",updateFn:Z,org:D})}v({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async g=>{var p,v;let{getState:x,dispatch:N}=g;const O=x(),D=l.getCurrentSharing(O),I=l.getProject(O),Z=l.getOrg(O),X=async()=>(0,Se.BG)(I.cid,Object.assign({},D,{building:D.view_sticky}));await(0,Q.lI)({updateType:"update",updateFn:X,org:Z});const E=Object.assign({},I,D,{building:D.view_sticky});N({type:"sharing:state:update",payload:{project:E}}),(p=MB)!=null&&p.action&&((v=MB)==null||v.action("current:update:state",{currentProject:E}))},"sharing:go-settingPage":(g,p)=>{let{dispatch:v}=g,{payload:{currentSharing:x,settingPageType:N,subSettingPageType:O=e.subSettingPageType}}=p;v({type:"sharing:state:update",payload:{currentSharing:x,settingPageType:N,topPageIndex:"setting",subSettingPageType:O}})},"sharing:topPageIndex:jump":(g,p)=>{let{dispatch:v}=g,{payload:{topPageIndex:x=e.topPageIndex}}=p;v({type:"sharing:state:update",payload:{topPageIndex:x}})},"sharing:advancedSharingList:update":(g,p)=>{let{dispatch:v}=g,{payload:{sharingList:x}}=p;v({type:"sharing:state:update",payload:{advancedSharingList:x}})},"sharing:projectAccess:init":async g=>{let{dispatch:p,getState:v}=g;const x=v(),N=l.getMembers(x),O=l.getProject(x),D=O==null?void 0:O.cid,I=O==null?void 0:O.is_org_project;if(!D||!I){setTimeout(()=>{p({type:u.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:Z,statusOk:X}=await(0,ae.ew)(D);if(p({type:u.entryKey["sharing:init"],payload:{loading:!1}}),!!X&&Z){var E,q;const{project:$,org:V}=Z;await p({type:"entry:projectAccess:initProjectData",payload:{initData:Z,members:N}}),p({type:u.entryKey["sharing:init"],payload:{project:$,org:V,initData:Z}}),(E=MB)!=null&&E.action&&((q=MB)==null||q.action("current:update:state",{currentProject:$}))}},"sharing:function:track":(g,p)=>{let{getState:v}=g,{payload:{operation:x,viewMode:N,isDefault:O}}=p;const D=v(),I=l.getProject(D)||{},Z=l.getCanEditByUser(D),X=l.getOrg(D)||{},E=l.getUser(D),q=l.getInitData(D)||{},$=(q==null?void 0:q.space)||{},V=l.getIsEditMode(D),te=l.getHostType(D),{cid:ce,name:R}=I,ue={userCanEdit:Z,userId:E==null?void 0:E.id,orgPermissions:X==null?void 0:X.permissions,spacePermissions:$==null?void 0:$.permissions,projectPermissions:I==null?void 0:I.permissions,isEditMode:V,view_mode:N,optionType:x,share_type:O?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:te==="iframe",project_name:R,project_cid:ce};j(ue)},"sharing:advance:click:track":(g,p)=>{let{getState:v}=g,{}=p;const x=v(),N=l.getSettingPageType(x),O=l.getCurrentSharing(x),D=l.getProject(x),I=l.getAdvancedSharingList(x)||[],Z=l.getScreenMetaList(x),X=l.getHostType(x),E=(0,Q.VN)(Z.pageAttrMap),q=(0,Q.SG)(!O.screen_visible_switch,O.screen_visible_list,E);let $="\u5168\u90E8";O.screen_visible_switch&&($=""+q);const V=I.length;T({link_name:O.link_name,links_number:N==="create"?V+1:V,share_type:O.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:$,operation_type:N==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:X==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:D.name,project_cid:D.cid})}},l=W.g.genQuery(e,{getStateFn:g=>g.sharing}),m=W.g.genEntryKey(c);return{__initialState:e,__reducer:r,__entry:c,entryKey:m,query:l}})(),J=(0,k.UY)({sharing:u.__reducer,projectAccess:A.ZP}),se={...u.__entry,..._.M},de=()=>{const e=(0,b.gk)(),r=(0,k.MT)(J,(0,k.md)(e.middleware));return e.setEntryMap(se),r};var C=a(79552),Y=a(45090),Ee=a(24011),xe=a(30258),re=a(34595),G=a.n(re),je=a(17626);const Ue=Y.ZP.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1ergmj0-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#333;top:36px;right:0;width:292px;padding:16px 12px;border-radius:4px;border:1px solid #4f5052;&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:8px solid transparent;border-bottom:8px solid #4f5052;}&::after{content:'';position:absolute;top:0px;right:32px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #333;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],je.Zy,e=>e.theme.color_bg_line,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),Ve=Y.ZP.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-v93i5v-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_grid_line,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_line,e=>e.theme.color_share_member__border_color);var Oe=a(11182),Re=a(92180);const qe="__mb_delete_permission",bt=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],Pt=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],Et=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],It=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Tt={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},Ot={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},Ht=Object.fromEntries([...bt,...Pt,...Et,...It].map(e=>[e.value,e.label]));var pt=a(33360),ht=a(78451),Wt=a(74223);const Pn=e=>{const r=(0,C.v9)(ht.mK),c=r.get(e);return(0,Wt.f)(c,r)},fn=(e,r)=>{const c=(0,C.v9)(ht.mK),l=(0,C.v9)(ht.b),m=(0,C.v9)(ht.z2),g=(0,C.v9)(ht.NT),p=(0,C.v9)(ht.Mo),x=(0,C.v9)(ht.Q3).is_disable_banned_viewer||!1;let N=null,O=null;const D=e;let I=[],Z=[],X=[];N=l.get(r),Z=N.permissions,X=(0,F.Qx)(N.team_cid,c,g),O=Oe.n.Org,I=m,X=Object.values(Object.fromEntries(X.map(te=>[te.user_id,te])));const E=Object.values(Object.fromEntries([...X,...Z].map(te=>[te.user_id,te]))),q=(0,o.useMemo)(()=>{const te=(0,F.Hn)(I);return I.reduce((ce,R)=>{const{user_id:ue}=R,pe=(0,F.Ow)({userId:ue,permissionsMap:te,permissionScope:O});return ce.set(Number(ue),pe)},new Map)},[I]),$=(0,o.useMemo)(()=>{const te=(0,F.Hn)(E);return I.reduce((ce,R)=>{const{user_id:ue}=R,pe=(0,F.Ow)({userId:ue,permissionsMap:te,permissionScope:D});return ce.set(Number(ue),pe)},new Map)},[E,I]),V=(0,o.useMemo)(()=>{const te=(0,F.Hn)(X);return X.reduce((ce,R)=>{const{user_id:ue}=R,pe=(0,F.Ow)({userId:ue,permissionsMap:te,permissionScope:D});return ce.set(Number(ue),pe)},new Map)},[X]);return{userCurrentSpacePermission:p,membersTopScopePermissonMap:q,membersCurrentScopePermissonMap:$,membersInheritedCurrentScopePermissonMap:V,topScopePermissionMembers:I,currentScopePermissionMembers:Z,inheritedPermissionMembers:X,combinedCurrentPermissionMembers:E,isDisableBannedViewer:x}},yn=(e,r,c)=>{const l=(0,C.I0)();return(0,o.useCallback)(async(g,p)=>{const{name:v,email:x,mobile:N,permissionMap:O}=g,{memberCurrentScopePermisson:D,currentScopeRoleName:I}=O;if(!D)return;const Z=v||x||N;let X=!1;p===qe&&(X=!0),D.isUnknown?await l({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:r,userCid:g.user_cid,roleName:p,userName:Z}}):X?await l({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:r,userId:g.user_id,roleName:I,userName:Z}}):await l({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:r,userId:g.user_id,roleName:p,userName:Z}})},[r,l])},bn=(e,r)=>{const c=(0,C.v9)(ht.rc),l=(0,C.v9)(ht.x4),m=(0,C.v9)(ht.zG),{userCurrentSpacePermission:g,membersTopScopePermissonMap:p,membersCurrentScopePermissonMap:v,membersInheritedCurrentScopePermissonMap:x,topScopePermissionMembers:N,inheritedPermissionMembers:O,currentScopePermissionMembers:D,combinedCurrentPermissionMembers:I,isDisableBannedViewer:Z}=fn(e,r),X=v.get(Number(c))||F.dp,E=!!m.get(Number(c)),q=(0,o.useMemo)(()=>{const fe=new Map;return N.forEach(_e=>{let{user_id:ke,role:Pe}=_e;const Be=p.get(Number(ke))||F.dp,Je=v.get(Number(ke))||F.dp,rt=x.get(Number(ke))||F.dp,it=!!m.get(Number(ke)),Xe=l.get(Number(ke));if(!Xe)return;const Le=Xe.permission,ze=Je.isUnknown?Pe:Je.roleName;fe.set(Number(ke),{...Xe,permissionMap:{currentScopeRoleName:ze,userCurrentSpacePermission:g,userCurrentScopePermisson:X,memberTopScopePermisson:Be,memberCurrentScopePermisson:Je,memberInheritedPermisson:rt,memberOrgPermisson:Le,isSelf:Number(ke)===Number(c),isDisableBannedViewer:Z,userIsSpaceLimiter:E,memberIsSpaceLimiter:it}})}),fe},[N,p,v,x,m]),$=(0,o.useMemo)(()=>D.sort((fe,_e)=>pt.tr[_e.role]-pt.tr[fe.role]).map(fe=>q.get(Number(fe.user_id))).filter(fe=>fe),[D,q]),V=(0,o.useMemo)(()=>O.sort((fe,_e)=>pt.tr[_e.role]-pt.tr[fe.role]).map(fe=>{const{user_id:_e,role:ke}=fe,Pe=x.get(Number(_e))||F.dp,Be=q.get(Number(fe.user_id));return Be?{...Be,permissionMap:{...Be.permissionMap,currentScopeRoleName:ke,memberCurrentScopePermisson:Pe}}:null}).filter(fe=>fe),[O,q,x]),te=(0,o.useMemo)(()=>I.sort((fe,_e)=>pt.tr[_e.role]-pt.tr[fe.role]).map(fe=>q.get(Number(fe.user_id))).filter(fe=>fe),[I,q]),ce=(0,o.useMemo)(()=>{const fe=te.map(ke=>Number(ke.user_id)),_e=[];for(const[ke,Pe]of q.entries())fe.includes(Number(ke))||Pe&&_e.push(Pe);return _e},[q,te]),R=(0,o.useMemo)(()=>{const fe=V.filter(ke=>{var Pe;return(Pe=ke.permissionMap)==null||(Pe=Pe.memberCurrentScopePermisson)==null?void 0:Pe.isManager});return Object.values(Object.fromEntries([...fe,...$].map(ke=>[ke.user_id,ke])))},[V,$]),ue=(0,o.useMemo)(()=>{const fe=R.map(ke=>Number(ke.user_id)),_e=[];for(const[ke,Pe]of q.entries())fe.includes(Number(ke))||Pe&&_e.push(Pe);return _e},[q,R]);return{isOnlyOneManager:(0,o.useMemo)(()=>te.filter(fe=>{var _e;return(_e=fe.permissionMap)==null||(_e=_e.memberCurrentScopePermisson)==null?void 0:_e.isManager}).length===1,[te]),userCurrentScopePermisson:X,userCurrentSpacePermission:g,currentMembers:$,inheritedMembers:V,joinedMembers:te,unjoinedMembers:ce,assignedMembers:R,unassignedMembers:ue,currentOrgMembersMap:l}};var Xt=a(13666),i=a(35269);const On=()=>{var e;const r=(0,C.v9)(u.query.getUser),c=(0,C.v9)(u.query.getProject),l=(0,C.v9)(u.query.getInitData),m=Pn(c==null?void 0:c.team_cid),g=c==null?void 0:c.cid,p=(0,C.I0)(),v=(0,o.useCallback)(E=>{E.stopPropagation(),p({type:u.entryKey["sharing:init"],payload:{mainPage:"access"}})},[p]),{currentMembers:x,inheritedMembers:N,joinedMembers:O}=bn(Oe.n.Project,g);let D=x;m>=1?N.forEach(E=>{D.find($=>$.id===E.id)||D.push(E)}):D=O;const Z=(e=D)==null?void 0:e.filter(E=>Number(E.user_id)!==Number(r==null?void 0:r.id));Z&&(D=Z.slice(0,2));const X=(0,o.useCallback)(E=>{var q;const{avatar:$,name:V,id:te}=E;return $&&!$.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:E.avatar,alt:E.name},te):(0,i.jsx)("div",{className:"avatar avater-name",children:V==null||(q=V.slice(0,1))==null?void 0:q.toUpperCase()},te)},[]);return!l||JSON.stringify(l)==="{}"?null:(0,i.jsx)(Xt.Z,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,i.jsxs)(Ve,{onClick:v,children:[X(r),D.length>0&&D.map(E=>X(E)),(0,i.jsx)("div",{className:"remaining",children:(0,i.jsx)(Re.q,{name:"sharing/add_member",isColorPure:!0})}),(0,i.jsx)(Re.q,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},ee=(0,o.memo)(On),oe=Y.ZP.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1u48ud6-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),ye=e=>{let{tabs:r,handleChangeTabIndex:c,tabIndex:l,className:m}=e;return(0,i.jsx)(oe,{className:m,children:r.map((g,p)=>(0,i.jsx)("div",{className:G()("tab-item",l===p&&"tab-sel"),id:"tab-item-"+p,onClick:()=>c(p),children:g},p))})},Ze=(0,o.memo)(ye);var nt=a(95023),xt=a(12298);const un=()=>{let e=null;const r=(0,C.I0)(),c=(0,C.v9)(u.query.getProject),l=(0,C.v9)(u.query.getCanEditByUser),m=(0,C.v9)(u.query.getHostType),g=(0,C.v9)(u.query.getIsEditMode),p=(0,C.v9)(u.query.getInitData),v=(0,C.v9)(u.query.getTabIndex),[x,N]=(0,o.useState)(!1),O=(c==null?void 0:c.is_org_project)||!1,D=m==="iframe"||g,Z=new URLSearchParams(location.search).get("view_mode")||"read_only",X=D&&O&&p&&JSON.stringify(p)!=="{}",E=l&&!O,q=(0,o.useCallback)(()=>{const ce=m==="iframe",R=(ce?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",ue=(ce?"dashboard":"workspace")+"-v8_solo_share_upgrade",pe={payEntrance:R,checkoutPlace:ue,checkoutArea:ce?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(ce){const fe="/workspace/''?payment_param="+(0,xt.N)(pe);(0,nt.MI)(fe,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(pe)},[]),$=()=>{e=setTimeout(()=>{N(!0)},500)},V=()=>{e&&clearTimeout(e),N(!1)},te=(0,o.useCallback)(ce=>{r({type:u.entryKey["sharing:init"],payload:{tabIndex:ce}})},[r]);return(0,i.jsx)(Ue,{className:G()(E&&"tool-upgrade"),children:D?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ze,{tabIndex:v,tabs:ENV.IS_ON_PREMISES?[I18N.imockSharing.default_share]:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:te}),E&&(0,i.jsxs)("div",{className:"upgrade-team-business",onClick:q,onMouseEnter:$,onMouseLeave:V,children:[(0,i.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),x&&(0,i.jsxs)("div",{className:"content",onClick:ce=>ce.stopPropagation(),children:[(0,i.jsx)("div",{className:"top-bar"}),(0,i.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,i.jsx)("a",{href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),X&&(0,i.jsx)(ee,{})]}):(0,i.jsx)("div",{className:"sharing-title",children:Z==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},An=(0,o.memo)(un),os=Y.ZP.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-2ovkcx-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],je.Zy,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Ts=Y.ZP.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-2ovkcx-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],je.Zy);var Qt=a(19635),Tn=a(84952);const Rs=Y.ZP.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-15116kg-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_background_sharing_item),Rn=Y.ZP.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-15116kg-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_line,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_line,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),vn=(0,Y.ZP)(Tn.ZP).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-15116kg-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"]),Ln=Y.ZP.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-15116kg-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn),Ls=Y.ZP.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-g4yrew-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-name{width:240px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;padding:0px 4px;justify-content:center;align-items:center;gap:6px;border-radius:4px;&:hover{background-color:",";}}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function Bt(e){const{fBlur:r,name:c}=e,[l,m]=(0,o.useState)(!1),[g,p]=(0,o.useState)(c),v=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(l){var I;(I=v.current)==null||I.focus()}},[l]);const x=()=>{r(),m(!1)};return{inputRef:v,isRenaming:l,setIsRenaming:m,inputName:g,setInputName:p,handleFocus:()=>{var I;(I=v.current)==null||I.select()},handleBlur:x,handleKeyDown:I=>{I.key==="Enter"&&x()},handleInput:I=>{let Z=I.target.value;Z.length>200&&(Z=Z.substring(0,200)),p(Z)}}}const vt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},Ds=Y.ZP.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1gzmiv1-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_line,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function pn(e){const{className:r,size:c=20,name:l,onClick:m,onMouseEnter:g,onMouseLeave:p,children:v,tempDisabled:x,direction:N,toolTipName:O,type:D,isColorPure:I,isBorder:Z}=e,X=E=>{x||m(E,D)};return(0,i.jsxs)(Ds,{className:G()(r,x&&"tempDisabled",Z&&"isBorder"),onClick:X,onMouseEnter:g,onMouseLeave:p,children:[(0,i.jsx)(Re.q,{size:c,name:l,isColorPure:I}),v]})}const Fs=e=>{let{sharingData:r,handleItemAction:c}=e;const{link_name:l}=r,m=(0,C.I0)(),g=r.device_model,[p,v]=(0,o.useState)(l),x=(0,C.v9)(u.query.getCanEditByUser),N=(0,C.v9)(u.query.getIsEditMode),O=(0,C.v9)(u.query.getHostType),D=(0,C.v9)(u.query.getScreenMetaList),I=(0,C.v9)(u.query.getAdvancedSharingList),Z=O==="iframe"||N,X=Z&&x,E=Z&&x,q=()=>{const Be=pe.current.value;if(Be==="")_e(p),m({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,Q.x2)({value:Be,currentSharing:r,sharingList:I}))_e(p),m({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{v(Be);const Je={link_name:Be};m({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:r,updatedKV:Je}})}},$=(0,o.useMemo)(()=>r.type==="advanced"?(0,Q.F2)(D,r):null,[r,D]),{isRenaming:V,setIsRenaming:te,handleKeyDown:ce,handleBlur:R,handleFocus:ue,inputRef:pe,handleInput:fe,setInputName:_e,inputName:ke}=Bt({name:p||"",fBlur:q}),Pe=(0,o.useCallback)(()=>{te(!0)},[te]);return(0,i.jsxs)(Ls,{className:G()(!E&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"head-left",children:[(0,i.jsx)(Re.q,{className:"view-mode-icon",name:g==="device"?"sharing/mode_device":"sharing/mode_canvas"}),V?(0,i.jsx)("form",{children:(0,i.jsx)("input",{value:ke,onFocus:ue,onChange:fe,ref:pe,onBlur:R,onKeyPress:ce})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:G()("link-name",!X&&"link-name-not-edit"),onClick:Pe,children:p})})]}),(0,i.jsx)(Xt.Z,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,i.jsxs)("div",{className:"head-right",children:[(0,i.jsx)("div",{children:$}),(0,i.jsx)(pn,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!X,size:20,onClick:Be=>c(Be,vt.showPage)})]})})]})},is=(0,o.memo)(Fs),zs=Y.ZP.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-11jw1u-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.foot-right{display:flex;align-items:center;}"],e=>e.theme.color_text_L2),Bs=e=>{let{handleItemAction:r}=e;const c="open",l=(0,C.v9)(u.query.getCanEditByUser),m=(0,C.v9)(u.query.getIsEditMode),v=((0,C.v9)(u.query.getHostType)==="iframe"||m)&&l&&c==="open",x=(0,o.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:vt.embed,tempDisabled:!1},{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:vt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:vt.setting,tempDisabled:!v}],[v]);return(0,i.jsxs)(zs,{children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{className:"foot-right",children:x.map((N,O)=>(0,i.jsx)(pn,{className:G()("share-icon",N.className),name:N.name,type:N.className,toolTipName:N.toolTipName,onClick:r,tempDisabled:N.tempDisabled,isColorPure:N.isColorPure,size:20},O))})]})},Dn=(0,o.memo)(Bs);var Ut=a(9733),Us=a(53375),Fn=a.n(Us);const zn=e=>{const{project:r,sharing:c,user:l}=e,[m,g]=(0,o.useState)(!1),[p,v]=(0,o.useState)(void 0);return{isURLCopied:m,handleCopyURL:()=>{(0,Q.dL)({project:r,action:c.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:c.link_name}),g(!0),clearTimeout(p);const N=setTimeout(()=>g(!1),3e3);v(N);const O=Fn()().format("YYYY-MM-DD HH:mm:ss"),D=(0,Q.jH)(l)&&!(0,Ut.GQ)(je.E2);(0,Ut.A6)(je.E2,O),D&&(0,B.tv)({prototype_activation_time:O})}}};var $t=a(79329);function Bn(e){const{password:r}=e;return{isHavePassword:(0,o.useMemo)(()=>r!==null&&r!=="",[r])}}const Vs=e=>{var r;let{sharingData:c,setShowDelConfirmModal:l,fromDefault:m}=e;const g=(0,C.I0)(),p=(0,o.useRef)(null),v=c.view_access,x=c.device_model,N=(0,C.v9)(u.query.getProject),O=(0,C.v9)(u.query.getCanEditByUser),D=(0,C.v9)(u.query.getIsEditMode),I=(0,C.v9)(u.query.getHostType),Z=(0,C.v9)(u.query.getUser),X=(N==null?void 0:N.is_org_project)||!1,q=(I==="iframe"||D)&&O,[$,V]=(0,o.useState)({top:0,left:0}),[te,ce]=(0,o.useState)(!1),{isURLCopied:R,handleCopyURL:ue}=zn({project:N,sharing:c,user:Z}),{isHavePassword:pe}=Bn(c),fe=(0,o.useCallback)(()=>{const ze=(0,Q.UE)(N,c);(0,$t.l)(ze),ue(),g({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:x,isDefault:!1}})},[g,c,ue,N,x]),_e=(0,o.useCallback)(ze=>{const at={view_access:ze};g({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:c,updatedKV:at}}),g({type:u.entryKey["sharing:function:track"],payload:{operation:ze==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:x,isDefault:!1}})},[c,g,x]),ke=(0,o.useCallback)(()=>{l({isOpened:!0,item:c})},[l,c]),Pe=(0,o.useCallback)(()=>{g({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:c,settingPageType:"edit"}}),g({type:u.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:x,isDefault:!1}})},[g,c,x]),[Be,Je]=(0,o.useState)(void 0),rt=(0,o.useMemo)(()=>{if(Be==="viewAccess"){const ze=(0,i.jsx)(Re.q,{name:"toolbar/selected",className:"selected-icon"});if(X){const at=v==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>_e("public"),icon:at?ze:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>_e("restricted"),icon:at?(0,i.jsx)("div",{style:{width:0}}):ze}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Pe},{label:I18N.imockSharing.delete,onclick:ke}]},[Be,_e,ke,Pe,v,X]),it=(0,o.useCallback)(ze=>{if(!X||!q)return;Je("viewAccess");const at=ze.currentTarget.getBoundingClientRect();V({top:at.y+at.height+3,left:at.x-1}),ce(!te)},[X,q,te,Je,V]),Xe=(0,o.useCallback)((ze,at)=>{if(ze!=null&&ze.currentTarget)switch(at){case vt.QRcode:ze.stopPropagation(),g({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:c}}),g({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:x,isDefault:!1}});break;case vt.embed:g({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:c}}),g({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:x,isDefault:!1}});break;case vt.mkt:(0,nt.MI)("/community/upload?project_cid="+(N==null?void 0:N.cid),"_blank","noreferrer");break;case vt.setting:{Je("misc");const ut=ze.currentTarget.getBoundingClientRect(),Nt=document.getElementById("v8-share-page").getBoundingClientRect().bottom-ut.bottom<120?ut.y-75:ut.bottom+5;V({top:Nt,left:I==="iframe"?ut.x+20:ut.x-60}),ce(!te)}break;case vt.showPage:g({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:c,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[te,Je,V,ce,g,N,c,x,I]),Le=(0,o.useCallback)(()=>{var ze;V({...$,left:((ze=p.current)==null?void 0:ze.getBoundingClientRect().x)-1})},[$]);return(0,o.useEffect)(()=>(window.addEventListener("resize",Le),()=>window.removeEventListener("resize",Le))),(0,i.jsxs)(Rs,{className:G()(m&&"from-default"),children:[(0,i.jsx)(is,{sharingData:c,handleItemAction:Xe}),(0,i.jsxs)(Rn,{className:G()("item-center",!q&&"userNoEdit","advance-item"),isViewActiveDropdown:te&&Be==="viewAccess",children:[(0,i.jsx)("div",{ref:p,className:G()("left","sharingV2-click-visible",{"normal-hover":!0},!X&&"can-not-edit"),onClick:it,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(r=I18N.imockSharing[je.v5[v]])!=null?r:"missing data"}),X&&(0,i.jsx)(Re.q,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(Ln,{type:"button",className:G()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(R)),onClick:fe,children:[(0,i.jsx)("span",{className:"state state-0",children:pe?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(Re.q,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,i.jsx)(Dn,{handleItemAction:Xe}),te&&(0,i.jsx)(vn,{className:G()("design-avoid",Be,"advance_menu"),position:$,onClose:()=>{ce(!1)},children:rt.map((ze,at)=>(0,i.jsx)(Tn.sN,{text:ze.label,onClick:ze.onclick,icon:ze.icon,disabled:ze.disabled,canClick:ze.tempDisabled},at))})]})},Qe=(0,o.memo)(Vs),Zs=Y.ZP.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1kiue1c-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,je.Zy,e=>e.theme.color_bg_line);function as(e){let{handleConfirmAction:r}=e;return(0,i.jsx)(Zs,{children:(0,i.jsxs)("div",{className:"confirm-content",children:[(0,i.jsxs)("div",{className:"top",children:[(0,i.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,i.jsx)(pn,{name:"sharing/close",onClick:()=>r(!1),className:"close"})]}),(0,i.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,i.jsxs)("div",{className:"bottom",children:[(0,i.jsx)(Qt.kq,{onClick:()=>r(!1),children:I18N.imockSharing.cancel}),(0,i.jsx)(Qt.O3,{className:"delete",onClick:()=>r(!0),children:I18N.imockSharing.delete})]})]})})}const Un=o.memo(as),Hs=()=>{const e=(0,C.v9)(u.query.getUser),r=(0,C.v9)(u.query.getOrg),{cid:c,name:l,is_org_project:m}=(0,C.v9)(u.query.getProject),g=(0,C.v9)(u.query.getHostType),p=(0,C.v9)(u.query.getAdvancedSharingList),v=(0,C.v9)(u.query.getCanEditByUser),x=(0,C.v9)(u.query.getTheme),[N,O]=(0,o.useState)({isOpened:!1,item:null}),[D,I]=(0,o.useState)(!1),Z=(0,C.I0)(),X=p.length===0,E=(0,o.useCallback)(async $=>{$&&Z({type:u.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:N.item.cid}}),O({isOpened:!1,item:null})},[N.item,O,Z]);(0,o.useEffect)(()=>{(async()=>{const te=(await(0,ae.NZ)({projectCid:c})).map(ce=>({...ce,type:"advanced"})).sort((ce,R)=>new Date(R.created_at).getTime()-new Date(ce.created_at).getTime());Z({type:u.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:te}}),I(!0)})()},[c,Z]);const q=async()=>{const $=(0,Q.yN)(e,r),V=()=>{(0,B.U1)("create_advanced_sharing_click",{project_name:l,project_cid:c,source:g==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(p.length>=$){const ce=(r==null?void 0:r.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:ce}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:ce}}),"*"),V();return}const te=(0,Q.FB)(c,p,{view_access:m?"restricted":"public"});Z({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:te,settingPageType:"create"}}),V()};return D?X?(0,i.jsxs)(Ts,{children:[(0,i.jsx)(Re.q,{name:x==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,i.jsx)(Qt.KM,{onClick:q,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,i.jsxs)(os,{children:[(0,i.jsxs)("div",{className:"create-item "+(v?"":"no-edit"),onClick:q,children:[(0,i.jsx)(Re.q,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),p.map(($,V)=>(0,i.jsx)(Qe,{setShowDelConfirmModal:O,sharingData:$},$.cid+"-"+V)),N.isOpened&&(0,i.jsx)(Un,{handleConfirmAction:E})]}):null},Rt=(0,o.memo)(Hs),cs=Y.ZP.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-1mfcda2-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;span{margin-right:10px;}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],je.Zy,je.Zy,e=>e.theme.color_text_L1,je.Zy,e=>e.theme.color_text_L1,e=>e.theme.color_sharing_default_bottom_bg,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var Vt=a(10238);const en=e=>{var r;let{defaultShare:c}=e;const l=(0,C.I0)(),m=(0,o.useRef)(null),g=(0,C.v9)(u.query.getProject),p=c;g&&(p.visibility=g.visibility);const v=(0,C.v9)(u.query.getHostType),x=(0,C.v9)(u.query.getIsEditMode),N=(0,C.v9)(u.query.getUser),O=v==="iframe"||x,D=(0,C.v9)(u.query.getCanEditByUser),I=(g==null?void 0:g.is_org_project)||!1,Z=!I&&D,[X,E]=(0,o.useState)({top:0,left:0}),[q,$]=(0,o.useState)(!1),[V,te]=(0,o.useState)(p==null?void 0:p.visibility),ce=O&&D&&V==="open",R=O&&D,{isURLCopied:ue,handleCopyURL:pe}=zn({project:g,sharing:p,user:N}),fe=(0,o.useCallback)(Le=>{const ze={access:Le};l({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:p,updatedKV:ze}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:Le==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:p.view_mode,isDefault:!0}})},[p,l]),_e=(0,o.useMemo)(()=>{const Le=(0,i.jsx)(Re.q,{name:"toolbar/selected",className:"selected-icon"});if(I){const ze=(p==null?void 0:p.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>fe("public"),icon:ze?Le:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>fe("restricted"),icon:ze?(0,i.jsx)("div",{style:{width:0}}):Le}]}else return[]},[fe,I,p]),ke=(0,o.useMemo)(()=>{const Le=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:vt.embed,tempDisabled:V==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||Le.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:vt.QRcode,tempDisabled:V==="close",isBorder:!0}),Z&&Le.push({name:"sharing/mkt_icon",toolTipName:I18N.imockSharing.publish_to_community,className:vt.mkt,tempDisabled:V==="close",isColorPure:!0,isBorder:!0}),Le},[V,Z]),Pe=(0,o.useCallback)(()=>{const Le=V==="close"?"open":"close",ze={visibility:Le};te(Le),l({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:p,updatedKV:ze}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:Le==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:p.view_mode,isDefault:!0}})},[V,l,p,te]),Be=(0,o.useCallback)(Le=>{if(!I||!ce)return;const ze=Le.currentTarget.getBoundingClientRect();let at=ze.y+ze.height+3;v==="iframe"&&(at=at+56),E({top:at,left:ze.x-1}),$(!q)},[I,ce,q,E,v]),Je=(0,o.useCallback)(()=>{const Le=(0,Q.UE)(g,p);(0,$t.l)(Le),pe(),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:p.view_mode,isDefault:!0}})},[l,p,pe,g]),rt=(0,o.useCallback)(()=>{const Le=p,{view_mode:ze}=p;l({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:Le,settingPageType:"edit"}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:ze,isDefault:!0}})},[p,l]),it=(0,o.useCallback)((Le,ze)=>{if(!(Le!=null&&Le.currentTarget))return;const at=p,{view_mode:ut}=p;switch(ze){case vt.QRcode:Le.stopPropagation(),l({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:at}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:ut,isDefault:!1}});break;case vt.embed:l({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:at}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:ut,isDefault:!1}});break;case vt.mkt:(0,nt.MI)("/community/upload?project_cid="+(g==null?void 0:g.cid),"_blank","noreferrer");break;default:break}},[l,g,p]),Xe=(0,o.useCallback)(()=>{var Le;E({...X,left:((Le=m.current)==null?void 0:Le.getBoundingClientRect().x)-1})},[X]);return(0,o.useEffect)(()=>(window.addEventListener("resize",Xe),()=>window.removeEventListener("resize",Xe))),p?(0,i.jsxs)(cs,{className:G()(!R&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"default-top",children:[O?(0,i.jsxs)("div",{className:"switch-content",children:[(0,i.jsx)("span",{children:I18N.imockSharing.public_access}),(0,i.jsx)(Vt.Z,{size:"small",readOnly:!0,isIOS:!0,isChecked:V==="open",onChange:Pe})]}):(0,i.jsx)("div",{className:"switch-content",children:I18N.imockSharing.default_share}),(0,i.jsxs)(Rn,{className:G()("item-center","default-link",V==="close"&&"notView",!ce&&"userNoEdit"),isViewActiveDropdown:q,children:[(0,i.jsx)("div",{ref:m,className:G()("left","sharingV2-click-visible",{"normal-hover":!0},!I&&"can-not-edit"),onClick:Be,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(r=I18N.imockSharing[je.v5[p.view_access]])!=null?r:"missing data"}),I&&(0,i.jsx)(Re.q,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(Ln,{type:"button",className:G()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ue)),onClick:Je,children:[(0,i.jsx)("span",{className:"state state-0",children:p.password&&p.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(Re.q,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsxs)("div",{className:"default-bottom",children:[(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),ke.map((Le,ze)=>(0,i.jsx)(pn,{className:G()("share-icon",Le.className),name:Le.name,type:Le.className,toolTipName:Le.toolTipName,onClick:it,tempDisabled:Le.tempDisabled,isColorPure:Le.isColorPure,isBorder:Le.isBorder,size:24},ze))]}),O&&(0,i.jsxs)("div",{className:G()("default-setting",!ce&&"no-edit"),onClick:rt,children:[(0,i.jsx)(Re.q,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),q&&(0,i.jsx)(vn,{className:G()("design-avoid","viewAccess"),position:X,onClose:()=>{$(!1)},children:_e.map((Le,ze)=>(0,i.jsx)(Tn.sN,{text:Le.label,onClick:Le.onclick,icon:Le.icon,disabled:Le.disabled,canClick:Le.tempDisabled},ze))})]}):null},xn=(0,o.memo)(en),hn=Y.ZP.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-1sz39j-0"})(["width:100%;position:relative;height:100%;"]),Vn=Y.ZP.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-13xenhf-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_grid_line,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_grid_line,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var ls=a(41768);const gt=Y.ZP.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-8g3rhq-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],je.Zy,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),Mt=e=>{let{title:r,handleClick:c}=e;return(0,i.jsx)(gt,{children:(0,i.jsxs)("div",{className:"title",onClick:c,children:[(0,i.jsx)(Re.q,{name:"sharing/nav_back"}),r]})})},Ws=()=>{let e="read_only";const r=(0,C.I0)(),c=(0,C.v9)(u.query.getCurrentSelectSharing),l=(0,C.v9)(u.query.getProject),m=(0,C.v9)(u.query.getTheme),{screen_visible_list:g,access_token:p}=c||{};if(c.type==="default"){const{view_mode:Z}=c;e=Z}else{const{device_model:Z}=c;e=Z}let v="";const x=(0,Q.wr)(p);g&&g.length!==0?v='<iframe src="'+x+"/embed/v2/sharing?view_mode="+e+"&selection="+g[0]+'" allowTransparency="true" frameborder="0"></iframe>':v='<iframe src="'+x+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>';let N=null;const O=(0,o.useCallback)(Z=>{const X=Z.currentTarget;X.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(N),N=setTimeout(()=>{X.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,Q.dL)({action:"\u590D\u5236\u4EE3\u7801",project:l||{},linkName:c.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(E){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[c,N,l]),D=(0,o.useCallback)(Z=>{(0,$t.l)(v),O(Z)},[O,v]),I=(0,o.useCallback)(()=>{r({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[r]);return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(Mt,{title:I18N.imockSharing.insert,handleClick:I}),(0,i.jsxs)(Vn,{children:[(0,i.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,i.jsxs)("div",{className:"copy-wrapper",children:[(0,i.jsx)("img",{src:m===ls.Q2.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,i.jsxs)("div",{className:"copy-box",children:[(0,i.jsx)("p",{className:"sharing-embedded-url",children:v}),(0,i.jsx)("button",{className:"copy-button copy","data-clipboard-text":v,onClick:D,children:I18N.imockSharing.copy_code})]})]})]})]})},Zn=(0,o.memo)(Ws),_n=Y.ZP.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-q78fwd-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);flex-direction:column;justify-content:center;display:flex;:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:0 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:40px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,je.Zy,je.Zy,e=>e.theme.color_bg_line,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),Hn=Y.ZP.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-q78fwd-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.mt{margin-top:4px;}.last{margin-bottom:-8px;}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)"),wn=Y.ZP.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-q78fwd-2"})(["height:298px;.visible-check{height:32px;}"]);var Wn=a(94811);const Ks=Y.ZP.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-1w4pkti-0"})(["display:flex;background-color:",";height:32px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:108px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;transition:all 0.2s ease-out;color:",";border:1px solid ",";border-radius:4px;height:100%;&:focus{border-color:",";border-right:1px solid ",";}}.reset-pwd{width:16px;height:16px;position:absolute;border-radius:2px;right:6px;color:#999;&:hover{background-color:",";}&:active{background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_grid_line,e=>e.theme.color_text_L1,e=>e.theme.color_bg_line,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_grid_line,e=>e.theme.color_grid_line,e=>e.theme.color_text_L1,e=>e.theme.color_bg_line,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function Kn(e){return Math.random().toString(36).slice(-e)}function ds(e){const{onSubmit:r,value:c}=e,[l,m]=(0,o.useState)(e.value),g=(0,o.useRef)(null),p=O=>{m(O.target.value)},v=()=>{const O=Kn(6);m(O),r(O)},x=()=>{if(!r(l)){m(c);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(D){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},N=O=>{O.key==="Enter"&&(x(),g.current.blur())};return(0,i.jsx)(Ks,{children:(0,i.jsxs)("div",{className:"password-input-wrapper",children:[(0,i.jsx)("input",{ref:g,type:"text",className:"password-input",value:l,onChange:p,onBlur:x,onKeyPress:N}),(0,i.jsx)(Xt.Z,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,i.jsx)(Re.q,{className:"reset-pwd",name:"common/spinner",onClick:v})})]})})}function us(e){const{isOrgProject:r,sharingData:c,updateSharing:l}=e,m=c.view_mode,{isHavePassword:g}=Bn(c),p=(0,C.I0)(),{comment_permission:v,wechat:x,view_sticky:N}=c,O=(0,o.useMemo)(()=>(0,Q.VV)(r),[r]),D=()=>{if(g)l({password:""}),p({type:u.entryKey["sharing:settingPage:default:confirm"]});else{const V=Kn(6);I(V)}p({type:u.entryKey["sharing:function:track"],payload:{operation:g?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:m}})},I=V=>/^\s*$/.test(V)||!/^\w+$/.test(V)?!1:(l({password:V}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:m}}),!0),Z=()=>{l({wechat:!x}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:x?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:m}})},X=(0,o.useMemo)(()=>v==="org_member",[v]),E=()=>{l({view_sticky:N==="view_sticky"?"no_sticky":"view_sticky"}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:N?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:m}})},q=()=>{l({comment_permission:v==="org_member"?"off":"org_member"}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:X?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:m}})},$=V=>{let{value:te}=V;l({view_access:te}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:c,updatedKV:{access:te}}})};return(0,i.jsxs)(Hn,{children:[r&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(Wn.Z,{name:"access",optionList:O,value:c.view_access,onChange:$})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[g&&(0,i.jsx)(ds,{value:c.password,onSubmit:I}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:g,onChange:D})]})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:N==="view_sticky",onChange:E})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:X,onChange:q})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:x,onChange:Z})]})]})}const tn=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"}],St=e=>{let{sharingData:r,updateSharing:c}=e;const l=N=>()=>{c({device_model:N})},[m,g]=(0,o.useState)(!1),p=(0,C.v9)(u.query.getTheme),v=()=>{g(!0)},x=()=>{g(!1)};return(0,i.jsx)(ps,{className:G()({dark:p==="dark"}),children:(0,i.jsxs)("div",{className:"device-model",children:[(0,i.jsxs)("div",{className:"device-model-header",children:[(0,i.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsx)(Re.q,{onMouseEnter:v,onMouseLeave:x,className:"tipsIcon",name:"sharing/question",size:14}),m&&(0,i.jsxs)("div",{className:G()("device-model-modal",{light:p==="light",dark:p==="dark"}),children:[(0,i.jsx)("div",{className:"icon-triangle"}),(0,i.jsxs)("div",{className:G()("modal-content"),children:[(0,i.jsxs)("div",{className:"read_only",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+p+".png"}),(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]}),(0,i.jsxs)("div",{className:"device",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+p+".png"}),(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]})]})]})]}),(0,i.jsx)("div",{className:"device-model-type-container",children:tn().map((N,O)=>{let{key:D,label:I,icon:Z}=N;const X="device-model-"+D+"   ";return(0,i.jsxs)("div",{className:G()(X,{"is-active":D===r.device_model,dark:p==="dark"}),onClick:l(D),children:[(0,i.jsx)(Re.q,{name:Z,size:16}),(0,i.jsx)("span",{children:I})]},O)})})]})})},ps=Y.ZP.div.withConfig({displayName:"ViewModeModel__StyledDevcieModel",componentId:"sc-1tq5cfg-0"})(["position:relative;margin-bottom:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}.device-model-modal{z-index:100;position:absolute;left:20px;top:24px;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;justify-content:space-evenly;padding:24px 0px;width:374px;height:230px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.device,.read_only{width:160px;height:180px;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin:6px 0;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-read_only,.device-model-device{width:177px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);&.dark{border:1px solid #4f5052;}border-radius:6px;color:",";span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_bg_line,e=>e.theme.color_bg_white,e=>e.theme.color_bg_line,e=>e.theme.color_bg_line,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal);function ft(){const e=(0,C.v9)(u.query.getCurrentSharing),r=(0,C.v9)(u.query.getProject),c=(0,C.I0)(),l=(0,o.useCallback)(p=>{c({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:p}})},[c]),m=p=>{c({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:p}}),(0,Ut.iO)(r.cid+"_default_sharing_view_mode",p.device_model,Ut.cM.String),c({type:u.entryKey["sharing:settingPage:default:confirm"]})},g=()=>{c({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,i.jsxs)(_n,{children:[(0,i.jsx)(Mt,{title:I18N.imockSharing.sharing_setting_title,handleClick:g}),(0,i.jsxs)("div",{className:"basic-content",children:[(0,i.jsx)(St,{sharingData:e,updateSharing:m}),(0,i.jsx)(us,{isOrgProject:r.is_org_project,sharingData:e,updateSharing:l})]})]})}var lt=a(68435);const Ct=()=>(0,i.jsx)(nn,{}),nn=Y.ZP.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-178sehp-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);function Sn(e){const{isOrgProject:r,sharingData:c,updateSharing:l}=e,m=c.device_model,g=(0,o.useMemo)(()=>(0,Q.VV)(r),[r]),{isHavePassword:p}=Bn(c),v=(0,C.I0)(),{view_sticky:x,comment_permission:N,wechat:O}=c,D=V=>{let{value:te}=V;l({view_access:te})},I=()=>{if(p)l({password:""});else{const V=Kn(6);Z(V)}v({type:u.entryKey["sharing:function:track"],payload:{operation:p?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:m,isDefault:!0}})},Z=V=>/^\s*$/.test(V)||!/^\w+$/.test(V)?!1:(l({password:V}),v({type:u.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:m,isDefault:!0}}),!0),X=()=>{l({wechat:!O}),v({type:u.entryKey["sharing:function:track"],payload:{operation:O?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:m,isDefault:!0}})},E=(0,o.useMemo)(()=>N==="org_member",[N]),q=()=>{l({view_sticky:!x,sticky:!x}),v({type:u.entryKey["sharing:function:track"],payload:{operation:x?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:m,isDefault:!0}})},$=()=>{l({comment_permission:N==="org_member"?"off":"org_member"}),v({type:u.entryKey["sharing:function:track"],payload:{operation:E?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:m,isDefault:!0}})};return(0,i.jsxs)(Hn,{children:[c.type==="advanced"&&r&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(Wn.Z,{name:"access",optionList:g,value:c.view_access,onChange:D})]}),(0,i.jsxs)("div",{className:"line-item "+(r?"mt":""),children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[p&&(0,i.jsx)(ds,{value:c.password,onSubmit:Z}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:p,onChange:I})]})]}),(0,i.jsx)(Ct,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:x,onChange:q})]}),(0,i.jsxs)("div",{className:"line-item mt",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:E,onChange:$})]}),(0,i.jsx)(Ct,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(Vt.Z,{size:"small",isIOS:!0,isChecked:O,onChange:X})]})]})}var Zt=a(49650),sn=a(7627),et=a.n(sn);const hs=Y.ZP.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-ysqvb2-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Cn extends o.PureComponent{constructor(){super(...arguments),(0,Zt.Z)(this,"onToggle",r=>{const{onChange:c}=this.props;c(r)})}render(){const{className:r,isDisabled:c,readOnly:l,isChecked:m,isCircle:g}=this.props,p=G()(r,{"is-checked":m,"is-disabled":c,readonly:l});return(0,i.jsx)(hs,{className:p,onClick:this.onToggle,isCircle:g,children:(0,i.jsx)("span",{className:"Check-state",children:(0,i.jsx)(Re.q,{name:"new_replace/box_check"})})})}}(0,Zt.Z)(Cn,"propTypes",{isChecked:et().bool,isDisabled:et().bool,readOnly:et().bool,onChange:et().func,label:et().any,name:et().string,value:et().any,className:et().string,isCircle:et().bool}),(0,Zt.Z)(Cn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var Sr=a(86381),Cr=a(45567),Gn=a(18166);const Gs=Y.ZP.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1qgvr8z-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:180px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_grid_line,e=>e.theme.color_grid_line,e=>e.theme.color_text_disabled01,e=>e.theme.color_grid_line,e=>e.theme.color_grid_line,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class $n extends o.PureComponent{constructor(r){super(r),(0,Zt.Z)(this,"handleCheck",p=>{const{onUpdateScreenVisibleList:v,screenVisibleList:x}=this.props,N=new Set(x),O=(0,Gn.qv)(p),D=N.has(p.cid);O.forEach(Z=>{let{cid:X}=Z;D?N.delete(X):N.add(X)});const I=[];for(const Z of N){const X=this.screenDataMap[Z];X&&!(0,Gn.Vx)(X)&&I.push(X)}v(Array.from(N))}),(0,Zt.Z)(this,"onSelectAll",p=>{const{onUpdateScreenVisibleList:v}=this.props;v(p?this.pageKeyList:[])});const{screenMetaList:c}=r,{treeData:l,pageAttrMap:m,pageKeyList:g}=c;this.screenDataMap=m,this.screenTreeData=l,this.pageKeyList=g,this.pageExceptFolderList=(0,Q.VN)(m)}componentDidMount(){const r=(0,Ut.RD)("currentJumpingSharingScreenMetaCid",void 0,Ut.cM.String);(0,Ut.q)("currentJumpingSharingScreenMetaCid"),r!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+r+'"]').scrollIntoView(),300)}render(){const{theme:r,screenVisibleList:c,isDisplayScreenAll:l}=this.props,m=(c==null?void 0:c.length)===this.pageKeyList.length,g=(0,Q.SG)(l,c,this.pageExceptFolderList);return(0,i.jsxs)(Gs,{children:[(0,i.jsxs)("div",{className:G()("screen-config-header",{"is-disabled":l}),children:[(0,i.jsx)(Sr.Z,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:l,isChecked:m}),(0,i.jsxs)("div",{className:"content-wrapper",children:[(0,i.jsx)("span",{className:"divider",children:"|"}),(0,i.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",g).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,i.jsx)("div",{className:G()("screen-list-content",{"is-disabled":l,dark:r==="dark"}),children:(0,i.jsx)("div",{className:"sm-list",children:(0,i.jsx)(ms,{theme:r,isDisplayScreenAll:l,screenTreeData:this.screenTreeData,screenVisibleList:c,onCheck:this.handleCheck})})})]})}}(0,Zt.Z)($n,"propTypes",{theme:et().string,screenMetaList:et().object,screenVisibleList:et().array,onUpdateScreenVisibleList:et().func,isDisplayScreenAll:et().bool});const ms=e=>{let{theme:r,isDisplayScreenAll:c,screenTreeData:l,screenVisibleList:m,onCheck:g}=e;return(0,i.jsx)(i.Fragment,{children:l.children.map(p=>(0,i.jsx)(Jt,{theme:r,treeNode:p,root:!0,depth:0,screenVisibleList:m,isDisplayScreenAll:c,onCheck:g},p.cid))})};ms.propTypes={theme:et().string,isDisplayScreenAll:et().bool,screenTreeData:et().object,screenVisibleList:et().array,onCheck:et().func};class Jt extends o.PureComponent{constructor(r){super(r),(0,Zt.Z)(this,"handleCheck",c=>{c.stopPropagation();const{isDisplayScreenAll:l}=this.props;if(l)return;const{treeNode:m,onCheck:g}=this.props;g(m)}),(0,Zt.Z)(this,"handleExpand",c=>{const{isDisplayScreenAll:l}=this.props;l||(c.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:r,treeNode:c,root:l,depth:m,screenVisibleList:g,onCheck:p,theme:v}=this.props,{children:x,data:N}=c,O=x.length!==0,{expand:D}=this.state,I=g&&g.includes(c.cid);return(0,i.jsxs)("li",{className:G()("content-item"),"data-cid":c.cid,children:[(0,i.jsxs)("div",{className:G()("sm-box",{"is-display":I,"is-disabled":r}),children:[(0,i.jsx)(Cn,{isDisabled:r,className:"sm-check",isChecked:I,onChange:this.handleCheck}),(0,i.jsx)(gs,{isDisabled:r,theme:v,root:l,depth:m,showExpander:O,data:N,expand:D,onClick:this.handleCheck,onExpand:this.handleExpand})]}),x.length>0&&D&&(0,i.jsx)("ol",{className:"sm-child",children:x.map(Z=>(0,i.jsx)(Jt,{theme:v,treeNode:Z,depth:m+1,screenVisibleList:g,isDisplayScreenAll:r,onCheck:p},Z.cid))})]})}}(0,Zt.Z)(Jt,"propTypes",{theme:et().string,isDisplayScreenAll:et().bool,treeNode:et().object,screenVisibleList:et().array,depth:et().number,root:et().bool,onCheck:et().func});class gs extends o.PureComponent{render(){const{depth:r,showExpander:c,data:l,expand:m,onExpand:g,onClick:p,theme:v,isDisabled:x}=this.props,N=19*(r+1);return(0,i.jsxs)("div",{className:G()("sm-item"),style:{paddingLeft:N},onClick:p,children:[c&&(0,i.jsx)("a",{className:"expander",onClick:g,children:(0,i.jsx)(Re.q,{className:G()("arrow-icon",{"is-expand":m}),name:"common/expand"})}),(0,i.jsx)(Cr.p,{icon:l.icon,theme:v,disabled:x,isExpand:m}),(0,i.jsx)("span",{className:"screen-name",children:l.name})]})}}(0,Zt.Z)(gs,"propTypes",{theme:et().string,isDisabled:et().bool,showExpander:et().bool,data:et().object,depth:et().number,expand:et().bool,onExpand:et().func,onClick:et().func});function fs(e){const r=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:c,updateSharing:l}=e,[m,g]=(0,o.useState)(c.screen_visible_switch?2:1),p=(0,C.v9)(u.query.getTheme),v=(0,C.v9)(u.query.getScreenMetaList),x=O=>{l({screen_visible_list:O})},N=O=>{let{value:D}=O;l({screen_visible_switch:D==="2",screen_visible_list:[]}),g(D)};return(0,i.jsxs)(wn,{children:[(0,i.jsx)("div",{className:"line-item visible-check",children:(0,i.jsx)(Wn.Z,{name:"access",optionList:r,value:m,onChange:N})}),v&&(0,i.jsx)($n,{theme:p,screenMetaList:v,screenVisibleList:c.screen_visible_list,isDisplayScreenAll:!c.screen_visible_switch,onUpdateScreenVisibleList:x})]})}var $s=a(50741);const ys=e=>{let{handleConfirm:r,handleCancel:c}=e;const l=(0,C.v9)(u.query.getCurrentSharing),m=(0,C.v9)(u.query.getTheme),g=(0,C.v9)(u.query.getScreenMetaList),p=l.type==="default"?!1:l.screen_visible_switch&&(0,Q.ML)(g,l).selectedSize===0,v=()=>{p||r()};return(0,i.jsxs)(Js,{className:"confirm-bar",children:[(0,i.jsx)(Qt.KM,{className:G()("confirm",{dark:m==="dark"}),disabled:p,onClick:v,children:I18N.SettingPanel.confirm}),(0,i.jsx)(Qt.kq,{className:"cancel",onClick:c,children:I18N.imockSharing.cancel})]})},Js=Y.ZP.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-fh6wtb-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:12px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),bs=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function Ys(){const e=(0,C.v9)(u.query.getProject),r=(0,C.v9)(u.query.getSettingPageType),c=(0,C.v9)(u.query.getSubSettingPageType),l=(0,C.v9)(u.query.getCurrentSharing),m=(0,C.v9)(u.query.getAdvancedSharingList),g=(0,C.I0)(),[p,v]=(0,o.useState)(c==="basic"?0:1),[x,N]=(0,o.useState)(l.link_name),[O,D]=(0,o.useState)(!1),I=Pe=>{v(Pe)},Z=(0,o.useCallback)(async()=>{g({type:u.entryKey["sharing:settingPage:advanced:confirm"]})},[g]),X=(0,o.useCallback)(()=>{g({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),r==="edit"&&O&&g({type:"sharing:advance:click:track"})},[g,r,O]),E=(0,o.useCallback)(Pe=>{g({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Pe}}),r==="edit"&&(D(!0),Z())},[g,r,Z,D]),q=()=>{const Pe=ue.current.value;Pe===""?(g({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),_e(x)):(0,Q.x2)({value:Pe,currentSharing:l,sharingList:m})?(_e(x),g({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(N(Pe),E({link_name:Pe}))},{isRenaming:$,setIsRenaming:V,handleKeyDown:te,handleBlur:ce,handleFocus:R,inputRef:ue,handleInput:pe,inputName:fe,setInputName:_e}=Bt({name:l.link_name,fBlur:q}),ke=()=>{V(!0)};return(0,i.jsxs)(_n,{children:[r==="create"?(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,i.jsx)(Mt,{title:I18N.imockSharing.sharing_setting_title,handleClick:X}),(0,i.jsxs)("div",{className:"share-link-title",children:[(0,i.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,i.jsx)("div",{className:G()("name-input",{"is-renaming":$}),children:$?(0,i.jsx)("form",{children:(0,i.jsx)("input",{value:fe,onFocus:R,onChange:pe,ref:ue,onBlur:ce,onKeyPress:te})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{onClick:ke,children:x}),(0,i.jsx)($s.Z,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:ke})]})})]}),(0,i.jsx)(St,{sharingData:l,updateSharing:E}),(0,i.jsxs)("div",{className:"tabs",children:[(0,i.jsx)(lt.Z,{className:"sharing-nav",activeIndex:p,onTabChange:I,children:bs().map(Pe=>{let{key:Be,name:Je,...rt}=Pe;return(0,i.jsx)(lt.G,{...rt,active:p===Be,className:G()({visible:Je==="visible",basic:Je==="basic"})},Be)})}),(0,i.jsx)("div",{})]}),p===0?(0,i.jsx)(Sn,{isOrgProject:e.is_org_project,sharingData:l,updateSharing:E}):(0,i.jsx)(fs,{sharingData:l,updateSharing:E}),r==="create"&&(0,i.jsx)(ys,{handleConfirm:Z,handleCancel:X})]})}function qs(){return(0,C.v9)(u.query.getCurrentSharing).type==="default"?(0,i.jsx)(ft,{}):(0,i.jsx)(Ys,{})}const Xs=Y.ZP.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-1konos2-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),Qs=(0,o.memo)(function(){const r=(0,C.v9)(u.query.getSharingToast),c=(0,C.I0)();return(0,o.useEffect)(()=>{setTimeout(()=>{c({type:u.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[c]),r?(0,i.jsxs)(Xs,{children:[(0,i.jsx)(Re.q,{name:"sharing/toast_waring",isColorPure:!0}),r]}):null}),er=Y.ZP.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-qtrrh-0"})(["display:flex;align-items:center;justify-content:center;height:calc(100% - ","px);"],je.Zy);var tr=a(46007);const nr=Y.ZP.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-ft5f1y-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function sr(e){const{isQRcodePanel:r,text:c,project:l}=e,m=l.icon||null;return r?(0,i.jsxs)(nr,{className:"qrcode-and-icon",children:[(0,i.jsx)(tr.Z,{className:"qrcode",text:c,width:110,height:110}),m&&(0,i.jsx)("div",{className:"p-icon-box",children:(0,i.jsx)("img",{src:m})})]}):null}const vs=()=>{const e=(0,C.I0)(),r=(0,C.v9)(u.query.getCurrentSelectSharing),c=(0,C.v9)(u.query.getProject),l=(0,o.useMemo)(()=>(0,Q.UE)(c,r),[r,c]),m=(0,o.useCallback)(()=>{e({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(Mt,{title:I18N.imockSharing.qr_code,handleClick:m}),(0,i.jsx)(er,{children:(0,i.jsx)(sr,{isQRcodePanel:!0,project:c,text:l})})]})},xs=(0,o.memo)(vs),Jn=()=>{var e;const r=(0,C.I0)(),c=(0,C.v9)(u.query.getHostSharingData),l=(0,C.v9)(u.query.getProject),m=l==null?void 0:l.is_org_project,{link_name:g,view_access:p}=c,v=(0,C.v9)(u.query.getUser),x=(0,C.v9)(u.query.getHostType),N=(0,C.v9)(u.query.getIsEditMode),O=x==="iframe"||N,D=(0,C.v9)(u.query.getCanEditByUser),{isURLCopied:I,handleCopyURL:Z}=zn({project:l,sharing:c,user:v}),X=O&&D,E=(0,o.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:vt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:vt.embed,tempDisabled:!1,isBorder:!0}],[]),q=(0,o.useCallback)(()=>{const V=(0,Q.UE)(l,c);(0,$t.l)(V),Z(),r({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:c.device_model,isDefault:!1}})},[r,c,Z,l]),$=(0,o.useCallback)((V,te)=>{if(!(V!=null&&V.currentTarget))return;const ce=c,{device_model:R}=c;switch(te){case vt.QRcode:V.stopPropagation(),r({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:ce}}),r({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:R,isDefault:!1}});break;case vt.embed:r({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:ce}}),r({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:R,isDefault:!1}});break;default:break}},[r,c]);return(0,i.jsxs)(cs,{children:[(0,i.jsxs)("div",{className:"default-top",children:[(0,i.jsx)("div",{className:"switch-content",children:g}),(0,i.jsxs)(Rn,{className:G()("item-center","default-link",!X&&"userNoEdit"),children:[(0,i.jsx)("div",{className:G()("left","sharingV2-click-visible",{"normal-hover":!0},!m&&"can-not-edit"),children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[je.v5[p]])!=null?e:"missing data"}),m&&(0,i.jsx)(Re.q,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(Ln,{type:"button",className:G()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(I)),onClick:q,children:[(0,i.jsx)("span",{className:"state state-0",children:c.password&&c.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(Re.q,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsx)("div",{className:"default-bottom",children:(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),E.map((V,te)=>(0,i.jsx)(pn,{className:G()("share-icon",V.className),name:V.name,type:V.className,toolTipName:V.toolTipName,onClick:$,tempDisabled:V.tempDisabled,isColorPure:V.isColorPure,isBorder:V.isBorder,size:24},te))]})})]})},Yn=(0,o.memo)(Jn),rr=()=>{const e=(0,C.v9)(u.query.getTopPageIndex),r=(0,C.v9)(u.query.getTabIndex),c=(0,C.v9)(u.query.getSharingToast),l=(0,C.v9)(u.query.getHostSharingData),m=!l||l.type==="default",g=(0,C.v9)(u.query.getProject),p=(0,C.v9)(u.query.getIsEditMode),x=(0,C.v9)(u.query.getHostType)==="iframe"||p,[N,O]=(0,o.useState)(l);return(0,o.useEffect)(()=>{const{sharing:D}=(0,ae.j_)(g);O(D)},[l,g]),(0,i.jsxs)(hn,{children:[e==="edit"&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(An,{}),r===0?!x&&!m?(0,i.jsx)(Yn,{}):N?(0,i.jsx)(xn,{defaultShare:N}):(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(Rt,{})]}),e==="embed"&&(0,i.jsx)(Zn,{}),e==="setting"&&(0,i.jsx)(qs,{}),e==="qrCode"&&(0,i.jsx)(xs,{}),c&&(0,i.jsx)(Qs,{})]})},or=(0,o.memo)(rr),ir=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,ar=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var qn=a(6966);const _s=async(e,r)=>{try{let l=null;return e?l=await(0,qn.EE)("/api/dashboard/v4/users/search?email="+e):r&&(l=await(0,qn.EE)("/api/dashboard/v4/users/search?mobile="+r)),l}catch(l){var c;return l!=null&&(c=l.message)!=null&&c.includes("failed with 404")?{}:null}};var Xn=a(27149);const ws=(0,Y.ZP)(Xn.Z).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1wqmy1b-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),cr=(0,Y.vJ)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:100px;margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:102px;margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}']);let rn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const Qn=e=>{const{tipType:r,position:c="center",className:l}=e,[m,g]=(0,o.useState)({}),p=(0,C.v9)(ht.Q3);(0,o.useEffect)(()=>{const x=document.querySelector(".sharingBoxV2 ");if(x){const{left:N,top:O}=x.getBoundingClientRect();g({left:Number(N)+13,top:Number(O)+29})}},[]);const v=()=>{switch(r){case rn.Project:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),!(p!=null&&p.is_disable_banned_viewer)&&(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,i.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case rn.SubFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,i.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case rn.RootFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case rn.OrgSpace:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case rn.OrgSpaceLimiter:return(0,i.jsx)("section",{className:"single-line",children:(0,i.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,i.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ws,{opener:(0,i.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:c,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:G()("permission-tip",l&&l),menu:v(),menuBaseStyle:m}),(0,i.jsx)(cr,{})]})};var dr=a(64792);const At=Y.ZP.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-se9dlz-0"})(["width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Ss=(0,Y.ZP)(dr.ZP).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-se9dlz-1"})(["width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),ur=(0,Y.vJ)([".permission-select.CheckSelectMenu{padding:8px 0;background-color:#333;border-radius:4px;box-shadow:none;&:lang(en){min-width:120px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:#fff;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:#444;color:#fff;}&:hover{color:#fff;}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:#fff;}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"]);var kn=a(10217);const pr=e=>{let r=[],c={};switch(e){case Oe.n.OrgSpace:r=Pt,c=pt.Tt;break;case Oe.n.Folder:r=Et,c=pt.qf;break;case Oe.n.Project:r=It,c=pt.p$;break;default:break}return r.map(l=>({...l,permission:(0,F.JY)(l.value,c)}))},Cs=(e,r)=>{let c={};switch(e){case Oe.n.OrgSpace:return r;case Oe.n.Folder:c=Ot;break;case Oe.n.Project:c=Tt;break;default:return r}return c[r]||r},hr=e=>{switch(e){case Oe.n.OrgSpace:return I18N.imockSharing.permission_no_right_project;case Oe.n.Folder:return I18N.imockSharing.permission_no_right_folder;case Oe.n.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},ks=e=>{const{value:r,optionList:c,handleChange:l}=e,m=(0,o.useRef)(null),[g,p]=(0,o.useState)(!0),v=c.filter(N=>N.value===r),x=(0,o.useCallback)(()=>{m.current&&m.current.close()},[]);return(0,o.useEffect)(()=>(document.body.addEventListener("wheel",x),()=>{document.body.removeEventListener("wheel",x)}),[x]),(0,o.useEffect)(()=>{const N=setTimeout(()=>{p(!1)},1e3);return()=>{clearTimeout(N)}},[]),g?(0,i.jsx)(Ss,{unstyled:!0,ref:m,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:r,menuX:"right",onChange:l,optionList:v,menuClassName:"permission-select"}):(0,i.jsx)(Ss,{unstyled:!0,ref:m,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:r,menuX:"right",onChange:l,optionList:c,menuClassName:"permission-select"})},mr=(0,o.memo)(ks),on=(e,r)=>{const{isSelf:c,userCurrentSpacePermission:l,userCurrentScopePermisson:m,memberCurrentScopePermisson:g,memberTopScopePermisson:p,memberOrgPermisson:v}=r;return e.map(N=>{let{value:O,label:D,permission:I}=N,Z=!1;return l.isManager&&c||(m.isMember?(m.level<g.level||m.level<I.level||!p.isMember&&p.isViewer&&!v.isMember&&I.isMember)&&(Z=!0):Z=!0),Object.assign({},{value:O,label:I18N.imockSharing[D]||D},{isDisabled:Z})})},Ns=e=>{const{readOnlyTooltip:r,isReset:c=!1,member:l,isOnlyOneManager:m,permissionScope:g,onPermissionChange:p}=e;let{readOnly:v}=e,x=v,N=r;const O=pr(g),{permissionMap:D}=l,{memberCurrentScopePermisson:I,userCurrentScopePermisson:Z,userCurrentSpacePermission:X,currentScopeRoleName:E,isSelf:q,isDisableBannedViewer:$,userIsSpaceLimiter:V,memberIsSpaceLimiter:te}=D;let ce=on(O,D);$&&(ce=ce.filter(pe=>!pe.value.includes("ban_viewer"))),g===Oe.n.OrgSpace&&!te&&(ce=ce.filter(pe=>pe.value!=="space_limiter")),(g===Oe.n.OrgSpace||te)&&!I.isUnknown&&!I.isInherited&&!c&&(q&&!I.isUnknown||Z.isManager&&ce.push({value:qe,label:I18N.imockSharing.remove,isDisabled:!1})),!x&&V&&!c&&(v=!0,x=!0),!x&&I.isViewer&&!c&&(Z.isMember?Z.level<I.level?(x=!0,N="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):I.isManager&&m&&(x=!0,N=hr(g)):X!=null&&X.isManager&&q||(x=!0));let R=Cs(g,E);c&&(R="");const ue=pe=>{x||p(l,pe)};if(x||v){const pe=ce.find(fe=>fe.value===R);return(0,i.jsx)(At,{className:G()("read-only-option",!v&&x&&"disabled"),children:(0,i.jsx)(kn.Z,{content:N,position:"bottom",children:(0,i.jsx)("span",{className:"label",children:pe.label})})})}return(0,i.jsx)(mr,{value:R,handleChange:ue,optionList:ce})},gr=(0,o.memo)(Ns),es=(0,Y.vJ)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),ts=Y.ZP.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-12wxg8o-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:60px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Es=a(50311);function an(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Nn=a(75372),En=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function ns(e,r){return!!(e===r||En(e)&&En(r))}function fr(e,r){if(e.length!==r.length)return!1;for(var c=0;c<e.length;c++)if(!ns(e[c],r[c]))return!1;return!0}function yr(e,r){r===void 0&&(r=fr);var c,l=[],m,g=!1;function p(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];return g&&c===this&&r(v,l)||(m=e.apply(this,v),g=!0,c=this,l=v),m}return p}const cn=yr;var br=typeof performance=="object"&&typeof performance.now=="function",js=br?function(){return performance.now()}:function(){return Date.now()};function jn(e){cancelAnimationFrame(e.id)}function Is(e,r){var c=js();function l(){js()-c>=r?e.call(null):m.id=requestAnimationFrame(l)}var m={id:requestAnimationFrame(l)};return m}var In=-1;function Mn(e){if(e===void 0&&(e=!1),In===-1||e){var r=document.createElement("div"),c=r.style;c.width="50px",c.height="50px",c.overflow="scroll",document.body.appendChild(r),In=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return In}var ln=null;function mn(e){if(e===void 0&&(e=!1),ln===null||e){var r=document.createElement("div"),c=r.style;c.width="50px",c.height="50px",c.overflow="scroll",c.direction="rtl";var l=document.createElement("div"),m=l.style;return m.width="100px",m.height="100px",r.appendChild(l),document.body.appendChild(r),r.scrollLeft>0?ln="positive-descending":(r.scrollLeft=1,r.scrollLeft===0?ln="negative":ln="positive-ascending"),document.body.removeChild(r),ln}return ln}var vr=150,xr=function(r){var c=r.columnIndex,l=r.data,m=r.rowIndex;return m+":"+c},kr=null,Ms=null,Nr=null;function s(e){var r,c=e.getColumnOffset,l=e.getColumnStartIndexForOffset,m=e.getColumnStopIndexForStartIndex,g=e.getColumnWidth,p=e.getEstimatedTotalHeight,v=e.getEstimatedTotalWidth,x=e.getOffsetForColumnAndAlignment,N=e.getOffsetForRowAndAlignment,O=e.getRowHeight,D=e.getRowOffset,I=e.getRowStartIndexForOffset,Z=e.getRowStopIndexForStartIndex,X=e.initInstanceProps,E=e.shouldResetStyleCacheOnItemSizeChange,q=e.validateProps;return r=function($){(0,Nn.Z)(V,$);function V(ce){var R;return R=$.call(this,ce)||this,R._instanceProps=X(R.props,an(R)),R._resetIsScrollingTimeoutId=null,R._outerRef=void 0,R.state={instance:an(R),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof R.props.initialScrollLeft=="number"?R.props.initialScrollLeft:0,scrollTop:typeof R.props.initialScrollTop=="number"?R.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},R._callOnItemsRendered=void 0,R._callOnItemsRendered=cn(function(ue,pe,fe,_e,ke,Pe,Be,Je){return R.props.onItemsRendered({overscanColumnStartIndex:ue,overscanColumnStopIndex:pe,overscanRowStartIndex:fe,overscanRowStopIndex:_e,visibleColumnStartIndex:ke,visibleColumnStopIndex:Pe,visibleRowStartIndex:Be,visibleRowStopIndex:Je})}),R._callOnScroll=void 0,R._callOnScroll=cn(function(ue,pe,fe,_e,ke){return R.props.onScroll({horizontalScrollDirection:fe,scrollLeft:ue,scrollTop:pe,verticalScrollDirection:_e,scrollUpdateWasRequested:ke})}),R._getItemStyle=void 0,R._getItemStyle=function(ue,pe){var fe=R.props,_e=fe.columnWidth,ke=fe.direction,Pe=fe.rowHeight,Be=R._getItemStyleCache(E&&_e,E&&ke,E&&Pe),Je=ue+":"+pe,rt;if(Be.hasOwnProperty(Je))rt=Be[Je];else{var it=c(R.props,pe,R._instanceProps),Xe=ke==="rtl";Be[Je]=rt={position:"absolute",left:Xe?void 0:it,right:Xe?it:void 0,top:D(R.props,ue,R._instanceProps),height:O(R.props,ue,R._instanceProps),width:g(R.props,pe,R._instanceProps)}}return rt},R._getItemStyleCache=void 0,R._getItemStyleCache=cn(function(ue,pe,fe){return{}}),R._onScroll=function(ue){var pe=ue.currentTarget,fe=pe.clientHeight,_e=pe.clientWidth,ke=pe.scrollLeft,Pe=pe.scrollTop,Be=pe.scrollHeight,Je=pe.scrollWidth;R.setState(function(rt){if(rt.scrollLeft===ke&&rt.scrollTop===Pe)return null;var it=R.props.direction,Xe=ke;if(it==="rtl")switch(mn()){case"negative":Xe=-ke;break;case"positive-descending":Xe=Je-_e-ke;break}Xe=Math.max(0,Math.min(Xe,Je-_e));var Le=Math.max(0,Math.min(Pe,Be-fe));return{isScrolling:!0,horizontalScrollDirection:rt.scrollLeft<ke?"forward":"backward",scrollLeft:Xe,scrollTop:Le,verticalScrollDirection:rt.scrollTop<Pe?"forward":"backward",scrollUpdateWasRequested:!1}},R._resetIsScrollingDebounced)},R._outerRefSetter=function(ue){var pe=R.props.outerRef;R._outerRef=ue,typeof pe=="function"?pe(ue):pe!=null&&typeof pe=="object"&&pe.hasOwnProperty("current")&&(pe.current=ue)},R._resetIsScrollingDebounced=function(){R._resetIsScrollingTimeoutId!==null&&jn(R._resetIsScrollingTimeoutId),R._resetIsScrollingTimeoutId=Is(R._resetIsScrolling,vr)},R._resetIsScrolling=function(){R._resetIsScrollingTimeoutId=null,R.setState({isScrolling:!1},function(){R._getItemStyleCache(-1)})},R}V.getDerivedStateFromProps=function(R,ue){return t(R,ue),q(R),null};var te=V.prototype;return te.scrollTo=function(R){var ue=R.scrollLeft,pe=R.scrollTop;ue!==void 0&&(ue=Math.max(0,ue)),pe!==void 0&&(pe=Math.max(0,pe)),this.setState(function(fe){return ue===void 0&&(ue=fe.scrollLeft),pe===void 0&&(pe=fe.scrollTop),fe.scrollLeft===ue&&fe.scrollTop===pe?null:{horizontalScrollDirection:fe.scrollLeft<ue?"forward":"backward",scrollLeft:ue,scrollTop:pe,scrollUpdateWasRequested:!0,verticalScrollDirection:fe.scrollTop<pe?"forward":"backward"}},this._resetIsScrollingDebounced)},te.scrollToItem=function(R){var ue=R.align,pe=ue===void 0?"auto":ue,fe=R.columnIndex,_e=R.rowIndex,ke=this.props,Pe=ke.columnCount,Be=ke.height,Je=ke.rowCount,rt=ke.width,it=this.state,Xe=it.scrollLeft,Le=it.scrollTop,ze=Mn();fe!==void 0&&(fe=Math.max(0,Math.min(fe,Pe-1))),_e!==void 0&&(_e=Math.max(0,Math.min(_e,Je-1)));var at=p(this.props,this._instanceProps),ut=v(this.props,this._instanceProps),Kt=ut>rt?ze:0,Gt=at>Be?ze:0;this.scrollTo({scrollLeft:fe!==void 0?x(this.props,fe,pe,Xe,this._instanceProps,Gt):Xe,scrollTop:_e!==void 0?N(this.props,_e,pe,Le,this._instanceProps,Kt):Le})},te.componentDidMount=function(){var R=this.props,ue=R.initialScrollLeft,pe=R.initialScrollTop;if(this._outerRef!=null){var fe=this._outerRef;typeof ue=="number"&&(fe.scrollLeft=ue),typeof pe=="number"&&(fe.scrollTop=pe)}this._callPropsCallbacks()},te.componentDidUpdate=function(){var R=this.props.direction,ue=this.state,pe=ue.scrollLeft,fe=ue.scrollTop,_e=ue.scrollUpdateWasRequested;if(_e&&this._outerRef!=null){var ke=this._outerRef;if(R==="rtl")switch(mn()){case"negative":ke.scrollLeft=-pe;break;case"positive-ascending":ke.scrollLeft=pe;break;default:var Pe=ke.clientWidth,Be=ke.scrollWidth;ke.scrollLeft=Be-Pe-pe;break}else ke.scrollLeft=Math.max(0,pe);ke.scrollTop=Math.max(0,fe)}this._callPropsCallbacks()},te.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&jn(this._resetIsScrollingTimeoutId)},te.render=function(){var R=this.props,ue=R.children,pe=R.className,fe=R.columnCount,_e=R.direction,ke=R.height,Pe=R.innerRef,Be=R.innerElementType,Je=R.innerTagName,rt=R.itemData,it=R.itemKey,Xe=it===void 0?xr:it,Le=R.outerElementType,ze=R.outerTagName,at=R.rowCount,ut=R.style,Kt=R.useIsScrolling,Gt=R.width,dt=this.state.isScrolling,Nt=this._getHorizontalRangeToRender(),dn=Nt[0],wr=Nt[1],As=this._getVerticalRangeToRender(),gn=As[0],zt=As[1],Or=[];if(fe>0&&at)for(var ss=gn;ss<=zt;ss++)for(var rs=dn;rs<=wr;rs++)Or.push((0,o.createElement)(ue,{columnIndex:rs,data:rt,isScrolling:Kt?dt:void 0,key:Xe({columnIndex:rs,data:rt,rowIndex:ss}),rowIndex:ss,style:this._getItemStyle(ss,rs)}));var io=p(this.props,this._instanceProps),ao=v(this.props,this._instanceProps);return(0,o.createElement)(Le||ze||"div",{className:pe,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Es.Z)({position:"relative",height:ke,width:Gt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:_e},ut)},(0,o.createElement)(Be||Je||"div",{children:Or,ref:Pe,style:{height:io,pointerEvents:dt?"none":void 0,width:ao}}))},te._callPropsCallbacks=function(){var R=this.props,ue=R.columnCount,pe=R.onItemsRendered,fe=R.onScroll,_e=R.rowCount;if(typeof pe=="function"&&ue>0&&_e>0){var ke=this._getHorizontalRangeToRender(),Pe=ke[0],Be=ke[1],Je=ke[2],rt=ke[3],it=this._getVerticalRangeToRender(),Xe=it[0],Le=it[1],ze=it[2],at=it[3];this._callOnItemsRendered(Pe,Be,Xe,Le,Je,rt,ze,at)}if(typeof fe=="function"){var ut=this.state,Kt=ut.horizontalScrollDirection,Gt=ut.scrollLeft,dt=ut.scrollTop,Nt=ut.scrollUpdateWasRequested,dn=ut.verticalScrollDirection;this._callOnScroll(Gt,dt,Kt,dn,Nt)}},te._getHorizontalRangeToRender=function(){var R=this.props,ue=R.columnCount,pe=R.overscanColumnCount,fe=R.overscanColumnsCount,_e=R.overscanCount,ke=R.rowCount,Pe=this.state,Be=Pe.horizontalScrollDirection,Je=Pe.isScrolling,rt=Pe.scrollLeft,it=pe||fe||_e||1;if(ue===0||ke===0)return[0,0,0,0];var Xe=l(this.props,rt,this._instanceProps),Le=m(this.props,Xe,rt,this._instanceProps),ze=!Je||Be==="backward"?Math.max(1,it):1,at=!Je||Be==="forward"?Math.max(1,it):1;return[Math.max(0,Xe-ze),Math.max(0,Math.min(ue-1,Le+at)),Xe,Le]},te._getVerticalRangeToRender=function(){var R=this.props,ue=R.columnCount,pe=R.overscanCount,fe=R.overscanRowCount,_e=R.overscanRowsCount,ke=R.rowCount,Pe=this.state,Be=Pe.isScrolling,Je=Pe.verticalScrollDirection,rt=Pe.scrollTop,it=fe||_e||pe||1;if(ue===0||ke===0)return[0,0,0,0];var Xe=I(this.props,rt,this._instanceProps),Le=Z(this.props,Xe,rt,this._instanceProps),ze=!Be||Je==="backward"?Math.max(1,it):1,at=!Be||Je==="forward"?Math.max(1,it):1;return[Math.max(0,Xe-ze),Math.max(0,Math.min(ke-1,Le+at)),Xe,Le]},V}(o.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},r}var t=function(r,c){var l=r.children,m=r.direction,g=r.height,p=r.innerTagName,v=r.outerTagName,x=r.overscanColumnsCount,N=r.overscanCount,O=r.overscanRowsCount,D=r.width,I=c.instance},n=50,d=function(r,c){var l=r.rowCount,m=c.rowMetadataMap,g=c.estimatedRowHeight,p=c.lastMeasuredRowIndex,v=0;if(p>=l&&(p=l-1),p>=0){var x=m[p];v=x.offset+x.size}var N=l-p-1,O=N*g;return v+O},S=function(r,c){var l=r.columnCount,m=c.columnMetadataMap,g=c.estimatedColumnWidth,p=c.lastMeasuredColumnIndex,v=0;if(p>=l&&(p=l-1),p>=0){var x=m[p];v=x.offset+x.size}var N=l-p-1,O=N*g;return v+O},H=function(r,c,l,m){var g,p,v;if(r==="column"?(g=m.columnMetadataMap,p=c.columnWidth,v=m.lastMeasuredColumnIndex):(g=m.rowMetadataMap,p=c.rowHeight,v=m.lastMeasuredRowIndex),l>v){var x=0;if(v>=0){var N=g[v];x=N.offset+N.size}for(var O=v+1;O<=l;O++){var D=p(O);g[O]={offset:x,size:D},x+=D}r==="column"?m.lastMeasuredColumnIndex=l:m.lastMeasuredRowIndex=l}return g[l]},ge=function(r,c,l,m){var g,p;r==="column"?(g=l.columnMetadataMap,p=l.lastMeasuredColumnIndex):(g=l.rowMetadataMap,p=l.lastMeasuredRowIndex);var v=p>0?g[p].offset:0;return v>=m?we(r,c,l,p,0,m):Ce(r,c,l,Math.max(0,p),m)},we=function(r,c,l,m,g,p){for(;g<=m;){var v=g+Math.floor((m-g)/2),x=H(r,c,v,l).offset;if(x===p)return v;x<p?g=v+1:x>p&&(m=v-1)}return g>0?g-1:0},Ce=function(r,c,l,m,g){for(var p=r==="column"?c.columnCount:c.rowCount,v=1;m<p&&H(r,c,m,l).offset<g;)m+=v,v*=2;return we(r,c,l,Math.min(m,p-1),Math.floor(m/2),g)},Me=function(r,c,l,m,g,p,v){var x=r==="column"?c.width:c.height,N=H(r,c,l,p),O=r==="column"?S(c,p):d(c,p),D=Math.max(0,Math.min(O-x,N.offset)),I=Math.max(0,N.offset-x+v+N.size);switch(m==="smart"&&(g>=I-x&&g<=D+x?m="auto":m="center"),m){case"start":return D;case"end":return I;case"center":return Math.round(I+(D-I)/2);case"auto":default:return g>=I&&g<=D?g:I>D||g<I?I:D}},Ie=s({getColumnOffset:function(r,c,l){return H("column",r,c,l).offset},getColumnStartIndexForOffset:function(r,c,l){return ge("column",r,l,c)},getColumnStopIndexForStartIndex:function(r,c,l,m){for(var g=r.columnCount,p=r.width,v=H("column",r,c,m),x=l+p,N=v.offset+v.size,O=c;O<g-1&&N<x;)O++,N+=H("column",r,O,m).size;return O},getColumnWidth:function(r,c,l){return l.columnMetadataMap[c].size},getEstimatedTotalHeight:d,getEstimatedTotalWidth:S,getOffsetForColumnAndAlignment:function(r,c,l,m,g,p){return Me("column",r,c,l,m,g,p)},getOffsetForRowAndAlignment:function(r,c,l,m,g,p){return Me("row",r,c,l,m,g,p)},getRowOffset:function(r,c,l){return H("row",r,c,l).offset},getRowHeight:function(r,c,l){return l.rowMetadataMap[c].size},getRowStartIndexForOffset:function(r,c,l){return ge("row",r,l,c)},getRowStopIndexForStartIndex:function(r,c,l,m){for(var g=r.rowCount,p=r.height,v=H("row",r,c,m),x=l+p,N=v.offset+v.size,O=c;O<g-1&&N<x;)O++,N+=H("row",r,O,m).size;return O},initInstanceProps:function(r,c){var l=r,m=l.estimatedColumnWidth,g=l.estimatedRowHeight,p={columnMetadataMap:{},estimatedColumnWidth:m||n,estimatedRowHeight:g||n,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return c.resetAfterColumnIndex=function(v,x){x===void 0&&(x=!0),c.resetAfterIndices({columnIndex:v,shouldForceUpdate:x})},c.resetAfterRowIndex=function(v,x){x===void 0&&(x=!0),c.resetAfterIndices({rowIndex:v,shouldForceUpdate:x})},c.resetAfterIndices=function(v){var x=v.columnIndex,N=v.rowIndex,O=v.shouldForceUpdate,D=O===void 0?!0:O;typeof x=="number"&&(p.lastMeasuredColumnIndex=Math.min(p.lastMeasuredColumnIndex,x-1)),typeof N=="number"&&(p.lastMeasuredRowIndex=Math.min(p.lastMeasuredRowIndex,N-1)),c._getItemStyleCache(-1),D&&c.forceUpdate()},p},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(r){var c=r.columnWidth,l=r.rowHeight}}),De=150,le=function(r,c){return r},ve=null,Ne=null;function Fe(e){var r,c=e.getItemOffset,l=e.getEstimatedTotalSize,m=e.getItemSize,g=e.getOffsetForIndexAndAlignment,p=e.getStartIndexForOffset,v=e.getStopIndexForStartIndex,x=e.initInstanceProps,N=e.shouldResetStyleCacheOnItemSizeChange,O=e.validateProps;return r=function(D){(0,Nn.Z)(I,D);function I(X){var E;return E=D.call(this,X)||this,E._instanceProps=x(E.props,an(E)),E._outerRef=void 0,E._resetIsScrollingTimeoutId=null,E.state={instance:an(E),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof E.props.initialScrollOffset=="number"?E.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},E._callOnItemsRendered=void 0,E._callOnItemsRendered=cn(function(q,$,V,te){return E.props.onItemsRendered({overscanStartIndex:q,overscanStopIndex:$,visibleStartIndex:V,visibleStopIndex:te})}),E._callOnScroll=void 0,E._callOnScroll=cn(function(q,$,V){return E.props.onScroll({scrollDirection:q,scrollOffset:$,scrollUpdateWasRequested:V})}),E._getItemStyle=void 0,E._getItemStyle=function(q){var $=E.props,V=$.direction,te=$.itemSize,ce=$.layout,R=E._getItemStyleCache(N&&te,N&&ce,N&&V),ue;if(R.hasOwnProperty(q))ue=R[q];else{var pe=c(E.props,q,E._instanceProps),fe=m(E.props,q,E._instanceProps),_e=V==="horizontal"||ce==="horizontal",ke=V==="rtl",Pe=_e?pe:0;R[q]=ue={position:"absolute",left:ke?void 0:Pe,right:ke?Pe:void 0,top:_e?0:pe,height:_e?"100%":fe,width:_e?fe:"100%"}}return ue},E._getItemStyleCache=void 0,E._getItemStyleCache=cn(function(q,$,V){return{}}),E._onScrollHorizontal=function(q){var $=q.currentTarget,V=$.clientWidth,te=$.scrollLeft,ce=$.scrollWidth;E.setState(function(R){if(R.scrollOffset===te)return null;var ue=E.props.direction,pe=te;if(ue==="rtl")switch(mn()){case"negative":pe=-te;break;case"positive-descending":pe=ce-V-te;break}return pe=Math.max(0,Math.min(pe,ce-V)),{isScrolling:!0,scrollDirection:R.scrollOffset<pe?"forward":"backward",scrollOffset:pe,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._onScrollVertical=function(q){var $=q.currentTarget,V=$.clientHeight,te=$.scrollHeight,ce=$.scrollTop;E.setState(function(R){if(R.scrollOffset===ce)return null;var ue=Math.max(0,Math.min(ce,te-V));return{isScrolling:!0,scrollDirection:R.scrollOffset<ue?"forward":"backward",scrollOffset:ue,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._outerRefSetter=function(q){var $=E.props.outerRef;E._outerRef=q,typeof $=="function"?$(q):$!=null&&typeof $=="object"&&$.hasOwnProperty("current")&&($.current=q)},E._resetIsScrollingDebounced=function(){E._resetIsScrollingTimeoutId!==null&&jn(E._resetIsScrollingTimeoutId),E._resetIsScrollingTimeoutId=Is(E._resetIsScrolling,De)},E._resetIsScrolling=function(){E._resetIsScrollingTimeoutId=null,E.setState({isScrolling:!1},function(){E._getItemStyleCache(-1,null)})},E}I.getDerivedStateFromProps=function(E,q){return We(E,q),O(E),null};var Z=I.prototype;return Z.scrollTo=function(E){E=Math.max(0,E),this.setState(function(q){return q.scrollOffset===E?null:{scrollDirection:q.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},Z.scrollToItem=function(E,q){q===void 0&&(q="auto");var $=this.props,V=$.itemCount,te=$.layout,ce=this.state.scrollOffset;E=Math.max(0,Math.min(E,V-1));var R=0;if(this._outerRef){var ue=this._outerRef;te==="vertical"?R=ue.scrollWidth>ue.clientWidth?Mn():0:R=ue.scrollHeight>ue.clientHeight?Mn():0}this.scrollTo(g(this.props,E,q,ce,this._instanceProps,R))},Z.componentDidMount=function(){var E=this.props,q=E.direction,$=E.initialScrollOffset,V=E.layout;if(typeof $=="number"&&this._outerRef!=null){var te=this._outerRef;q==="horizontal"||V==="horizontal"?te.scrollLeft=$:te.scrollTop=$}this._callPropsCallbacks()},Z.componentDidUpdate=function(){var E=this.props,q=E.direction,$=E.layout,V=this.state,te=V.scrollOffset,ce=V.scrollUpdateWasRequested;if(ce&&this._outerRef!=null){var R=this._outerRef;if(q==="horizontal"||$==="horizontal")if(q==="rtl")switch(mn()){case"negative":R.scrollLeft=-te;break;case"positive-ascending":R.scrollLeft=te;break;default:var ue=R.clientWidth,pe=R.scrollWidth;R.scrollLeft=pe-ue-te;break}else R.scrollLeft=te;else R.scrollTop=te}this._callPropsCallbacks()},Z.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&jn(this._resetIsScrollingTimeoutId)},Z.render=function(){var E=this.props,q=E.children,$=E.className,V=E.direction,te=E.height,ce=E.innerRef,R=E.innerElementType,ue=E.innerTagName,pe=E.itemCount,fe=E.itemData,_e=E.itemKey,ke=_e===void 0?le:_e,Pe=E.layout,Be=E.outerElementType,Je=E.outerTagName,rt=E.style,it=E.useIsScrolling,Xe=E.width,Le=this.state.isScrolling,ze=V==="horizontal"||Pe==="horizontal",at=ze?this._onScrollHorizontal:this._onScrollVertical,ut=this._getRangeToRender(),Kt=ut[0],Gt=ut[1],dt=[];if(pe>0)for(var Nt=Kt;Nt<=Gt;Nt++)dt.push((0,o.createElement)(q,{data:fe,key:ke(Nt,fe),index:Nt,isScrolling:it?Le:void 0,style:this._getItemStyle(Nt)}));var dn=l(this.props,this._instanceProps);return(0,o.createElement)(Be||Je||"div",{className:$,onScroll:at,ref:this._outerRefSetter,style:(0,Es.Z)({position:"relative",height:te,width:Xe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:V},rt)},(0,o.createElement)(R||ue||"div",{children:dt,ref:ce,style:{height:ze?"100%":dn,pointerEvents:Le?"none":void 0,width:ze?dn:"100%"}}))},Z._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var E=this.props.itemCount;if(E>0){var q=this._getRangeToRender(),$=q[0],V=q[1],te=q[2],ce=q[3];this._callOnItemsRendered($,V,te,ce)}}if(typeof this.props.onScroll=="function"){var R=this.state,ue=R.scrollDirection,pe=R.scrollOffset,fe=R.scrollUpdateWasRequested;this._callOnScroll(ue,pe,fe)}},Z._getRangeToRender=function(){var E=this.props,q=E.itemCount,$=E.overscanCount,V=this.state,te=V.isScrolling,ce=V.scrollDirection,R=V.scrollOffset;if(q===0)return[0,0,0,0];var ue=p(this.props,R,this._instanceProps),pe=v(this.props,ue,R,this._instanceProps),fe=!te||ce==="backward"?Math.max(1,$):1,_e=!te||ce==="forward"?Math.max(1,$):1;return[Math.max(0,ue-fe),Math.max(0,Math.min(q-1,pe+_e)),ue,pe]},I}(o.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var We=function(r,c){var l=r.children,m=r.direction,g=r.height,p=r.layout,v=r.innerTagName,x=r.outerTagName,N=r.width,O=c.instance;if(0)var D},ct=50,tt=function(r,c,l){var m=r,g=m.itemSize,p=l.itemMetadataMap,v=l.lastMeasuredIndex;if(c>v){var x=0;if(v>=0){var N=p[v];x=N.offset+N.size}for(var O=v+1;O<=c;O++){var D=g(O);p[O]={offset:x,size:D},x+=D}l.lastMeasuredIndex=c}return p[c]},_t=function(r,c,l){var m=c.itemMetadataMap,g=c.lastMeasuredIndex,p=g>0?m[g].offset:0;return p>=l?yt(r,c,g,0,l):st(r,c,Math.max(0,g),l)},yt=function(r,c,l,m,g){for(;m<=l;){var p=m+Math.floor((l-m)/2),v=tt(r,p,c).offset;if(v===g)return p;v<g?m=p+1:v>g&&(l=p-1)}return m>0?m-1:0},st=function(r,c,l,m){for(var g=r.itemCount,p=1;l<g&&tt(r,l,c).offset<m;)l+=p,p*=2;return yt(r,c,Math.min(l,g-1),Math.floor(l/2),m)},Ke=function(r,c){var l=r.itemCount,m=c.itemMetadataMap,g=c.estimatedItemSize,p=c.lastMeasuredIndex,v=0;if(p>=l&&(p=l-1),p>=0){var x=m[p];v=x.offset+x.size}var N=l-p-1,O=N*g;return v+O},Ae=Fe({getItemOffset:function(r,c,l){return tt(r,c,l).offset},getItemSize:function(r,c,l){return l.itemMetadataMap[c].size},getEstimatedTotalSize:Ke,getOffsetForIndexAndAlignment:function(r,c,l,m,g,p){var v=r.direction,x=r.height,N=r.layout,O=r.width,D=v==="horizontal"||N==="horizontal",I=D?O:x,Z=tt(r,c,g),X=Ke(r,g),E=Math.max(0,Math.min(X-I,Z.offset)),q=Math.max(0,Z.offset-I+Z.size+p);switch(l==="smart"&&(m>=q-I&&m<=E+I?l="auto":l="center"),l){case"start":return E;case"end":return q;case"center":return Math.round(q+(E-q)/2);case"auto":default:return m>=q&&m<=E?m:m<q?q:E}},getStartIndexForOffset:function(r,c,l){return _t(r,l,c)},getStopIndexForStartIndex:function(r,c,l,m){for(var g=r.direction,p=r.height,v=r.itemCount,x=r.layout,N=r.width,O=g==="horizontal"||x==="horizontal",D=O?N:p,I=tt(r,c,m),Z=l+D,X=I.offset+I.size,E=c;E<v-1&&X<Z;)E++,X+=tt(r,E,m).size;return E},initInstanceProps:function(r,c){var l=r,m=l.estimatedItemSize,g={itemMetadataMap:{},estimatedItemSize:m||ct,lastMeasuredIndex:-1};return c.resetAfterIndex=function(p,v){v===void 0&&(v=!0),g.lastMeasuredIndex=Math.min(g.lastMeasuredIndex,p-1),c._getItemStyleCache(-1),v&&c.forceUpdate()},g},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(r){var c=r.itemSize}}),Ge=s({getColumnOffset:function(r,c){var l=r.columnWidth;return c*l},getColumnWidth:function(r,c){var l=r.columnWidth;return l},getRowOffset:function(r,c){var l=r.rowHeight;return c*l},getRowHeight:function(r,c){var l=r.rowHeight;return l},getEstimatedTotalHeight:function(r){var c=r.rowCount,l=r.rowHeight;return l*c},getEstimatedTotalWidth:function(r){var c=r.columnCount,l=r.columnWidth;return l*c},getOffsetForColumnAndAlignment:function(r,c,l,m,g,p){var v=r.columnCount,x=r.columnWidth,N=r.width,O=Math.max(0,v*x-N),D=Math.min(O,c*x),I=Math.max(0,c*x-N+p+x);switch(l==="smart"&&(m>=I-N&&m<=D+N?l="auto":l="center"),l){case"start":return D;case"end":return I;case"center":var Z=Math.round(I+(D-I)/2);return Z<Math.ceil(N/2)?0:Z>O+Math.floor(N/2)?O:Z;case"auto":default:return m>=I&&m<=D?m:I>D||m<I?I:D}},getOffsetForRowAndAlignment:function(r,c,l,m,g,p){var v=r.rowHeight,x=r.height,N=r.rowCount,O=Math.max(0,N*v-x),D=Math.min(O,c*v),I=Math.max(0,c*v-x+p+v);switch(l==="smart"&&(m>=I-x&&m<=D+x?l="auto":l="center"),l){case"start":return D;case"end":return I;case"center":var Z=Math.round(I+(D-I)/2);return Z<Math.ceil(x/2)?0:Z>O+Math.floor(x/2)?O:Z;case"auto":default:return m>=I&&m<=D?m:I>D||m<I?I:D}},getColumnStartIndexForOffset:function(r,c){var l=r.columnWidth,m=r.columnCount;return Math.max(0,Math.min(m-1,Math.floor(c/l)))},getColumnStopIndexForStartIndex:function(r,c,l){var m=r.columnWidth,g=r.columnCount,p=r.width,v=c*m,x=Math.ceil((p+l-v)/m);return Math.max(0,Math.min(g-1,c+x-1))},getRowStartIndexForOffset:function(r,c){var l=r.rowHeight,m=r.rowCount;return Math.max(0,Math.min(m-1,Math.floor(c/l)))},getRowStopIndexForStartIndex:function(r,c,l){var m=r.rowHeight,g=r.rowCount,p=r.height,v=c*m,x=Math.ceil((p+l-v)/m);return Math.max(0,Math.min(g-1,c+x-1))},initInstanceProps:function(r){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(r){var c=r.columnWidth,l=r.rowHeight}}),Ye=Fe({getItemOffset:function(r,c){var l=r.itemSize;return c*l},getItemSize:function(r,c){var l=r.itemSize;return l},getEstimatedTotalSize:function(r){var c=r.itemCount,l=r.itemSize;return l*c},getOffsetForIndexAndAlignment:function(r,c,l,m,g,p){var v=r.direction,x=r.height,N=r.itemCount,O=r.itemSize,D=r.layout,I=r.width,Z=v==="horizontal"||D==="horizontal",X=Z?I:x,E=Math.max(0,N*O-X),q=Math.min(E,c*O),$=Math.max(0,c*O-X+O+p);switch(l==="smart"&&(m>=$-X&&m<=q+X?l="auto":l="center"),l){case"start":return q;case"end":return $;case"center":{var V=Math.round($+(q-$)/2);return V<Math.ceil(X/2)?0:V>E+Math.floor(X/2)?E:V}case"auto":default:return m>=$&&m<=q?m:m<$?$:q}},getStartIndexForOffset:function(r,c){var l=r.itemCount,m=r.itemSize;return Math.max(0,Math.min(l-1,Math.floor(c/m)))},getStopIndexForStartIndex:function(r,c,l){var m=r.direction,g=r.height,p=r.itemCount,v=r.itemSize,x=r.layout,N=r.width,O=m==="horizontal"||x==="horizontal",D=c*v,I=O?N:g,Z=Math.ceil((I+l-D)/v);return Math.max(0,Math.min(p-1,c+Z-1))},initInstanceProps:function(r){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(r){var c=r.itemSize}});function $e(e,r){for(var c in e)if(!(c in r))return!0;for(var l in r)if(e[l]!==r[l])return!0;return!1}var ot=null,mt=null;function Lt(e,r){var c=e.style,l=_objectWithoutPropertiesLoose(e,ot),m=r.style,g=_objectWithoutPropertiesLoose(r,mt);return!$e(c,m)&&!$e(l,g)}function wt(e,r){return!Lt(this.props,e)||$e(this.state,r)}let he;typeof window<"u"?he=window:typeof self<"u"?he=self:he=a.g;let He=null,kt=null;const jt=20,Dt=he.clearTimeout,Yt=he.setTimeout,Ft=he.cancelAnimationFrame||he.mozCancelAnimationFrame||he.webkitCancelAnimationFrame,qt=he.requestAnimationFrame||he.mozRequestAnimationFrame||he.webkitRequestAnimationFrame;Ft==null||qt==null?(He=Dt,kt=function(r){return Yt(r,jt)}):(He=function(r){let[c,l]=r;Ft(c),Dt(l)},kt=function(r){const c=qt(function(){Dt(l),r()}),l=Yt(function(){Ft(c),r()},jt);return[c,l]});function Ps(e){let r,c,l,m,g,p,v;const x=typeof document<"u"&&document.attachEvent;if(!x){p=function($){const V=$.__resizeTriggers__,te=V.firstElementChild,ce=V.lastElementChild,R=te.firstElementChild;ce.scrollLeft=ce.scrollWidth,ce.scrollTop=ce.scrollHeight,R.style.width=te.offsetWidth+1+"px",R.style.height=te.offsetHeight+1+"px",te.scrollLeft=te.scrollWidth,te.scrollTop=te.scrollHeight},g=function($){return $.offsetWidth!==$.__resizeLast__.width||$.offsetHeight!==$.__resizeLast__.height},v=function($){if($.target.className&&typeof $.target.className.indexOf=="function"&&$.target.className.indexOf("contract-trigger")<0&&$.target.className.indexOf("expand-trigger")<0)return;const V=this;p(this),this.__resizeRAF__&&He(this.__resizeRAF__),this.__resizeRAF__=kt(function(){g(V)&&(V.__resizeLast__.width=V.offsetWidth,V.__resizeLast__.height=V.offsetHeight,V.__resizeListeners__.forEach(function(R){R.call(V,$)}))})};let I=!1,Z="";l="animationstart";const X="Webkit Moz O ms".split(" ");let E="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),q="";{const $=document.createElement("fakeelement");if($.style.animationName!==void 0&&(I=!0),I===!1){for(let V=0;V<X.length;V++)if($.style[X[V]+"AnimationName"]!==void 0){q=X[V],Z="-"+q.toLowerCase()+"-",l=E[V],I=!0;break}}}c="resizeanim",r="@"+Z+"keyframes "+c+" { from { opacity: 0; } to { opacity: 0; } } ",m=Z+"animation: 1ms "+c+"; "}const N=function(I){if(!I.getElementById("detectElementResize")){const Z=(r||"")+".resize-triggers { "+(m||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',X=I.head||I.getElementsByTagName("head")[0],E=I.createElement("style");E.id="detectElementResize",E.type="text/css",e!=null&&E.setAttribute("nonce",e),E.styleSheet?E.styleSheet.cssText=Z:E.appendChild(I.createTextNode(Z)),X.appendChild(E)}};return{addResizeListener:function(I,Z){if(x)I.attachEvent("onresize",Z);else{if(!I.__resizeTriggers__){const X=I.ownerDocument,E=he.getComputedStyle(I);E&&E.position==="static"&&(I.style.position="relative"),N(X),I.__resizeLast__={},I.__resizeListeners__=[],(I.__resizeTriggers__=X.createElement("div")).className="resize-triggers";const q=X.createElement("div");q.className="expand-trigger",q.appendChild(X.createElement("div"));const $=X.createElement("div");$.className="contract-trigger",I.__resizeTriggers__.appendChild(q),I.__resizeTriggers__.appendChild($),I.appendChild(I.__resizeTriggers__),p(I),I.addEventListener("scroll",v,!0),l&&(I.__resizeTriggers__.__animationListener__=function(te){te.animationName===c&&p(I)},I.__resizeTriggers__.addEventListener(l,I.__resizeTriggers__.__animationListener__))}I.__resizeListeners__.push(Z)}},removeResizeListener:function(I,Z){if(x)I.detachEvent("onresize",Z);else if(I.__resizeListeners__.splice(I.__resizeListeners__.indexOf(Z),1),!I.__resizeListeners__.length){I.removeEventListener("scroll",v,!0),I.__resizeTriggers__.__animationListener__&&(I.__resizeTriggers__.removeEventListener(l,I.__resizeTriggers__.__animationListener__),I.__resizeTriggers__.__animationListener__=null);try{I.__resizeTriggers__=!I.removeChild(I.__resizeTriggers__)}catch(X){}}}}}class Ar extends o.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:c,onResize:l}=this.props;if(this._parentNode){const m=window.getComputedStyle(this._parentNode)||{},g=parseFloat(m.paddingLeft||"0"),p=parseFloat(m.paddingRight||"0"),v=parseFloat(m.paddingTop||"0"),x=parseFloat(m.paddingBottom||"0"),N=this._parentNode.getBoundingClientRect(),O=N.height-v-x,D=N.width-g-p,I=this._parentNode.offsetHeight-v-x,Z=this._parentNode.offsetWidth-g-p;(!r&&(this.state.height!==I||this.state.scaledHeight!==O)||!c&&(this.state.width!==Z||this.state.scaledWidth!==D))&&(this.setState({height:I,width:Z,scaledHeight:O,scaledWidth:D}),typeof l=="function"&&l({height:I,scaledHeight:O,scaledWidth:D,width:Z}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:r}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Ps(r),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:r,defaultHeight:c,defaultWidth:l,disableHeight:m=!1,disableWidth:g=!1,nonce:p,onResize:v,style:x={},tagName:N="div",...O}=this.props,{height:D,scaledHeight:I,scaledWidth:Z,width:X}=this.state,E={overflow:"visible"},q={};let $=!1;return m||(D===0&&($=!0),E.height=0,q.height=D,q.scaledHeight=I),g||(X===0&&($=!0),E.width=0,q.width=X,q.scaledWidth=Z),(0,o.createElement)(N,{ref:this._setRef,style:{...E,...x},...O},!$&&r(q))}}function co(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function lo(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function uo(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const Tr=e=>{let{className:r,itemCount:c,itemSize:l,itemData:m,renderItem:g,onItemCountChange:p}=e;const v=o.createRef();return(0,o.useEffect)(()=>{v.current&&p&&p(v)},[c,v,p]),(0,i.jsx)(Ar,{children:x=>{let{width:N,height:O=0}=x;return(0,i.jsx)(Ye,{ref:v,className:r,itemCount:c,itemSize:l,itemData:m,height:O,width:N,children:g})}})},Rr=e=>{const{theme:r,caption:c,captionExtra:l,className:m,permissionScope:g,memberList:p,isOnlyOneManager:v,readOnly:x,readOnlyTooltip:N,expandable:O,defaultExpanded:D=!0,isResetPermission:I=!1,children:Z,onPermissionChange:X,onChangeHeight:E,isMemberList:q,onlyTitle:$,isUseVirtualizedRender:V=!1}=e,[te,ce]=(0,o.useState)(D),R=(0,o.useCallback)(()=>{ce(_e=>!_e),E&&E()},[E]),ue=(0,o.useCallback)(_e=>{var ke;const{avatar:Pe,name:Be}=_e;return Pe&&!Pe.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:_e.avatar,alt:_e.name}):(0,i.jsx)("div",{className:"avatar avater-name",children:Be==null||(ke=Be.slice(0,1))==null?void 0:ke.toUpperCase()})},[]),pe=(_e,ke)=>(0,i.jsxs)("div",{className:"item",style:ke,children:[(0,i.jsxs)("span",{className:"title",children:[ue(_e),(0,i.jsx)("span",{className:"name",children:_e.name})]}),(0,i.jsx)("span",{className:"account",children:_e.email||_e.mobile}),(0,i.jsx)(gr,{readOnly:x,readOnlyTooltip:N,member:_e,isReset:I,isOnlyOneManager:v,permissionScope:g,onPermissionChange:X})]},_e.user_cid),fe=_e=>{let{data:ke,index:Pe,style:Be}=_e;const{memberList:Je}=ke;return pe(Je[Pe],Be)};return(0,i.jsxs)(ts,{className:G()("member-list",r,m&&m,V&&"use-virtualized-list"),"data-expanded":te,children:[O&&(0,i.jsxs)("h5",{className:"caption",children:[(0,i.jsx)("span",{children:c}),!$&&O&&!q&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:p.length>0&&"\xB7"+p.length}),(0,i.jsx)("span",{className:G()("btn-toggle-expand"),onClick:R,children:te?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),l]}),Z,!!p.length&&(0,i.jsx)("div",{className:"members",children:V?(0,i.jsx)(Tr,{className:"virtualized-list",itemSize:48,itemCount:p.length,itemData:{memberList:p},renderItem:fe}):p.map(_e=>pe(_e))})]})},_r=(0,o.memo)(Rr),Lr=Y.ZP.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-xh4s6x-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_line),Dr=e=>{const{value:r,onChange:c,onKeyPress:l}=e,m=p=>{c(p.currentTarget.value)},g=p=>{p.key==="Enter"&&l(p.currentTarget.value)};return(0,i.jsxs)(Lr,{className:"search-box",children:[(0,i.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),(0,i.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:r,onChange:m,onKeyPress:g})]})},Fr=(0,o.memo)(Dr);var Er=a(47658);function zr(e){const{theme:r,caption:c,outerMembers:l,canInvite:m,isSharing:g,handleClickInviteMember:p}=e,v=()=>{const O="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(l[0].mobile||l[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+c+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,$t.l)(O)},x=!l||l.length<1;return g?(0,i.jsxs)(ts,{className:"member-list sharing "+r,children:[(0,i.jsxs)("div",{className:"members invite",children:[!x&&l.map(N=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:N.avatar,alt:N.name}),(0,i.jsxs)("span",{className:"name",children:[N.name,(0,i.jsx)("span",{className:"register",children:N.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:N.email||N.mobile}),!a.g.ENV.IS_ON_PREMISES&&(m?(0,i.jsx)("span",{className:"inviteJoin",onClick:p,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(Xn.Z,{opener:(0,i.jsx)(Er.Z,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:v,children:I18N.imockSharing.copy})]})})]}))]},N.cid)),x&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:a.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(es,{})]}):(i.Fragment,(0,i.jsxs)(ts,{className:"member-list "+r,children:[(0,i.jsxs)("div",{className:"members invite",children:[!x&&l.map(N=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:N.avatar,alt:N.name}),(0,i.jsxs)("span",{className:"name",children:[N.name,(0,i.jsx)("span",{className:"register",children:N.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:N.email||N.mobile}),!a.g.ENV.IS_ON_PREMISES&&(m?(0,i.jsx)("span",{className:"inviteJoin",onClick:p,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(Xn.Z,{opener:(0,i.jsx)(Er.Z,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:v,children:I18N.imockSharing.copy})]})})]}))]},N.cid)),x&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:a.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(es,{})]}))}const Br=(0,o.memo)(zr),jr=()=>!!Number(sessionStorage.getItem("inClowdz"));function Ur(e){let r="file_editarea-proto-v8-add",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return r=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",c=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:r,trackSource:c}}function Vr(e,r){r===void 0&&(r=!1);let c="file_editarea-proto-v8-invite",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return r?(c="file_editarea-proto-v8-input-inviteTA",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(c=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:c,trackSource:l}}function Ir(e){if(!e)return"";let r="";return e==="org_owner"?r="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?r="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?r="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?r="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(r="\u5BA1\u9605\u6210\u5458"),r}const Mr=(e,r,c)=>{try{const{source_id:l,source:m,step:g,option:p=null}=c;if(!r||!e||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!p||(p==null?void 0:p.results)!==!1)&&l)try{(0,qn.Mn)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:r,source:l,step:g}})}catch(v){console.log(v.message)}if(g===0)(0,B.U1)("invite_members_entrance",{source:m});else if(g===2&&p){const v=Ir(p==null?void 0:p.invitor_role),x=Ir(p==null?void 0:p.invitee_role);(0,B.U1)("invite_members_via_add",{source:m,join_space_num:1,has_department:!1,invitor_role:v,invitee_role:x,results:(p==null?void 0:p.results)||!0,error_type:(p==null?void 0:p.error_type)||""})}}catch(l){console.log(l.message)}},Os=function(e,r,c,l,m){m===void 0&&(m=null);const{trackSourceId:g,trackSource:p}=Ur(c);Mr(e,r,{source_id:g,source:p,step:l,option:m})},Zr=function(e,r,c,l){l===void 0&&(l=!1);const{trackSourceId:m,trackSource:g}=Vr(c,l),p={trackSourceId:m,trackSource:g},v="/workspace/"+r+"/member?openInviteByLinkModal=true&invite_track="+(0,xt.N)(p);if(Mr(e,r,{source_id:m,source:g,step:0}),jr()){location.pathname=v;return}(0,nt.MI)(v)},Hr=(e,r,c)=>{const[l]=(0,o.useState)(c),m=(0,o.useRef)(0);return(0,o.useEffect)(()=>{l&&m.current>=1||m.current>=2||(Os(e,r,c,0),m.current+=1)},[!!c]),l||c},Wr=Y.ZP.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-5a6cx0-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],je.Zy,je.Zy,e=>e.theme.color_bg_line,e=>e.theme.color_text_L1),Kr=e=>{const{theme:r,keyword:c,source:l,caption:m,permissionScope:g,assignedMembers:p,unassignedMembers:v,outerMember:x,onPermissionChange:N,hostType:O,handleClose:D}=e,I=(0,C.v9)(ht._H),Z=(0,C.v9)(ht.is),X=(0,C.v9)(ht.rc),{settings:E,seats_taken:q,total_seats:$,cid:V}=I,te=Hr(X,V,c);let ce=!1;(E.invite_permission&&E.invite_permission[0]==="all"||Z.isManager)&&(ce=!0);const R=()=>{const Pe={mode:"org",orgCid:I.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(O==="proto")MB.global.popupHelper.chargeAsync(Pe),D&&D();else{const Be="/workspace/"+I.cid+"?payment_param="+(0,xt.N)(Pe);if(jr()){location.pathname=Be;return}(0,nt.MI)(Be)}},ue=(0,o.useMemo)(()=>v.filter(Pe=>Pe.name&&Pe.name.includes(c)||Pe.mobile&&Pe.mobile.includes(c)||Pe.email&&Pe.email.includes(c)),[c,v]),pe=()=>{ce&&Zr(X,V,te,!0)},fe=(Pe,Be)=>{N(Pe,Be),Os(X,V,te,1),x&&Os(X,V,te,2,{invitor_role:Z==null?void 0:Z.roleName,invitee_role:Be}),Os(X,V,te,3)},_e=!ue||ue.length<1,ke=x?[x]:[];return(0,i.jsxs)(Wr,{className:"overlay-adding-member sharing",children:[(0,i.jsxs)("div",{className:G()("overlay-content",!x&&_e&&"no-members"),children:[!_e&&(0,i.jsx)(_r,{theme:r,caption:c?null:I18N.imockSharing.unjoined,expandable:!1,className:G()(c&&"invite"),permissionScope:g,memberList:ue,isResetPermission:!0,onPermissionChange:fe,isUseVirtualizedRender:!0},"filtered-unassigned-members"),_e&&(0,i.jsx)(Br,{theme:r,caption:m,outerMembers:ke,canInvite:ce,isSharing:!0,handleClickInviteMember:pe})]}),(0,i.jsxs)("footer",{className:"overlay-footer",children:[(0,i.jsxs)("span",{className:"seats",children:[I18N.imockSharing.members_account,I18N.imockSharing.common_colon,q,"/",$]}),!a.g.ENV.IS_ON_PREMISES&&(0,i.jsx)(Qt.eG,{type:"primary",size:"tiny",corner:"soft",onClick:R,children:I18N.imockSharing.add_team_seat})]})]})},Gr=(0,o.memo)(Kr),$r=Y.ZP.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-dbcmx0-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.invite-item{display:flex;align-items:center;padding-right:8px;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;margin-right:20px;color:",";cursor:pointer;svg{width:32px;color:",";}&:hover{background:",";}&:active{background:",";}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,je.Zy,e=>e.theme.color_bg_line,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_grid_line,e=>e.theme.color_grid_line,je.Zy),Jr=e=>{const{theme:r,from:c,caption:l,targetCid:m,permissionScope:g,captionTipType:p,isFolder:v=!1,isAllowSetCollaborators:x,isShowInheritedCollaborators:N=!1,handleBackSharingHandel:O,onChangeMembersAccess:D,handleClose:I,hostType:Z}=e,[X,E]=(0,o.useState)(""),[q,$]=(0,o.useState)(null),[V,te]=(0,o.useState)(!1),{currentMembers:ce,inheritedMembers:R,joinedMembers:ue,unjoinedMembers:pe,assignedMembers:fe,unassignedMembers:_e,userCurrentScopePermisson:ke,isOnlyOneManager:Pe}=bn(g,m),Be=yn(g,m,c),Je=async(dt,Nt)=>{await Be(dt,Nt),D&&D(dt,Nt)};let rt=ce,it=fe,Xe=_e;const Le=ke.isMember,ze=x&&Le;x&&!N&&(rt=ue,it=ue,Xe=pe);const at=(0,o.useCallback)(()=>{te(!1),E(""),$(null)},[]),ut=(0,o.useCallback)(dt=>{E(dt),$(null),dt&&te(!0)},[]),Kt=(0,o.useCallback)(async dt=>{if(!a.g.ENV.IS_ON_PREMISES&&(E(dt),dt)){const Nt=Xe.find(zt=>zt.email===dt.trim()||zt.mobile===dt.trim()),dn=it.find(zt=>zt.email===dt.trim()||zt.mobile===dt.trim());if(Nt||dn)return;const wr=ir.test(dt.trim()),As=ar.test(dt.trim());let gn=null;if(wr?gn=await _s(dt.trim()):As&&(gn=await _s(null,dt.trim())),gn){let zt=null;gn.user?(zt=gn.user,zt.name=I18N.imockSharing.to_be_invited,zt.cid="outer"):zt={avatar:"/images/avatar.png",cid:dt,email:dt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},$(zt)}}},[]),Gt=(0,o.useCallback)(()=>{if(E(""),$(null),V){te(!1);return}O()},[V,te,O]);return(0,i.jsxs)($r,{className:G()("ProjectCollaborators sharing",""+r,{isInviteOverlayOpen:!0}),children:[(0,i.jsxs)("div",{className:"nav-header",children:[(0,i.jsxs)("div",{className:"title-left",children:[(0,i.jsxs)("div",{className:"title-left-back",onClick:Gt,children:[(0,i.jsx)(Re.q,{name:"sharing/nav_back",size:32}),(0,i.jsx)("div",{className:"nav-title",children:V?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!V&&(0,i.jsx)(Qn,{tipType:p,position:"left"})]}),!V&&Le&&(0,i.jsxs)("div",{className:"invite-item",onClick:()=>{te(!0)},children:[(0,i.jsx)(Re.q,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]})]}),ze&&(0,i.jsx)("div",{className:G()("search"),children:(0,i.jsx)(Fr,{value:X,onChange:ut,onKeyPress:Kt})}),(0,i.jsx)("div",{className:G()("modal-content",ze&&"modal-content-show-search"),children:V?(0,i.jsx)(Gr,{theme:r,permissionScope:g,unassignedMembers:Xe,assignedMembers:it,outerMember:q,keyword:X,caption:l,onClose:at,onPermissionChange:Je,handleClose:I,hostType:Z}):(0,i.jsxs)("div",{className:G()("collaborators",V&&"in-invite-overlay"),children:[x&&(0,i.jsx)(_r,{theme:r,caption:I18N.imockSharing.project_collaborators,permissionScope:g,memberList:rt,isOnlyOneManager:Pe,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:Je},"current-collaborators"),N&&(0,i.jsx)(_r,{theme:r,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:v,readOnly:!0,permissionScope:g,memberList:R,onPermissionChange:Je,className:"inherited-members"},"inherited-collaborators")]})}),(0,i.jsx)(ur,{})]})},Yr=(0,o.memo)(Jr);function qr(e){const{theme:r,targetCid:c,isSharing:l,handleBackSharingHandel:m,onChangeMembersAccess:g,handleClose:p,hostType:v}=e,N=(0,C.v9)(ht.b).get(c),O=Pn(N==null?void 0:N.team_cid);return!N||O<0?null:(0,i.jsx)(Yr,{theme:r,targetCid:c,caption:N.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:O>=1,captionTipType:Oe.q.Project,permissionScope:Oe.n.Project,isSharing:l,handleBackSharingHandel:m,onChangeMembersAccess:g,handleClose:p,hostType:v})}const Xr=(0,o.memo)(qr);var Qr=a(77646);const eo=e=>{const{user:r,initData:c,currentProject:l,members:m,dispatch:g}=e,p=l==null?void 0:l.cid;return(0,o.useEffect)(()=>{(async x=>{g({type:"entry:projectAccess:initProjectData",payload:{initData:c,members:m}})})(p)},[g,c,m,p,r]),r!=null&&r.id?(0,i.jsx)(Xr,{targetCid:p,isSharing:!0,...e}):null},to=(0,Qr.P1)([],()=>({})),no=(0,C.$j)(e=>to(e))(eo);var so=a(57211),Pr=a(30606);function ro(e){const{getIframeContentHeight:r,handleChangeMembersAccess:c,handleClose:l}=e,m=(0,C.I0)(),g=(0,C.v9)(u.query.getProject),p=(0,C.v9)(u.query.getMembers),v=(0,C.v9)(u.query.getTheme),x=(0,C.v9)(u.query.getTopPageIndex),N=(0,C.v9)(u.query.getHostType),O=(0,C.v9)(u.query.getTabIndex),D=(0,C.v9)(u.query.getMainPage),I=(0,C.v9)(u.query.getLoading),Z=(0,C.v9)(u.query.getInitData),X=(0,C.v9)(u.query.getUser),E=(0,C.v9)(u.query.getIsEditMode),[q,$]=(0,o.useState)(282);(0,o.useEffect)(()=>{let ce=555;D!=="access"&&(O===0&&x==="edit"?ce=212:(x==="embed"||x==="qrCode"||O===0&&x==="setting")&&(ce=380)),$(ce),N!=="proto"&&r(ce)},[N,O,x,D,r,E]);const V=(0,o.useCallback)(()=>{m({type:u.entryKey["sharing:init"],payload:{mainPage:"share"}})},[m]);(0,o.useEffect)(()=>{m({type:u.entryKey["sharing:projectAccess:init"]})},[D,m]);const te=(0,o.useCallback)(async(ce,R)=>{c&&c(ce,R)},[c]);return I?(0,i.jsx)(Pr.h,{className:G()("sharingBoxV2",""+v,"loading"),children:(0,i.jsx)(so.Z,{})}):(0,i.jsx)(Pr.h,{className:G()("sharingBoxV2",""+v,N==="iframe"&&"in-iframe"),style:{height:q+"px"},id:"v8-share-page",children:D==="share"?(0,i.jsx)(or,{}):(0,i.jsx)(no,{theme:v,user:X,currentProject:g,members:p,initData:Z,handleBackSharingHandel:V,onChangeMembersAccess:te,hostType:N,handleClose:l})})}const oo=e=>{let{theme:r,org:c=null,user:l,project:m,flatKey:g,members:p=[],hostType:v="proto",screenMetaList:x,hostSharingData:N,handleClose:O}=e;const D=de();let I=!0;v!=="iframe"&&(I=location.pathname.includes("/design/"));try{if(m&&v!=="iframe"){const q=new URLSearchParams(location.search).get("view_mode")||"read_only",{cid:$,name:V}=m;(0,B.U1)("share_project",{project_type:"\u539F\u578B V8",source:I?"\u7F16\u8F91\u533A":q==="read_only"?"\u53EA\u8BFB\u6A21\u5F0F":"\u771F\u673A\u6F14\u793A",project_name:V,project_cid:$})}}catch(E){console.error(E)}D.dispatch({type:u.entryKey["sharing:init"],payload:{project:m,theme:r,user:l,org:c,flatKey:g,hostType:v,members:p,screenMetaList:x,hostSharingData:N,isEditMode:I}});const Z=(0,o.useCallback)(E=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:E}}),"*")},[]),X=(0,o.useCallback)((E,q)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:E,value:q}}),"*")},[]);return(0,o.useEffect)(()=>{if(v==="iframe"&&Z(212),!m)return;const{cid:E}=m;(async()=>{if(!m)return;const{result:{result:$},statusOk:V}=await(0,ae.o6)(E);V&&D.dispatch({type:u.entryKey["sharing:init"],payload:{canEditByUser:$}})})()},[v,Z,m,D]),(0,i.jsx)(C.zt,{store:D,children:(0,i.jsx)(Y.f6,{theme:xe.Z[r],children:(0,i.jsx)(Ee.Z,{children:(0,i.jsx)(ro,{getIframeContentHeight:Z,handleChangeMembersAccess:X,handleClose:O})})})})}},30606:(Te,ie,a)=>{"use strict";a.d(ie,{h:()=>k});var o=a(45090);const k=o.ZP.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-l3ttef-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],_=>_.theme.color_bg_white,_=>_.theme.color_text_L2)},20702:(Te,ie,a)=>{"use strict";a.d(ie,{F2:()=>y,FB:()=>P,ML:()=>h,SG:()=>M,UE:()=>T,VN:()=>F,VV:()=>U,dL:()=>Q,jH:()=>B,k0:()=>w,lI:()=>L,rD:()=>me,vS:()=>ne,wr:()=>ae,x2:()=>j,yN:()=>K,zE:()=>be});var o=a(51904),k=a(49373),_=a(53375),b=a.n(_),A=a(4091),W=a(35517),f=a(49777),z=a(9733);const U=u=>u?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],me=u=>{let{accessToken:J,targetKey:se,pageKey:de,view_mode:C,selection:Y,page_begin:Ee,canvas_begin:xe}=u;const re=(je,Ue)=>Ue?"&"+je+"="+Ue:"";let G=""+location.origin+A.pX+"/"+J+"/sharing?view_mode="+(C||"read_only");return C==="read_only"?G=""+G+re("screen",de)+re("canvasId",se)+re("selection",Y):C==="device"?G=""+G+re("screen",Ee!=null?Ee:de)+re("canvasId",xe!=null?xe:se)+re("selection",Y):G=""+G+re("screen",de)+re("selection",Y),G},be=u=>u&&u.length>0?u[0]:"",ne=(u,J,se,de)=>{const C=de?"  \u5BC6\u7801\uFF1A"+de:"";return u+" #"+(0,k.FQ)(J)+"-"+(0,k.FQ)(se||"\u5206\u4EAB")+C},ae=u=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+A.pX+"/"+u,Se=u=>{const J=new RegExp(I18N.imockSharing.share+" \\d+","g");let se=0;return u.filter(de=>{var C;return(C=de.link_name)==null?void 0:C.match(J)}).forEach(de=>{const C=de.link_name,Ee=C.match(J)[0].length,xe=C.indexOf(I18N.imockSharing.share);if(xe+Ee===C.length){const G=parseInt(C.trim().slice(xe+I18N.imockSharing.share.length));G>se&&(se=G)}}),se},Q=u=>{const{project:J,action:se,linkName:de,isFromScreenList:C}=u;o.xd.trackShareProjectAction({project_type:"\u539F\u578B",source:C?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,o.Wb)(),project_name:J.name,project_cid:J.cid,share_link_action:se,share_link_name:de})},B=u=>{if(!u)return!1;const{created_at:J}=u;return b()(J).isBetween(b()().subtract(3,"days"),b()())},F=u=>Object.entries(u).filter(se=>{let[de,C]=se;return!C.hotAttr.asFolder&&de!==f.X3}).map(se=>se[0]),M=(u,J,se)=>{if(u)return se.length;let de=0;return J==null||J.forEach(C=>{se.find(Ee=>Ee===C)&&(de+=1)}),de},y=(u,J)=>{if(J.screen_visible_switch){const{selectedSize:se,pageSize:de}=h(u,J);return se+"/"+de}else return I18N.imockSharing.all},h=(u,J)=>{const se=F(u.pageAttrMap),de=M(!J.screen_visible_switch,J.screen_visible_list,se);return{pageSize:se.length,selectedSize:de}},w=u=>{const J={},se=[],de=new Map;for(const[Ee,xe,re]of u)if(re.type==="rResBunch"){Ee!==f.X3&&se.push(Ee),J[Ee]={hotAttr:re},de.get(Ee)||de.set(Ee,[]);const G=de.get(xe);Array.isArray(G)&&de.set(xe,[...G,Ee])}const C=Ee=>{let xe=[];for(const G of de.get(Ee))xe.push(C(G));xe=xe.sort((G,je)=>G.data.zIndex-je.data.zIndex);const{hotAttr:re}=J[Ee];return{cid:Ee,data:{cid:Ee,...re},children:xe}},Y=C("B@main");return{pageAttrMap:J,pageKeyList:se,treeData:Y}};function P(u,J,se){let de=I18N.imockSharing.share;return J&&(de=de+(ENV.IS_WONDER_SHARE?" ":"")+(J.length+1)),{project_cid:u,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...se,link_name:de,type:"advanced"}}const L=async u=>{let{updateType:J,org:se,updateFn:de}=u;const C=()=>{const Ee=(se==null?void 0:se.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:Ee}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:Ee}}),"*")},Y=()=>{if(J==="update")try{MB.notice({text:I18N.imockSharing.setting_valid})}catch(Ee){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}}),"*")}};try{await de()&&Y()}catch(Ee){await(0,W.hW)(Ee,C)}},j=u=>{let{value:J,currentSharing:se,sharingList:de}=u,C=!1;for(const Y of de)if(Y.cid!==se.cid&&J===Y.link_name){C=!0;break}return C},T=(u,J)=>{let se;if(J.type==="default"){const C=new URLSearchParams(location.search),Y=C.get("view_mode")||(0,z.RD)(u.cid+"_default_sharing_view_mode","read_only",z.cM.String),Ee=C.get("selection"),xe=C.get("screen"),re=C.get("canvasId");se=me({accessToken:J.access_token,view_mode:Y,page_begin:xe,canvas_begin:re,selection:Ee})}else se=me({accessToken:J.access_token,view_mode:J.device_model});return ne(se,u==null?void 0:u.name,J.link_name||"",J.password)},K=(u,J)=>{var se,de;return(J==null||(se=J.limitation)==null?void 0:se.max_project_share_count)||(u==null||(de=u.limitation)==null?void 0:de.max_project_share_count)}},35517:(Te,ie,a)=>{"use strict";a.d(ie,{KT:()=>b,Vz:()=>k,av:()=>_,hW:()=>A,v5:()=>W});var o=a(6966);const k=async(f,z)=>{if(f.status===403||/403/.test(f.message)){var U;(U=MB)==null||(U=U.messageBucket)==null||U.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>z?z():MB.global.onBackButtonClick())}else if(f.status===401||/401/.test(f.message))W(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>z?z():_());else{var me;const be=String(f.status||f.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(me=MB)==null||(me=me.messageBucket)==null||me.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,be)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,be),isHTML:!0})}},_=async()=>{try{await(0,o.EE)("/api/web/v3/initial"),location.reload()}catch(f){const z=location.origin+"/signin?next="+location.pathname;location.href=z}},b=f=>{f.status===404&&f.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},A=async(f,z)=>{f.status===403||/403/.test(f.message)?z():(f.status===401||/401/.test(f.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>_())},W=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},98388:(Te,ie,a)=>{"use strict";a.d(ie,{Fy:()=>ne,PX:()=>Q,z:()=>ae});var o=a(53375),k=a.n(o),_=a(43827),b=a.n(_),A=a(57480),W=a.n(A);if(a.j!=485)var f=a(29184);function z(B){return B<10?"0"+B:B}function U(B,F,M){const y=new Date(B),h=y.getFullYear(),w=z(y.getMonth()+1),P=z(y.getDate()),L=z(y.getHours()),j=z(y.getMinutes());return F==="time"?L+":"+j:F==="datetime"?""+w+M+P+" "+L+":"+j:""+h+M+w+M+P+" "+L+":"+j}const me=a.j!=485?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function be(B,F){const M=new Date(B),y=M.getFullYear(),h=me[M.getMonth()],w=z(M.getDate()),P=z(M.getHours()),L=z(M.getMinutes());return F==="time"?P+":"+L:F==="datetime"?h+" "+w+" "+P+":"+L:h+" "+w+", "+y+" "+P+":"+L}function ne(B,F,M){if(F===void 0&&(F="datetime"),M===void 0&&(M="."),!B)return"";let y=B;typeof B!="number"&&(y=parseInt(B,10)),y.length===10&&(y=y*1e3);let h="";const w=(0,f.F)();return w==="zh-CN"?h=U(y,F,M):(w==="en-US"||w==="en")&&(h=be(y,F,M)),h}function ae(B){const M=Se()-B;let y="";if(M<=3*1e3)y=I18N.Common.just_now||"\u521A\u521A";else if(M>3*1e3&&M<60*1e3)y=Math.floor(M/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(M>=60*1e3&&M<60*60*1e3)y=Math.floor(M/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{y=ne(B,"full");const h=new Date(new Date().setHours(0,0,0,0)).getTime(),w=new Date(new Date().getFullYear(),0,1).getTime();B>w&&(y=ne(B,"datetime")),B>h&&(y=ne(B,"time"))}return y}function Se(){return new Date().getTime()}const Q=B=>{k().locale(B==="zh-CN"?"zh-cn":B),k().extend(b()),k().extend(W())}},11230:(Te,ie,a)=>{"use strict";a.d(ie,{p:()=>o,t:()=>k});const o=function(_){let{flags:b}=_===void 0?MB.user:_;return!!(b&1<<21)},k=_=>{let{user:b,org:A}=_;const W=(A==null?void 0:A.otype)==="personal"?null:A;return{currentUser:b,currentOrg:W}}},12298:(Te,ie,a)=>{"use strict";a.d(ie,{N:()=>o});const o=_=>encodeURIComponent(JSON.stringify(_)),k=_=>JSON.parse(decodeURIComponent(_))},86381:(Te,ie,a)=>{"use strict";a.d(ie,{s:()=>be,Z:()=>Se});var o=a(49650),k=a(7485),_=a(7627),b=a.n(_),A=a(18890),W=a.n(A),f=a(92180),z=a(34595),U=a.n(z),me=a(45090);const be="checkbox-has-box",ne=me.ZP.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-mbtxfd-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],Q=>Q.theme.color_text_L2,Q=>Q.theme.color_text_disabled01,Q=>Q.theme.color_bg_white,Q=>Q.theme.color_text_L2,Q=>Q.theme.color_proto,Q=>Q.theme.color_proto,Q=>Q.theme.color_grid_line,Q=>Q.theme.color_grid_line,Q=>Q.theme.color_text_disabled01,be);var ae=a(35269);class Se extends k.PureComponent{constructor(){super(...arguments),(0,o.Z)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,o.Z)(this,"onToggle",B=>{const{name:F,value:M,label:y,onChange:h,onToggle:w,isDisabled:P,readOnly:L,attr:j}=this.props,{isChecked:T}=this.state,K=!P&&!L,u=K?T==="mixed"?!0:!T:T;this.setState({isChecked:u}),w(u,F,M||y,B),h(u,j,B)})}static getDerivedStateFromProps(B,F){let{prevProps:M}=F;return W()(M,B)?null:{prevProps:B,isChecked:B.isChecked}}render(){const{className:B,label:F,name:M,isDisabled:y,readOnly:h}=this.props,{isChecked:w}=this.state,P=U()(B,{"is-checked":!!w,"is-disabled":y,readonly:h});return(0,ae.jsxs)(ne,{className:P,children:[(0,ae.jsx)("input",{type:"checkbox",defaultChecked:!!w,disabled:y,name:M,onChange:this.onToggle}),(0,ae.jsx)("span",{className:"Check-state",children:(0,ae.jsx)(f.q,{name:w==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),F&&(0,ae.jsx)("span",{className:"Check-label",children:F})]})}}(0,o.Z)(Se,"propTypes",{isChecked:b().bool||"mixed",isDisabled:b().bool,readOnly:b().bool,onChange:b().func.isRequired,onToggle:b().func.isRequired,label:b().any,name:b().string,attr:b().string,value:b().any,className:b().string}),(0,o.Z)(Se,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},46007:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>z});var o=a(49650),k=a(7485),_=a(82957),b=a(7627),A=a.n(b),W=a(35269);class f extends k.PureComponent{constructor(me){super(me),(0,o.Z)(this,"freshCanvas",()=>{const be=this.canvasWrapperRef.current,{height:ne,width:ae,text:Se,foreground:Q,background:B}=this.props,F=(0,_.s)({height:ne,width:ae,text:Se,foreground:Q,background:B});be.hasChildNodes()?be.replaceChild(F,be.firstChild):be.appendChild(F)}),this.canvasWrapperRef=(0,k.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:me}=this.props;return(0,W.jsx)("div",{className:me,ref:this.canvasWrapperRef})}}f.propTypes={width:A().number,height:A().number,text:A().string.isRequired,foreground:A().string,background:A().string,className:A().string},f.defaultProps={width:150,height:150};const z=f},66503:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>b});var o=a(29402),k=a(45090);const b=(0,k.ZP)(o.L4).withConfig({displayName:"ThemeLoading",componentId:"sc-lkl0kj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],A=>A.theme.color_grid_line,A=>A.theme.color_text_disabled01)},57211:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>f});var o=a(7485),k=a(66503),_=a(45090);const b=_.ZP.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-5dzh9i-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var A=a(35269);const f=(0,o.memo)(()=>(0,A.jsx)(b,{className:"sharing-loading",children:(0,A.jsx)(k.Z,{className:"loading"})}))},39110:()=>{"use strict";const Te={},ie={},a={}},30258:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>Se});var o=a(2586),k=a(22795);const _="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",A=Object.entries(k.c).reduce((Q,B)=>{const F=B[0];return{...Q,[F]:[k.c[F].value_light,k.c[F].value_dark||k.c[F].value_light]}},{}),W=Object.entries(o.Fq).reduce((Q,B)=>{var F;const M=B[0];return{...Q,[M]:[o.Fq[M].value,((F=o.YP[M])==null?void 0:F.value)||o.Fq[M].value]}},{}),f=Q=>{let B;const[F,M,y]=Q,h=y!=null?y:F;return M==="light"?B=o.Fq[h].value:B=o.YP[h].value,{[F]:[B,B]}},U=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((B,F)=>{const M=f(F);return{...B,...M}},{}),ne={...W,...U,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],bg_base64:[_,b],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...A},ae=(Q,B)=>{const F={};return Object.entries(Q).forEach(M=>{let[y,h]=M;Array.isArray(h)?F[y]=h[B]:typeof h=="object"?F[y]=ae(h,B):F[y]=h}),F},Se={light:ae(ne,0),dark:ae(ne,1)}},35262:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>L});var o=a(7627),k=a.n(o),_=a(7485),b=a(45090),A=a(22795);const W=b.ZP.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-umsjem-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{margin-left:20px;color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],A.c.color_text_btn.value_light,A.c.color_btn_primary_normal.value_light,A.c.color_btn_primary_hover.value_light,A.c.color_btn_primary_clicked.value_light,A.c.color_text_L1.value_light,A.c.color_bg_white.value_light,A.c.color_bg_line.value_light,A.c.color_btn_secondary_hover.value_light,A.c.color_bg_line.value_light,A.c.color_btn_secondary_active.value_light,A.c.color_bg_line.value_light);var f=a(35269);const z="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",U="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3Cpath fill='url(%23a)' d='M403.5 158.5c54.4-5.2 59.3 54.2 55 84.5h-308c-22.8-46 17.7-69.2 44-73.5-49.3-15.5-19.5-88 28.5-116 122.3-71.3 112.5 111.5 180.5 105Z' opacity='.6'/%3E%3Crect width='38' height='98' x='235' y='144' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='38' height='128' x='197' y='114' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='21' height='114' x='347' y='128' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='29' height='98' x='368' y='144' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='19' height='114' x='273' y='128' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='22.3' height='116' x='293' y='130.2' stroke='%231F292E' stroke-dasharray='1 8' stroke-linecap='round' stroke-width='2' rx='4' transform='rotate(-16 293 130.2)'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%231F292E' d='M348 200h19v17h-19z'/%3E%3Cpath fill='%231684FC' d='M369 168h29v19h-29z'/%3E%3Cpath fill='%231F292E' d='M348 221h19v4h-19zm-112-62h36v13h-36z'/%3E%3Cpath fill='%23fff' d='M262.5 183c8-.8 14 8.3 16 13l-50 21-24.5-14 2-4.5 4.5-8 9-3.5 9 .5 6.5-4.5 6-1.5 6 1.5 4 4c.5-1 3.5-3.2 11.5-4Z'/%3E%3Cpath fill='%23fff' d='m209.5 204 68-7-2.5 57-58-2-7.5-48Z'/%3E%3Cpath fill='%231F292E' d='M277.5 197h1v-1l-1.1.1.1 1Zm-68 7-.1-1-1 .1.1 1 1-.1Zm7.5 48-1 .2.1.8h.9v-1Zm58 2v1a1 1 0 0 0 1-1h-1Zm2.4-58-68 7 .2 2 68-7-.2-2Zm-68.9 8.2 7.5 48 2-.4-7.5-48-2 .4ZM217 253l58 2v-2l-58-2v2Zm59 1 2.5-57h-2l-2.5 57h2Z'/%3E%3Cpath fill='%23fff' d='M261.5 182.5c8-.8 14 8.3 16 13L248 206l-6.5-3v-8.5l8.5-8c.5-1 3.5-3.2 11.5-4Z'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M278 196c-2-7-11.2-19.7-28.5-8.5-17 11-7.5 25.5 9.5 14m-8-15c-3.8-3.6-12-10.6-24 3-7 8 0 17.5 14 9m-12.5-11c-6-2.2-19.6-1.5-24 14.5'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='m155.5 206 59-4.5L216 259l-63.5-3.5 3-49.5Z'/%3E%3Cpath fill='%23fff' d='M171 197c5.6-.8 10.3 4.7 12 7.5L164.5 226l5 30.5L109 275c.3-20.1 4.2-63.4 17-75 12.8-11.6 16.3-3.8 16.5 1.5 8.4-11.6 18.2-5.8 22-1.5-.2-.6.9-2.2 6.5-3Z'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M154.5 211.5a28.4 28.4 0 0 1 9.9-12.5m0 0c7.5-4.5 14.6.5 18.1 5-6 2.2-18.1 9.8-18.1 23 0 16.5 11.1 24.5-1.9 46v18m1.9-92c-5.3-5.8-18.2-11.5-27.4 12.5m8-14.5c-4.7-5.3-16.5-9.5-26.5 16.5'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M129 196c-4.8-6.2-16-10.2-31.5 18-5.2 9.5-6 26-1 33'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M100 210c-1.2-6.8-5.6-18.1-14-8.5-10.5 12-20 31.5 6.5 63l-2 31m178-41.5 7.5 39m-65-35 6.5 37.5'/%3E%3Ccircle cx='276' cy='225' r='29' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='216' cy='230' r='29' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='276' cy='225' r='22' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='216' cy='230' r='22' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M317 101.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7a42.5 42.5 0 0 1 0 .5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1.1 1.1 0 0 1-.6.6 1.4 1.4 0 0 1-.5 0 12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='m218 223.5-7 9.5m68-15-7 9.5m-52 2.5-7 9.5m68-15-7 9.5'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='177.5' x2='344.5' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",me="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",be="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ne="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function ae(j){const{className:T,source:K,rotate:u,width:J,height:se,onClick:de}=j,C={msTransform:"rotate("+u+"deg)",transform:"rotate("+u+"deg)",width:J,height:se};return(0,f.jsx)("img",{className:T,src:K,style:C,onClick:de})}ae.propTypes={className:k().string,source:k().string.isRequired,width:k().number,height:k().number,rotate:k().number,onClick:k().func};const Se=ae,Q=403,B=404,F=[500,501,502,503,504,505],M="link_expired";var y=a(46620);function h(j,T,K){return T=w(T),T in j?Object.defineProperty(j,T,{value:K,enumerable:!0,configurable:!0,writable:!0}):j[T]=K,j}function w(j){var T=P(j,"string");return typeof T=="symbol"?T:String(T)}function P(j,T){if(typeof j!="object"||!j)return j;var K=j[Symbol.toPrimitive];if(K!==void 0){var u=K.call(j,T||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(j)}class L extends _.PureComponent{constructor(){super(...arguments),h(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,f.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("p",{className:"proposal",children:["Current account ",(0,f.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,f.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("p",{className:"proposal",children:["Current account ",(0,f.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u9879\u76EE\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,f.jsxs)("div",{className:"proposal text-left",children:[(0,f.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,f.jsxs)("ul",{className:"text-list",children:[(0,f.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,f.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,f.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,f.jsxs)("div",{className:"proposal text-left",children:[(0,f.jsx)("p",{children:"Please try the following methods:"}),(0,f.jsxs)("ul",{className:"text-list",children:[(0,f.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,f.jsx)("li",{children:"If not, please switch to another network."})]}),(0,f.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),h(this,"clickGoHome",()=>{let T="",{locale:K}=this.props;K==="zh-CN"?T="/":K==="jp"?T="https://mockitt.wondershare.jp":T="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(T):location.replace(T)}),h(this,"clickReloadPage",()=>{window.location.reload()}),h(this,"clickContactUs",()=>{let T="",{locale:K}=this.props;if(K==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else K==="jp"?T="https://support.wondershare.jp":T="https://support.wondershare.com/product/mockitt.html";window.open(T)}),h(this,"getErrorConfig",()=>{const{errorType:T,primaryBtnText:K,primaryBtnClick:u,secondaryBtnText:J,secondaryBtnClick:se,locale:de}=this.props,{typeText:C,clickGoHome:Y,clickContactUs:Ee,clickReloadPage:xe}=this;let re,G,je="",Ue=null,Ve;const Oe={text:C.goHome[de],click:Y},Re={text:C.reloadPage[de],click:xe},qe={text:C.contactUs[de],click:Ee};switch(!0){case T===Q:re=Oe.text,G=Oe.click,Ve=z;break;case T===B:re=Oe.text,G=Oe.click,Ve=U;break;case T===M:re=Oe.text,G=Oe.click,Ve=U;break;case F.includes(T):re=Re.text,G=Re.click,je=qe.text,Ue=qe.click,Ve=me;break;default:re=Re.text,G=Re.click,je=qe.text,Ue=qe.click,Ve=de==="en"?ne:be;break}return K&&(re=K),u&&(G=u),J&&(je=J),se&&(Ue=se),{svgBg:Ve,primaryText:re,primaryClick:G,secondaryText:je,secondaryClick:Ue}}),h(this,"getErrorInfo",()=>{const{errorType:T,identity:K,locale:u,customTitle:J,customDes:se,account:de}=this.props,{typeText:C}=this;let Y,Ee;if(J)Y=J;else{const xe=F.includes(T)?"title_5XX":"title_"+T;Y=C[xe]?C[xe][u]:C.title_0[u]}if(se)Ee=se;else{let xe="des_"+T;T===Q?xe=de?"des_"+T+"_"+K:"des_"+T+"_2":F.includes(T)?xe="des_5xx":T===M&&(xe="des_link_expired"),Ee=C[xe]?C[xe][u]:C.des_link_expired[u]}return{title:Y,desc:Ee}}),h(this,"handleClickLogo",()=>{let{isLogoClickable:T,logoUrl:K}=this.props;T&&(window.top!==window.self?window.top.location.href=K:window.location.href=K)})}render(){const{locale:T,isShowPrimaryBtn:K,isShowSecondaryBtn:u,isLogoClickable:J}=this.props,{typeText:se}=this,{svgBg:de,primaryText:C,primaryClick:Y,secondaryText:Ee,secondaryClick:xe}=this.getErrorConfig(),{title:re,desc:G}=this.getErrorInfo();return(0,f.jsxs)(W,{children:[(0,f.jsx)("div",{className:"logo",children:(0,f.jsx)("span",{className:J?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,f.jsx)(Se,{source:de})})}),(0,f.jsxs)("div",{className:"content",children:[(0,f.jsx)("p",{className:"title",children:re}),typeof G=="string"?(0,f.jsx)("p",{className:"proposal",children:G}):G]}),(0,f.jsxs)("div",{className:"btn-list",children:[u&&xe&&Ee&&(0,f.jsx)("a",{className:"btn regular",onClick:xe,children:Ee}),K&&Y&&C&&(0,f.jsx)("a",{className:"btn primary",onClick:Y,children:C}),Ee===se.contactUs[T]&&(0,f.jsx)(y.Z,{})]})]})}}h(L,"propTypes",{locale:k().oneOf(["zh-CN","en","jp"]),identity:k().oneOf([0,1]),customTitle:k().string,customDes:k().string,isShowPrimaryBtn:k().bool,primaryBtnText:k().string,primaryBtnClick:k().func,isShowSecondaryBtn:k().bool,secondaryBtnText:k().string,secondaryBtnClick:k().func,errorType:k().oneOf([0,403,404,500,501,502,503,504,505,M]).isRequired,account:k().string,isLogoClickable:k().bool,logoUrl:k().string}),h(L,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},46620:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>A});var o=a(7485),k=a(7627),_=a.n(k),b=a(35269);A.propTypes={className:_().string,children:_().oneOfType([_().array,_().string]),isWonderShare:_().bool,id:_().string,onClick:_().func,disabled:_().bool,canClick:_().bool};function A(W){let{className:f,children:z,isWonderShare:U=!1,id:me="mdOnlineSupport",onClick:be,disabled:ne,canClick:ae}=W;const Se="qd300907440129217b43492df1157945f52a80582eaf",Q=U?"https://support.wondershare.com/":"";(0,o.useEffect)(()=>ne?void 0:(!document.getElementById(Se)&&!U&&B(),()=>{const y=document.getElementById(Se);y&&y.remove()}),[]);const B=()=>{a.g?(a.g.wpaShowItemId=window.wpaShowItemId="123",a.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let M=document.createElement("script");M.id=Se,M.src="https://wp.qiye.qq.com/qidian/3009074401/29217b43492df1157945f52a80582eaf",M.charset="utf-8",M.async=!0,M.defer=!0,document.body.appendChild(M)},F=M=>{if(ne){ae&&be&&be();return}if(be&&be(),U){window.open(Q);return}if(me!=="mdOnlineSupport"){M.preventDefault();const y=document.getElementById("mdOnlineSupport");y&&y.click()}};return(0,b.jsx)("div",{style:{cursor:"pointer"},id:me,className:f,onClick:F,children:z})}},27149:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>j,o:()=>ne});var o=a(98059),k=a.n(o),_=a(18890),b=a.n(_),A=a(7485),W=a(46198),f=a(7627),z=a.n(f),U=a(80055),me=a(44476);const be=9;function ne(K){let{$opener:u,$menuBase:J,menuX:se="left",menuY:de="bottom",menuBaseStyle:C={},inflexible:Y=!1,shouldSetMaxHeight:Ee=!1}=K;if(!u||!J)return{};const xe=J.querySelector("*"),re={styleFor$menuBase:{},styleFor$menu:{}},G=Wt=>Object.assign(re.styleFor$menuBase,Wt),je=Wt=>Object.assign(re.styleFor$menu,Wt),{offsetHeight:Ue}=xe,Ve=C.width||u.offsetWidth,Oe=C.height||u.offsetHeight,Re=u.getBoundingClientRect(),{top:qe,bottom:bt,left:Pt}=Object.assign({top:Re.top,right:Re.right,bottom:Re.bottom,left:Re.left},C);G({top:qe+"px",left:Pt+"px",width:Ve+"px",height:Oe+"px"});const{innerHeight:Et}=window,It=10,Tt=Et-10,Ot=de==="top"?1/3:2/3,Ht=Et*Ot,pt=qe+Oe/2,ht=qe+Oe;return(Y&&de==="bottom"||!Y&&Ht>=pt)&&ht+Ue+be<Et?(re.isDownward=!0,Ee&&bt+Ue>Tt&&je({maxHeight:Tt-bt+"px"})):(re.isDownward=!1,Ee&&qe-Ue<It&&je({maxHeight:qe-It+"px"})),Object.assign(J.style,re.styleFor$menuBase),Object.assign(xe.style,re.styleFor$menu),re}var ae=a(45090);const Se=ae.ZP.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-1bf3wez-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),Q=ae.ZP.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-1bf3wez-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),B=ae.ZP.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-1bf3wez-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var F=a(35269);function M(K,u,J){return u=y(u),u in K?Object.defineProperty(K,u,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[u]=J,K}function y(K){var u=h(K,"string");return typeof u=="symbol"?u:String(u)}function h(K,u){if(typeof K!="object"||!K)return K;var J=K[Symbol.toPrimitive];if(J!==void 0){var se=J.call(K,u||"default");if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(K)}const w="IBOT_DROPDOWN_MENU_ROOT",P=document.getElementById(w)||Object.assign(document.createElement("div"),{id:w}),L=document.body;L.contains(P)||L.appendChild(P);class j extends A.PureComponent{constructor(){super(...arguments),M(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),M(this,"leaveTimeoutList",[]),M(this,"toggle",u=>this.setState({isOpen:k()(u)?u:!this.state.isOpen})),M(this,"open",()=>this.toggle(!0)),M(this,"close",()=>this.toggle(!1)),M(this,"onMouseEnter",()=>{const{shouldOpenOnHover:u}=this.props;u&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),M(this,"onMouseLeave",()=>{const{shouldOpenOnHover:u}=this.props;u&&clearTimeout(this.hoverTimeout)}),M(this,"onMouseMove",u=>{let{clientX:J,clientY:se}=u;const{shouldOpenOnHover:de,hoverDelay:C,hoverCloseDelay:Y}=this.props,{$opener:Ee}=this.state;if(!de)return;clearTimeout(this.hoverTimeout);const xe=document.elementFromPoint(J,se),re=!Ee.contains(xe),G=!xe.closest(".DropdownMenu");G?re&&G&&this.leaveTimeoutList.push(setTimeout(this.close,Y!==void 0?Y:Math.max(C,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),M(this,"set$opener",u=>this.setState({$opener:u})),M(this,"onSelect",u=>{let{currentTarget:J}=u;const{menuList:se,onSelect:de,shouldCloseOnSelect:C}=this.props;if(typeof de!="function")return;const Y=J.dataset.idx,Ee=se[Y],xe=typeof Ee=="string"?Ee:Ee&&Ee.value;de(Y,xe),this.setState({currentMenuListItemIdx:Y}),C&&this.close()})}static getDerivedStateFromProps(u,J){let{prevProps:se,isOpen:de}=J;return b()(u,se)?null:k()(u.isOpen)?{prevProps:u,isOpen:u.isOpen}:{prevProps:u}}componentDidUpdate(u,J){let{isOpen:se}=J;const{onOpen:de,onClose:C,onToggle:Y}=this.props,{isOpen:Ee}=this.state;se!==Ee&&(Ee?(de(),Y(!0)):(C(),Y(!1)))}render(){const{className:u,opener:J,openerType:se,openerClassName:de,shouldCloseOnClickOutside:C}=this.props,{isOpen:Y,$opener:Ee,currentMenuListItemIdx:xe}=this.state,re=this.props.isDisabled||this.props.disabled,G=(0,me.A1)(["Dropdown",Y&&"is-open",re&&"is-disabled",u]),je={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:re,className:de};return(0,F.jsxs)(Se,{ref:this.set$opener,className:G,children:[se!=="button"&&(0,A.isValidElement)(J)?(0,A.cloneElement)(J,je):(0,F.jsx)("button",{type:"button",...je,children:J}),(0,F.jsx)(T,{...this.props,isOpen:Y,$opener:Ee,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:C,currentMenuListItemIdx:xe}),Y&&(0,F.jsx)(U.Z,{target:document,onMouseMove:this.onMouseMove})]})}}M(j,"positionMenu",ne),M(j,"propTypes",{isOpen:z().bool,mode:z().oneOf(["light","dark"]),opener:z().node,openerType:z().oneOf(["button","custom"]),className:z().string,portalClassName:z().string,menuBaseClassName:z().string,openerClassName:z().string,menuClassName:z().string,menuBaseStyle:z().shape({top:z().number,right:z().number,bottom:z().number,width:z().number,height:z().number}),menu:z().node,menuList:z().arrayOf(z().oneOfType([z().node,z().shape({label:z().node,value:z().any,isDisabled:z().bool})])),currentMenuListItemIdx:z().oneOfType([z().number,z().string]),shouldPreventScrollingPropagation:z().bool,shouldOpenOnHover:z().bool,shouldCloseOnClickOutside:z().bool,hoverDelay:z().oneOfType([z().number,z().string]),hoverCloseDelay:z().oneOfType([z().number,z().string]),arrowed:z().bool,inflexible:z().bool,menuX:z().oneOf(["left","center","right"]),menuY:z().oneOf(["top","bottom"]),menuBasedX:z().bool,isDisabled:z().bool,disabled:z().bool,onSelect:z().func,shouldCloseOnSelect:z().bool,onOpen:z().func.isRequired,onClose:z().func.isRequired,onToggle:z().func.isRequired}),M(j,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class T extends A.PureComponent{constructor(){super(...arguments),M(this,"state",{isDownward:this.props.position==="bottom"}),M(this,"portal",(0,me.Qt)(P,(0,me.A1)(["DropdownMenuPortal",this.props.portalClassName]))),M(this,"menuBaseRef",(0,A.createRef)()),M(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),M(this,"onClickOutside",u=>{let{target:J}=u;const{$opener:se,onClose:de,shouldCloseOnClickOutside:C}=this.props;if(!C)return;const Y=!P.contains(J),Ee=J.closest("label"),xe=Ee&&Ee.contains(se),re=!!(0,me.$)(".SelectMenu.is-open");Y&&!xe&&!re&&de()}),M(this,"position",()=>{const{$opener:u,menuX:J,menuY:se,menuBaseStyle:de,inflexible:C}=this.props,{menuBaseRef:{current:Y}}=this,{isDownward:Ee}=ne({$menuBase:Y,$opener:u,menuX:J,menuY:se,menuBaseStyle:de,inflexible:C});this.setState({isDownward:Ee})})}componentDidMount(){const{isOpen:u,shouldPreventScrollingPropagation:J}=this.props,{menuBaseRef:{current:se}}=this;u&&setTimeout(this.position),J&&(0,me.$h)((0,me.$)(".content",se)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(u){let{isOpen:J}=u;const{isOpen:se}=this.props;!J&&se&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:u,menu:J}=this;return(0,W.createPortal)(J,u)}get menu(){const{isOpen:u,mode:J,menuBaseClassName:se,menuClassName:de,menu:C,menuList:Y,arrowed:Ee,menuX:xe,menuBasedX:re,currentMenuListItemIdx:G,onSelect:je}=this.props,{isDownward:Ue}=this.state,Ve=(0,me.A1)(["DropdownMenu",J,u&&"is-open",Ue?"is-downward":"is-upward","x-"+xe,Ee&&"arrowed "+(re?"x-menu-based":"x-arrow-based"),de]);return(0,F.jsx)(B,{ref:this.menuBaseRef,className:(0,me.A1)(["DropdownMenuBase",se]),children:(0,F.jsxs)(Q,{className:Ve,children:[Ee&&(0,F.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:me.Wj.b_}}),(0,F.jsx)("div",{className:"content",children:Y?(0,F.jsx)("ul",{className:"MenuList",children:Y.map((Oe,Re)=>(0,F.jsx)("li",{role:"option","data-idx":Re,className:(0,me.A1)([Oe.isDisabled&&"is-disabled",Re===Number(G)&&"is-active"]),onClick:Oe.isDisabled?void 0:je,children:Oe.label||Oe},Re))}):C}),u&&(0,F.jsx)(U.Z,{target:document,onClick:(0,U.Y)(this.onClickOutside,{capture:!0})}),u&&(0,F.jsx)(U.Z,{target:document,onScroll:(0,U.Y)(this.position,{capture:!0})})]})})}}M(T,"propTypes",{...j.propTypes,isOpen:z().bool,$opener:z().instanceOf(Element),onSelect:z().func,onClose:z().func})},64792:(Te,ie,a)=>{"use strict";a.d(ie,{SA:()=>C,ZP:()=>de});var o=a(7485),k=a(46198),_=a(7627),b=a.n(_),A=a(80055),W=a(49182),f=a.n(W),z=a(62360),U=a.n(z),me=a(18890),be=a.n(me),ne=a(74741),ae=a.n(ne),Se=a(47658),Q=a(68102),B=a(44476),F=a(27149),M=a(45090);const y=M.ZP.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-5ate3i-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),h=M.ZP.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-5ate3i-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),w=M.ZP.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-5ate3i-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var P=a(35269);function L(xe,re,G){return re=j(re),re in xe?Object.defineProperty(xe,re,{value:G,enumerable:!0,configurable:!0,writable:!0}):xe[re]=G,xe}function j(xe){var re=T(xe,"string");return typeof re=="symbol"?re:String(re)}function T(xe,re){if(typeof xe!="object"||!xe)return xe;var G=xe[Symbol.toPrimitive];if(G!==void 0){var je=G.call(xe,re||"default");if(typeof je!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return(re==="string"?String:Number)(xe)}const K="IBOT_SELECT_MENU_ROOT",u={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},J=document.getElementById(K)||Object.assign(document.createElement("div"),{id:K}),se=document.body;se.contains(J)||se.appendChild(J);class de extends o.PureComponent{constructor(){super(...arguments),L(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),L(this,"set$select",re=>this.setState({$select:re})),L(this,"open",()=>this.setState({isOpen:!0})),L(this,"close",()=>this.setState({isOpen:!1})),L(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),L(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),L(this,"onChange",async re=>{const{onChange:G,beforeOnChange:je}=this.props,Ue=()=>{this.close(),G(re)};if(!je){this.setState({value:re},Ue);return}if(await je(re)){this.setState({value:re},Ue);return}Ue()}),L(this,"onSelect",async re=>{let{currentTarget:G}=re;const{value:je}=this.props,{canSelect:Ue}=this;await this.onChange(Ue?G.dataset.value:je)})}static getDerivedStateFromProps(re,G){let{prevProps:je,value:Ue}=G;return be()(je,re)?null:{prevProps:re,value:re.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:re,disabled:G}=this.props;return re||G}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:re,readOnly:G}=this;return!re&&!G}get displayText(){const{optionList:re,placeholder:G,optionLabelProp:je}=this.props,{value:Ue}=this.state,Oe=(re.find(Re=>U()(Re)&&Re.slice(0).some(qe=>(0,B.Lc)(qe,Ue)))||re).find(Re=>!U()(Re)&&(0,B.Lc)(Re,Ue));return Oe?(0,B.Jn)(Oe,je):G||u[this.props.lang].select_placeholder}render(){const{size:re,theme:G,unstyled:je,className:Ue,menuX:Ve}=this.props,{isOpen:Oe,$select:Re,value:qe}=this.state,{isDisabled:bt,readOnly:Pt,canSelect:Et}=this,It=(0,B.A1)([G==="core"?"CoreSelect":"Select",re,je&&"unstyled",Ue,Oe&&"is-open",bt&&"is-disabled",Pt&&"readonly"]);return(0,P.jsxs)(y,{className:It,role:"listbox",ref:this.set$select,children:[(0,P.jsx)("button",{type:"button",onClick:this.toggle,disabled:bt,children:(0,P.jsx)(Q.Z,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,P.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,P.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,P.jsx)(C,{isOpen:Oe,...this.props,value:qe,$select:Re,canSelect:Et,onChange:this.onSelect,onClose:this.close,menuX:Ve})]})}}L(de,"propTypes",{size:b().oneOf(["regular","small"]),theme:b().oneOf(["core","plain"]),menuTheme:b().oneOf(["core","plain","check"]),unstyled:b().bool,className:b().string,menuClassName:b().string,lang:b().string,placeholder:b().string,optionList:b().arrayOf(b().oneOfType([b().node,b().shape({label:b().node,value:b().any,isDisabled:b().bool}),b().arrayOf(b().oneOfType([b().node,b().shape({label:b().node,value:b().any,isDisabled:b().bool})]))])).isRequired,value:b().oneOfType([b().number,b().string]),isDisabled:b().bool,disabled:b().bool,readOnly:b().bool,onChange:b().func,menuX:b().oneOf(["left","center","right"]),optionLabelProp:b().string,arrowSvg:b().oneOfType([b().string,b().node])}),L(de,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:B.Wj.Tj});class C extends o.PureComponent{constructor(){super(...arguments),L(this,"state",{isDownward:!0}),L(this,"portal",(0,B.Qt)(J,"SelectMenuPortal")),L(this,"menuBaseRef",(0,o.createRef)()),L(this,"position",re=>{const{$select:G,menuX:je}=this.props,{menuBaseRef:{current:Ue}}=this;if(re){const Oe=f()(re,"target");if(Oe&&ae()(Oe)&&Oe.matches(".SelectMenu"))return}const{isDownward:Ve}=(0,F.o)({$menuBase:Ue,$opener:G,menuX:je,shouldSetMaxHeight:!0});this.setState({isDownward:Ve})}),L(this,"onChange",re=>{const{onChange:G}=this.props,{isDownward:je}=this.state,Ue=re.currentTarget,Ve=Ue.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Ue||!Ve)return this.onlose();const{top:Oe,bottom:Re}=Ue.getBoundingClientRect(),{top:qe,bottom:bt}=Ve.getBoundingClientRect();return je&&Oe>=qe||!je&&Re<=bt?Ue.classList.contains("title")?void 0:G(re):this.onClose()}),L(this,"onClose",()=>{const{onClose:re}=this.props;re()}),L(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:re}}=this,G=(0,B.$)("li[role=option].is-active",re);G&&G.scrollIntoView({block:"start"})}),L(this,"onClickOutside",re=>{let{target:G}=re;const{$select:je}=this.props,Ue=!J.contains(G),Ve=G.closest("label"),Oe=Ve&&Ve.contains(je);Ue&&!Oe&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:re}}=this;(0,B.$h)((0,B.$)(".SelectMenu",re))}componentDidUpdate(re){let{isOpen:G}=re;const{isOpen:je}=this.props;!G&&je&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,k.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:re,isDisabled:G,menuTheme:je,menuClassName:Ue,menuX:Ve,optionList:Oe,lang:Re,emptyMsg:qe,value:bt,canSelect:Pt}=this.props,{isDownward:Et}=this.state,It=Oe.length===0,Tt=(0,B.A1)([je==="core"?"CoreSelectMenu":je==="check"?"CheckSelectMenu":"SelectMenu",Ue,"x-"+Ve,re&&"is-open",Et?"is-downward":"is-upward",G&&"is-disabled",It&&"is-empty",Pt?"can-select":"cant-select"]);return(0,P.jsx)(h,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,P.jsxs)(w,{className:Tt,onTransitionEnd:this.onTransitionEnd,children:[It?(0,P.jsx)("li",{className:"SelectOption empty-msg",children:qe||u[Re].select_empty_msg}):Oe.map((Ot,Ht)=>U()(Ot)?(0,P.jsx)(Y,{menuTheme:je,optionList:Ot,value:bt,onChange:this.onChange},Ht):(0,P.jsx)(Ee,{menuTheme:je,isActive:(0,B.Lc)(Ot,bt),option:Ot,isDisabled:Ot.isDisabled,onChange:this.onChange},Ht)),re&&(0,P.jsx)(A.Z,{target:document,onClick:(0,A.Y)(this.onClickOutside,{capture:!0})}),re&&(0,P.jsx)(A.Z,{target:document,onScroll:(0,A.Y)(this.position,{capture:!0})})]})})}}L(C,"propTypes",{...de.propTypes,isOpen:b().bool,canSelect:b().bool,onChange:b().func,onClose:b().func,$select:b().instanceOf(Element)}),L(C,"defaultProps",{isOpen:!1});function Y(xe){let{value:re,optionList:[G,...je],menuTheme:Ue,onChange:Ve}=xe;return(0,P.jsxs)("li",{className:"SelectGroup",children:[(0,P.jsx)(Q.Z,{className:"title",onClick:Ve,children:G}),(0,P.jsx)("ul",{children:je.map((Oe,Re)=>(0,P.jsx)(Ee,{menuTheme:Ue,option:Oe,isActive:(0,B.Lc)(Oe,re),isDisabled:Oe.isDisabled,onChange:Ve},Re))})]})}Y.propTypes={optionList:b().array,onChange:b().func,menuTheme:b().string,value:b().string};function Ee(xe){let{option:re,isActive:G,isDisabled:je,menuTheme:Ue,onChange:Ve}=xe;const Oe=(0,B.A1)(["SelectOption",G&&"is-active",je&&"is-disabled"]),Re=(0,B.Jn)(re),qe=(0,B.l_)(re);return(0,P.jsxs)("li",{role:"option","data-value":qe,className:Oe,onClick:je?void 0:Ve,children:[(0,P.jsx)(Q.Z,{children:Re}),Ue==="check"&&G&&(0,P.jsx)(Se.Z,{name:"check"})]})}Ee.propTypes={option:b().oneOfType([b().node,b().object]),isActive:b().bool,isDisabled:b().bool,menuTheme:b().string,onChange:b().func}},43827:function(Te){(function(ie,a){Te.exports=a()})(this,function(){"use strict";return function(ie,a,o){a.prototype.isBetween=function(k,_,b,A){var W=o(k),f=o(_),z=(A=A||"()")[0]==="(",U=A[1]===")";return(z?this.isAfter(W,b):!this.isBefore(W,b))&&(U?this.isBefore(f,b):!this.isAfter(f,b))||(z?this.isBefore(W,b):!this.isAfter(W,b))&&(U?this.isAfter(f,b):!this.isBefore(f,b))}}})},57480:function(Te){(function(ie,a){Te.exports=a()})(this,function(){"use strict";return function(ie,a){a.prototype.isSameOrBefore=function(o,k){return this.isSame(o,k)||this.isBefore(o,k)}}})},9892:Te=>{function ie(a,o,k,_){var b=-1,A=a==null?0:a.length;for(_&&A&&(k=a[++b]);++b<A;)k=o(k,a[b],b,a);return k}Te.exports=ie},45927:Te=>{var ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function a(o){return o.match(ie)||[]}Te.exports=a},36057:Te=>{function ie(a){return function(o){return a==null?void 0:a[o]}}Te.exports=ie},82486:(Te,ie,a)=>{var o=a(9892),k=a(98493),_=a(15052),b="['\u2019]",A=RegExp(b,"g");function W(f){return function(z){return o(_(k(z).replace(A,"")),f,"")}}Te.exports=W},58048:(Te,ie,a)=>{var o=a(36057),k={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},_=o(k);Te.exports=_},34277:Te=>{var ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function a(o){return ie.test(o)}Te.exports=a},88778:Te=>{var ie="\\ud800-\\udfff",a="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",k="\\u20d0-\\u20ff",_=a+o+k,b="\\u2700-\\u27bf",A="a-z\\xdf-\\xf6\\xf8-\\xff",W="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",z="\\u2000-\\u206f",U=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",me="A-Z\\xc0-\\xd6\\xd8-\\xde",be="\\ufe0e\\ufe0f",ne=W+f+z+U,ae="['\u2019]",Se="["+ne+"]",Q="["+_+"]",B="\\d+",F="["+b+"]",M="["+A+"]",y="[^"+ie+ne+B+b+A+me+"]",h="\\ud83c[\\udffb-\\udfff]",w="(?:"+Q+"|"+h+")",P="[^"+ie+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",j="[\\ud800-\\udbff][\\udc00-\\udfff]",T="["+me+"]",K="\\u200d",u="(?:"+M+"|"+y+")",J="(?:"+T+"|"+y+")",se="(?:"+ae+"(?:d|ll|m|re|s|t|ve))?",de="(?:"+ae+"(?:D|LL|M|RE|S|T|VE))?",C=w+"?",Y="["+be+"]?",Ee="(?:"+K+"(?:"+[P,L,j].join("|")+")"+Y+C+")*",xe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",G=Y+C+Ee,je="(?:"+[F,L,j].join("|")+")"+G,Ue=RegExp([T+"?"+M+"+"+se+"(?="+[Se,T,"$"].join("|")+")",J+"+"+de+"(?="+[Se,T+u,"$"].join("|")+")",T+"?"+u+"+"+se,T+"+"+de,re,xe,B,je].join("|"),"g");function Ve(Oe){return Oe.match(Ue)||[]}Te.exports=Ve},98493:(Te,ie,a)=>{var o=a(58048),k=a(90384),_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,b="\\u0300-\\u036f",A="\\ufe20-\\ufe2f",W="\\u20d0-\\u20ff",f=b+A+W,z="["+f+"]",U=RegExp(z,"g");function me(be){return be=k(be),be&&be.replace(_,o).replace(U,"")}Te.exports=me},1074:(Te,ie,a)=>{var o=a(82486),k=o(function(_,b,A){return _+(A?"_":"")+b.toLowerCase()});Te.exports=k},15052:(Te,ie,a)=>{var o=a(45927),k=a(34277),_=a(90384),b=a(88778);function A(W,f,z){return W=_(W),f=z?void 0:f,f===void 0?k(W)?b(W):o(W):W.match(f)||[]}Te.exports=A},24978:(Te,ie)=>{"use strict";var a;a={value:!0};var o=Object.assign||function(W){for(var f=1;f<arguments.length;f++){var z=arguments[f];for(var U in z)Object.prototype.hasOwnProperty.call(z,U)&&(W[U]=z[U])}return W},k=function(){var f=null,z={},U=function(Se){var Q=z[Se.type];return Q&&Q(f,Se)},me=function(Se){if(typeof Se.getState!="function"||typeof Se.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(f!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return f=Se,function(Q){return function(B){return U(B)===!0||Q(B)}}},be=function(Se,Q){if(typeof Se!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+Se);if(typeof Q!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+Se+", "+Q);z[Se]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+Se),z[Se]=Q},ne=function(Se){return Object.keys(Se).forEach(function(Q){return be(Q,Se[Q])})};return{middleware:me,setEntry:be,setEntryMap:ne}},_=function(f){if(f===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return f},setState:function(U){return f=U},wrapEntry:function(U){return function(me,be){return U(f,me,be)}}}},b=function(f,z){var U=z.getState,me=z.setState;return function(be,ne){var ae=ne.type,Se=ne.payload;return ae===f&&me(Se),U()}},A=function(f,z){var U=z.getState,me=z.setState;return function(be,ne){var ae=ne.type,Se=ne.payload;return ae===f&&me(o({},U(),Se)),U()}};ie.gk=k,ie.Z7=_,ie.jA=b,a=A},6056:(Te,ie,a)=>{"use strict";a.d(ie,{md:()=>L,UY:()=>y,qC:()=>P,MT:()=>Se});var o=a(49650);function k(j,T){var K=Object.keys(j);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(j);T&&(u=u.filter(function(J){return Object.getOwnPropertyDescriptor(j,J).enumerable})),K.push.apply(K,u)}return K}function _(j){for(var T=1;T<arguments.length;T++){var K=arguments[T]!=null?arguments[T]:{};T%2?k(Object(K),!0).forEach(function(u){(0,o.Z)(j,u,K[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(K)):k(Object(K)).forEach(function(u){Object.defineProperty(j,u,Object.getOwnPropertyDescriptor(K,u))})}return j}function b(j){return"Minified Redux error #"+j+"; visit https://redux.js.org/Errors?code="+j+" for the full message or use the non-minified dev environment for full errors. "}var A=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),W=function(){return Math.random().toString(36).substring(7).split("").join(".")},f={INIT:"@@redux/INIT"+W(),REPLACE:"@@redux/REPLACE"+W(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+W()}};function z(j){if(typeof j!="object"||j===null)return!1;for(var T=j;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(j)===T}function U(j){if(j===void 0)return"undefined";if(j===null)return"null";var T=typeof j;switch(T){case"boolean":case"string":case"number":case"symbol":case"function":return T}if(Array.isArray(j))return"array";if(ne(j))return"date";if(be(j))return"error";var K=me(j);switch(K){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return K}return T.slice(8,-1).toLowerCase().replace(/\s/g,"")}function me(j){return typeof j.constructor=="function"?j.constructor.name:null}function be(j){return j instanceof Error||typeof j.message=="string"&&j.constructor&&typeof j.constructor.stackTraceLimit=="number"}function ne(j){return j instanceof Date?!0:typeof j.toDateString=="function"&&typeof j.getDate=="function"&&typeof j.setDate=="function"}function ae(j){var T=typeof j;return T}function Se(j,T,K){var u;if(typeof T=="function"&&typeof K=="function"||typeof K=="function"&&typeof arguments[3]=="function")throw new Error(b(0));if(typeof T=="function"&&typeof K>"u"&&(K=T,T=void 0),typeof K<"u"){if(typeof K!="function")throw new Error(b(1));return K(Se)(j,T)}if(typeof j!="function")throw new Error(b(2));var J=j,se=T,de=[],C=de,Y=!1;function Ee(){C===de&&(C=de.slice())}function xe(){if(Y)throw new Error(b(3));return se}function re(Ve){if(typeof Ve!="function")throw new Error(b(4));if(Y)throw new Error(b(5));var Oe=!0;return Ee(),C.push(Ve),function(){if(Oe){if(Y)throw new Error(b(6));Oe=!1,Ee();var qe=C.indexOf(Ve);C.splice(qe,1),de=null}}}function G(Ve){if(!z(Ve))throw new Error(b(7));if(typeof Ve.type>"u")throw new Error(b(8));if(Y)throw new Error(b(9));try{Y=!0,se=J(se,Ve)}finally{Y=!1}for(var Oe=de=C,Re=0;Re<Oe.length;Re++){var qe=Oe[Re];qe()}return Ve}function je(Ve){if(typeof Ve!="function")throw new Error(b(10));J=Ve,G({type:f.REPLACE})}function Ue(){var Ve,Oe=re;return Ve={subscribe:function(qe){if(typeof qe!="object"||qe===null)throw new Error(b(11));function bt(){qe.next&&qe.next(xe())}bt();var Pt=Oe(bt);return{unsubscribe:Pt}}},Ve[A]=function(){return this},Ve}return G({type:f.INIT}),u={dispatch:G,subscribe:re,getState:xe,replaceReducer:je},u[A]=Ue,u}var Q=null;function B(j){typeof console<"u"&&typeof console.error=="function"&&console.error(j);try{throw new Error(j)}catch(T){}}function F(j,T,K,u){var J=Object.keys(T),se=K&&K.type===f.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(J.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!z(j))return"The "+se+' has unexpected type of "'+ae(j)+'". Expected argument to be an object with the following '+('keys: "'+J.join('", "')+'"');var de=Object.keys(j).filter(function(C){return!T.hasOwnProperty(C)&&!u[C]});if(de.forEach(function(C){u[C]=!0}),!(K&&K.type===f.REPLACE)&&de.length>0)return"Unexpected "+(de.length>1?"keys":"key")+" "+('"'+de.join('", "')+'" found in '+se+". ")+"Expected to find one of the known reducer keys instead: "+('"'+J.join('", "')+'". Unexpected keys will be ignored.')}function M(j){Object.keys(j).forEach(function(T){var K=j[T],u=K(void 0,{type:f.INIT});if(typeof u>"u")throw new Error(b(12));if(typeof K(void 0,{type:f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(b(13))})}function y(j){for(var T=Object.keys(j),K={},u=0;u<T.length;u++){var J=T[u];typeof j[J]=="function"&&(K[J]=j[J])}var se=Object.keys(K),de,C;try{M(K)}catch(Y){C=Y}return function(Ee,xe){if(Ee===void 0&&(Ee={}),C)throw C;if(0)var re;for(var G=!1,je={},Ue=0;Ue<se.length;Ue++){var Ve=se[Ue],Oe=K[Ve],Re=Ee[Ve],qe=Oe(Re,xe);if(typeof qe>"u"){var bt=xe&&xe.type;throw new Error(b(14))}je[Ve]=qe,G=G||qe!==Re}return G=G||se.length!==Object.keys(Ee).length,G?je:Ee}}function h(j,T){return function(){return T(j.apply(this,arguments))}}function w(j,T){if(typeof j=="function")return h(j,T);if(typeof j!="object"||j===null)throw new Error(b(16));var K={};for(var u in j){var J=j[u];typeof J=="function"&&(K[u]=h(J,T))}return K}function P(){for(var j=arguments.length,T=new Array(j),K=0;K<j;K++)T[K]=arguments[K];return T.length===0?function(u){return u}:T.length===1?T[0]:T.reduce(function(u,J){return function(){return u(J.apply(void 0,arguments))}})}function L(){for(var j=arguments.length,T=new Array(j),K=0;K<j;K++)T[K]=arguments[K];return function(u){return function(){var J=u.apply(void 0,arguments),se=function(){throw new Error(b(15))},de={getState:J.getState,dispatch:function(){return se.apply(void 0,arguments)}},C=T.map(function(Y){return Y(de)});return se=P.apply(void 0,C)(J.dispatch),_(_({},J),{},{dispatch:se})}}}},75372:(Te,ie,a)=>{"use strict";a.d(ie,{Z:()=>k});function o(_,b){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,f){return W.__proto__=f,W},o(_,b)}function k(_,b){_.prototype=Object.create(b.prototype),_.prototype.constructor=_,o(_,b)}}}]);
